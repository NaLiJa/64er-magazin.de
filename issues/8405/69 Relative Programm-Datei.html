<!DOCTYPE html>
<html lang="de">

<head>
	<title>Relative Programm-Datei</title>
	<meta charset="UTF-8">
	<link rel="stylesheet" href="../style.css">
	<meta name="author" content="Dieter Chocko">
	<meta name="64er.issue" content="5/84">
	<meta name="64er.pages" content="69">
	<meta name="64er.head1" content="Programm-Datei">
	<meta name="64er.head2" content="VC 20 + 8 KByte">
	<meta name="64er.toc_title" content="Relative Programmdatei (VC 20)">
	<meta name="64er.toc_category" content="Programme zum Abtippen|Anwendungen">
	<meta name="64er.index_title" content="Relative Programm-Datei (VC 20)">
	<meta name="64er.index_category" content="Listings zum Abtippen|Anwendung|Datei">
	<meta name="64er.id" content="prgdatei">
</head>

<body>
	<article>
		<h1>Relative Programm-Datei</h1>

		<p class="intro">Dieses Programm ist ein Beispiel, wie man mit dem VC 20 eine relative Datei erstellen und nutzen kann. Das hier vorgestellte Programm hilft den Überblick in seiner Programmsammlung zu behalten.</p>

		<figure>
            <img src="69-1.png" alt="">
			<figcaption>Eingabemaske</figcaption>
		</figure>

		<p>Durch das Sammeln und Kopieren von Programmen ergibt es sich zwangsläufig, daß gewisse Informationen wie Kopieradressen und ähnliches immer wieder gebraucht werden. Diese Angaben legt man gewöhnlich in einer Kartei ab oder schreibt sie auf einen Zettel, der wahrscheinlich bei längerem Nichtgebrauch in den Mülleimer wandert. Daraus resultiert, daß beim späteren Kopieren eines Programmes die verlorenen Informationen in mühsamer Kleinarbeit am Computer erst wieder erarbeitet werden müssen. Dies bewog mich, ein Programm zu konzipieren, mit dem die Fülle der wichtigen Daten von Programmen auf einer Diskette gespeichert und nach Bedarf wieder eingelesen werden können.</p>

		<p>Um das Programm möglichst kurz zu halten und um keine Routinen doppelt zu schreiben, ist es in Blocks/Subroutinen geschrieben, die durch Sprungbefehle immer wieder angesprungen und genutzt werden. Deshalb besitzt das Programm eine Länge von nur 5760 Byte. Der zusätzlich benötigte Speicherplatz für die maximale Länge der Eingaben beträgt 478 Bytes. Mehr zusätzlicher Speicherplatz wird nicht benötigt, da es sich ja um eine relative Datei handelt. Das bedeutet, daß das Programm im laufenden Zustand mit insgesamt 6 238 Byte Länge ohne Schwierigkeiten im VC 20 mit Erweiterungen ab 8 KByte RAM läuft. Das Programm ist ausgelegt, um die Daten von 250 Programmen aufzunehmen. Es können also genügend Daten von Programmen gespeichert werden.</p>

		<p>Programmbeschreibung:</p>

		<p>Nach dem Start mit RUN meldet sich das Programm-Menü auf dem Bildschirm. Von hier aus wird nach der entsprechenden Wahl in die einzelnen Routinen verzweigt. Um die Bildschirmmaske während des Programmlaufes erhalten zu können, mußte darauf verzichtet werden, weitere Menüs zu programmieren. Es sind allerdings die Funktionstasten f1/f5/f7 während des Programmlaufes belegt. Wenn man sie benötigt, wird das im oberen Bildteil optisch und über Lautsprecher auch akustisch angezeigt. Die Anzeige erfolgt in zwei Kombinationen, das heißt<br>
			a) f1 / f5 / f7<br>
			b) f1 / f7<br>
			dabei bedeutet:<br>
			f1 = Rücksprung zum Menü<br>
			f5 = Datenspeicherung<br>
			f7 = Datenänderung.</p>

		<h3>f1 — Dateneingabe</h3>

		<p>Nach Drücken der Taste f1 wird in die Routine zum Dateieröffnen verzweigt. Die Datei wird geöffnet (erstmaliges Öffnen der Datei nimmt einige Minuten in Anspruch) und anschließend nach der Recordnummer gefragt. Die Recordnummer ist die Nummer unter der die gesamte Eingabe auf dem Diskettenlaufwerk abgespeichert und mit der bei Abfrage wieder eingelesen wird. Nach Eingabe der Recordnummer erfolgt der Bildschirmaufbau und die Dateneingabe. Jetzt erfolgt oben beschriebenes Einblenden der Funktionstastenbelegung. Durch Drücken von f1 erfolgt ein Rücksprung ins Menü. Mit f5 wird in die Speicherroutine verzweigt und im oberen Bildteil zum Zeichen des Speicherns das Wort »SAVE« angezeigt. Anschließend wird das Hauptmenü wieder eingeblendet. Mit Druck auf f7 springt das Programm in die Eingabekorrekturroutine. Es können jetzt falsche Eingaben korrigiert werden, welche dann ohne weiteren Tastendruck durch die Speicherroutine auf der Diskette abgelegt werden.</p>

		<h3>f3 — Datenausgabe</h3>

		<p>Die Datenausgabe erfolgt über die Taste f3 vom Menü aus. Die Datei wird geöffnet, und es wird nach der einzulesenden Recordnummer gefragt. Nach Eingabe wird der entsprechende Record über die Einleseroutine (Zeilen 105 bis 123) eingelesen, die Bildschirmmaske neu erstellt und der Record über die Ausgaberoutine der Bildschirmmaske eingeschrieben. Es folgt wieder die Einblendung der belegten Funktionstasten, mit denen, wie schon beschrieben, zu verfahren ist.</p>

		<h3>f7 — Datenänderung</h3>

		<p>Durch Betätigung der Taste f7 wird in die Änderungsroutine gesprungen. Es kann hier auf weitere Programmbeschreibungen verzichtet werden, da das Programm von hier aus die bekannten und schon beschriebenen Subroutinen aufsucht, deren Handhabung und Ablauf schon ausführlich abgehandelt wurde.</p>

		<address class="author">(Dieter Chocko)</address>

		<figure>
			<table class="nobreak0">
				<tr>
					<td>5</td>
					<td>Farbcodierung</td>
				</tr>
				<tr>
					<td>10 - 21</td>
					<td>Menü + Tastenbelegung</td>
				</tr>
				<tr>
					<td>24 - 32</td>
					<td>Dateiöffnungsroutine</td>
				</tr>
				<tr>
					<td>35 - 65</td>
					<td>Dateieingaberoutine</td>
				</tr>
				<tr>
					<td>68 - 84</td>
					<td>Schriftbild F1/F5/F7 + Tastenbelegung</td>
				</tr>
				<tr>
					<td>87 - 102</td>
					<td>Speicherroutine</td>
				</tr>
				<tr>
					<td>105 - 123</td>
					<td>Einleseroutine</td>
				</tr>
				<tr>
					<td>126 - 131</td>
					<td>Änderungsroutine</td>
				</tr>
				<tr>
					<td>134 - 144</td>
					<td>Bildschirmmaske</td>
				</tr>
				<tr>
					<td>147 - 160</td>
					<td>Beschriftung der Bildschirmmaske</td>
				</tr>
				<tr>
					<td>163 - 183</td>
					<td>Korrekturroutine (Eingaben)</td>
				</tr>
				<tr>
					<td>186 - 200</td>
					<td>Striche für Eingabemaske</td>
				</tr>
				<tr>
					<td>203 - 225</td>
					<td>Ausgaberoutine + Schriftbild F1/F7 + Tastenbelegung</td>
				</tr>
				<tr>
					<td>228 - 231</td>
					<td>Tonroutine + Löschroutine für Schriftbilder</td>
				</tr>
				<tr>
					<td>234 - 243</td>
					<td>DATA-Anweisungen (Beschriftungen der Bildschirmmaske/SAVE)</td>
				</tr>
			</table>
			<figcaption>Programmbeschreibung anhand der Zeilennummern</figcaption>
		</figure>

		<figure>
			<table class="nobreak0">
				<tr>
					<td>YN</td>
					<td>Recordnummer</td>
				</tr>
				<tr>
					<td>U1$- UU$</td>
					<td>dienen zur Aufnahme der einzelnen Ein-/Ausgabezeilen</td>
				</tr>
				<tr>
					<td>Z$</td>
					<td>verkettet U1$- UU$ zum Abspeichern und Einlesen</td>
				</tr>
				<tr>
					<td>A - K</td>
					<td>Read-Anweisungen</td>
				</tr>
				<tr>
					<td>RA</td>
					<td>Positionen für Bildschirmmaske</td>
				</tr>
				<tr>
					<td>F</td>
					<td>Bildschirmpositionen</td>
				</tr>
				<tr>
					<td>FS</td>
					<td>Farbpositionen für Striche</td>
				</tr>
				<tr>
					<td>WS</td>
					<td>Verzögerungsschleife</td>
				</tr>
				<tr>
					<td>C1</td>
					<td>Ausgangsposition zum Positionieren der READ-Anweisungen</td>
				</tr>
				<tr>
					<td>S</td>
					<td>Bildschirmpositionen für F1/F3/F7</td>
				</tr>
				<tr>
					<td>S1</td>
					<td>Farbpositionen zu S</td>
				</tr>
			</table>
			<figcaption>Variablenliste</figcaption>
		</figure>

		<figure>
            <pre data-filename="prg.datei" data-name="Relative Programm-Datei"></pre>
			<figcaption>Listing zu »Relative Programm-Datei«</figcaption>
		</figure>

	</article>

</body>

</html>
