#RetroDevStudio.MetaData.BASIC:2049,BASIC V2,uppercase,10,10
10 REM **************************
20 REM *** FAHR - SIMULATOR   ***
30 REM *** BY 0. BARKE 1/ 84  ***
40 REM **************************

100 REM TON VORBEREITEN
110 SI=54272:POKE SI+24,15 
120 POKE SI+1,248:POKE SI+8 ,6:POKE SI+15,9
130 POKE SI+5,154:POKE S1+12,9:POKE SI+19,9 

200 CL=6:GOSUB 6200
210 PRINT CHR$(142);CHR$(8)
220 PRINT"",""
230 PRINT," FAHR - SIMULATOR "

270 GOSUB 5000
300 IF PEEK(12800)=120 THEN 330
310 C=0:FOR A=12800 TO 13229:READ B:POKE A,B:C=C+B:NEXT A 
315 IF C<>49567 THEN PRINT "PRUEFSUMMENFEHLER!":STOP
320 FOR A=704 TO 766:READ B:POKE A,B:NEXT A 
330 POKE 251,102:POKE 883,8
340 PRINT:PRINT " WEITER ? ";

350 GOSUB 6000
360 IF X$<>"J" AND X$<>"Y" THEN 350 
400 CL=6:GOSUB 6200
410 PRINT" *** SCHWIERIGKEITSGRAD ***"
420 PRINT" TASTE   FUER"
430 PRINT"   A  :  ANFAENGER"
440 PRINT"   B  :  FORTGESCHRITTENE"
450 PRINT"   C  :  LANGJAEHRIGE AUTOFAHRER"
460 PRINT"   D  :  PROFI"
470 PRINT"   E  :  SELBSTMOERDER"
480 PRINT"FAHRBAHNBREITE  (A-E) : ";
490 GOSUB 6000:BR$=X$
500 BR=70-ASC(X$):IF BR<1 OR BR>5 THEN 490 
510 PRINT BR$
520 :
530 PRINT"GESCHWINDIGKEIT (A-E) : "; 
540 GOSUB 6000:GE$=X$:IF X$="@" THEN GOSUB 6400:GOTO 530 
550 GE=70-ASC(X$):IF GE<1 OR GE>5 THEN 540 
560 PRINT GE$ 
570 POKE 252,BR*3+6:POKE 253,GE*2.5 
580 FOR A=1 TO 800:NEXT A 

600 REM *** VORBEREITUNG
610 PRINT""
620 CR=0:SY=PEEK(251):POKE 881,3
630 SYS 13094

640 REM *** COUTOWN
650 FOR A=9 TO 0 STEP -1
660 PRINT "";A
670 FOR B=1 TO 300:NEXT B,A
680 PRINT "  "

700 REM *** START
710 SYS 12800
720 IF PEEK(881)=255 THEN 1000:REM IM ZIEL

730 REM *** CRASH
740 CR=CR+1
750 PRINT""SPC(15)"*CRASH*"
760 SI=54272
770 POKE SI+4,129:POKE SI+11,129:POKE SI+18,129:REM *** TON
780 FOR A=1 TO 10:POKE 53294,4:B=11:POKE 53294,1:NEXT A
800 FOR B=1 TO 10:PRINT SPC(15)"*CRASH*"
810 FOR A=1 TO 120:NEXT A
820 PRINT SPC(15)"*CRASH*"
830 FOR A=1 TO 120:NEXT A,B
840 PRINT SPC(15)"       "
850 POKE SI+4,0:POKE SI+11,0:POKE SI+18,0
860 IF PEEK(197)=46 THEN 400
870 :
880 X=PEEK(870)+5+BR*1.5 
890 POKE 53262,X*8 AND 255
900 POKE 53264,-(X*8>255)*128 
910 FOR A=1 TO 2000:NEXT A 
920 GOTO 700
930 :

1000 REM *** SPIELENDE 
1010 PRINT""," SPIEL BEENDET " 
1020 FOR A=1 TO 1500:NEXT A 

1100 REM *** AUSWERTUNG 
1110 POKE53269,0 
1120 PRINT "",""
1130 PRINT," RESULTAT: " 
1140 IF CR THEN CL=7:GOSUB 6220 
1150 IF CR>15 THEN PRINT""; 
1200 PRINT" FAHRBAHNBREITE : ";BR$
1210 PRINT" GESCHWINDIGKEIT: ";GE$
1220 PRINT" CRASHES        : ";CR 
1250 P=INT((7-GE)4*(7-BR)3/2CR)*100
1260 IF CR>15 THEN P=0
1270 IF P>55 THEN CL=5:GOSUB 6200
1280 PRINT"";P;"PUNKTE."

1300 REM
1310 FOR A=1 TO 1000:NEXT A
1320 IF P=0 THEN PRINT" TROTZDEM";
1330 PRINT" NOCH EINMAL ? ";
1340 GOSUB 6000
1350 IF X$="N" THEN POKE 54296,0:CL=6:GOSUB 6200:PRINT:END
1360 IF X$<>"J" AND X$<>"Y" THEN 1340
1370 CL=6:GOSUB 6200:GOTO 400
1380 :

5000 REM *** ANLEITUNG 
5060 PRINT" VERSUCHEN SIE IHR FAHRZEUG" 
5080 PRINT" UNFALLFREI BIS ZUM ZIEL ZU STEUERN." 
5100 PRINT" MIT DEN BEIDEN CRSR-TASTEN KOENNEN" 
5120 PRINT" SIE NACH LINKS ODER RECHTS LENKEN." 
5170 PRINT" CASHES ERGEBEN MINUSPUNKTE !" 
5180 RETURN

6000 REM *** GET-ROUTINE 
6010 POKE 53269,0 
6020 GET X$:GET X$ 
6030 FOR A=1 TO 4 
6040 PRINT MID$("-",A,1);""; 
6050 GET X$ 
6060 IF X$<>"" THEN PRINT" ";:RETURN 
6070 B=111
6080 NEXT:GOTO 6030 

6200 REM *** FARBE SETZEN 
6210 POKE53281,CL 
6220 POKE53280,CL 
6230 RETURN

6400 REM *** FAHRBAHNCHARAKTER UNO -SYMBOL 
6410 PRINT" CHARAKTER (1-9) ? "; . 
6420 GOSUB 6000:X=VAL(X$):IF X=0 THEN 6420 
6430 PRINT X$:POKE 883,(X-1)*10 
6450 PRINT" SYMBOL ? ";

6460 GOSUB 6000
6470 IF X$="" THEN PRINT X$;:GOTO 6460
6480 IF X$=CHR$(13) THEN PRINT:RETURN 
6490 PRINT X$:SY=PEEK(1274) 
6500 IF SY=32 OR SY=96 THEN 6450 
6510 POKE 251,SY 
6520 FOR A=1 TO 500:NEXT:RETURN
6530 :

8000 REM *** MASCHINENPROGRAMM 
8010 DATA 120,169,245,141,24,208,32,119,50,169,21,141,24,208,173,31,208,32,116 
8020 DATA 50,14,31,208,176,40,32,67,50,14,31,208,176,32,32,243,50,32,67,50,32 
8030 DATA 230,50,14,31,208,176,18,32,230,50,14,31,208,176,10,206,112,3,208,197 
8040 DATA 206,113,3,16,192,88,96,162,0,142,0,220,174,14,208,173,1,220 
8050 DATA 201,127,240,15,201,251,208,23,138,24,105,2,144,14,110,16,208 
8060 DATA 208,9,138,56,233,2,176,3,14,16,208,141,14,208,162,127,142,0 
8070 DATA 220,96,0,162,60,44,162,4,134,101,232,232,232,134,98,134,100,160 
8080 DATA 152,132,97,160,192,132,99,169,32,160,39,145,99,136,16,251,162,24,24 
8090 DATA 169,32,188,80,3,145,97,200,145,97,165,251,145,99,136,145,99,152,101 
8100 DATA 252,168,169,32,145,97,200,145,97,165,251,145,99,136,145,99,202,56,165 
8110 DATA 97,233,40,133,97,176,3,198,98,56,165,99,233,40,133,99,176,199,198 
8120 DATA 100,165,100,197,101,176,191,201,59,208,11,162,24,189,80,3,157,81 
8130 DATA 3,202,16,247,96,164,253,162,0,202,208,253,136,208,250,76,67,50,174 
8140 DATA 80,3,240,21,232,236,114,3,202,176,14,173,115,3,205,4,220,176,6,36 
8150 DATA 88,48,13,16,5,44,4,220,80,6,232,236,114,3,144,3,202,48,247,138,56 
8160 DATA 237,80,3,142,80,3,133,88,96,169,0,133,88,234,141,112,3,169,13,162 
8170 DATA 24,157,80,3,202,16,250,165,252,201,22,144,4,169,20,133,252,169,39 
8180 DATA 56,229,252,141,114,3,165,252,74,24,105,15,10,10,10,141,14,208,162 
8190 DATA 0,169,1,157,0,216,157,0,217,157,0,218,157,0,219,169,32,157,0,60,157 
8200 DATA 0,61,157,0,62,157,0,63,202,208,225,169,216,141,15,208,162,0,142,16 
8210 DATA 208,142,23,208,142,27,208,142,28,208,142,29,208,142,21,208,160,11 
8220 DATA 140,255,7,140,255,63,160,1,140,46,208,32,119,50,32,116,50,162,128 
8230 DATA 142,21,208,162,0,142,31,208,96 
8240 :

8400 REM *** SPRITE
8410 DATA 0,0,0,0,60,0,0,60,0,0,126,0,6,126,96,6,126,96,7,255
8420 DATA 224,6,126,96,6,126,96,0,255,0,0,255,0,0,255,0,1,255
8430 DATA 128,1,255,128,29,255,184,29,255,184,31,255,248,29
8440 DATA 255,184,29,255,184,0,255,0,0,126,0 


# *** BEI STEUERUNG DURCH JOYSTICK FOLGENDE AENDERUNGEN *** 
# 315 IF C<>50043 THEN ... 
# 5100 PRINT" MIT DEM STEUERKNUEPPEL KOENNEN"  
# 8040 DATA 206,113,3,16,192,88,96,162,224,142,2,220,174,14,208,173,1,220  
# 8050 DATA 201,251,240,15,201,247,208,23,138,24,105,2,144,14,110,16,208  
# 8060 DATA 208,9,138,56,233,2,176,3,14,16,208,141,14,208,162,255,142,2 





