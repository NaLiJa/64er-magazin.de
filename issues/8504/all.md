# Jedermann-Computer

Mit dem PC 128 beginnt die Zeit der »Jedermann-Gompu-ter«, der Systeme, die einerseits billig genug sind, daß man sie sich privat leisten kann — und deren Leistung andererseits für zahlreiche berufliche Anwendungen ausreicht. Am besten läßt sich das am Beispiel Textverarbeitungzeigen: DerPC 128 kann am Bildschirm 80 Zei-chen/Zeile darstellen; er hat genügend Tasten, daß (deutsche oder andere) Sonderzeichen keine Probleme mehr machen — und er erlaubt im CP/M-Modus den Einsatz bewährter professioneller Programme. Der Fortschritt läßt sich leicht ermessen, wenn man nach der Lektüre des Testberichtes einen Blick auf die Übersichten über 80-Zeichen-Karten und Textprogramme wirft — und sich dann noch des Ärgers mit dem CP/M-Modul für den 64er erinnert.

Natürlich gab es schon für den VC 20 und den 64 eine ganze Reihe von betrieblichen Anwendungen — aber vor allem in dem wichtigen Bereich der Verwaltung beziehungsweise Büroarbeit stieß man doch so schnell an die Grenzen von Komfort und Leistung, daß einem der Einsatz häufig auch da verleidet wurde, wo er prinzipiell möglich gewesen wäre.

Der PC 128 ist für alle interessant, die vom C 64 aufsteigen wollen, ferner für diejenigen, denen der Heimcomputer nicht professionell genug war — und für jene Anwender, die ein preiswertes CP/M-System suchen (schätzungsweise 2 500 bis 3000 Mark mit einem Floppy Laufwerk und monochromem Monitor). Eswirdjetzt allerdings Zeit, daß die CP/M-80-Versionen von' Standardprogrammen wie Wordstar oder dBase jetzt ebenfalls in eine Jedermann-Preislage rutschen; wo derartige Software »gebündelt« mit der Hardware zusammen verkauft wird, ist sie ja schon nahezu Gratis-Dreingabe. Andernfalls müßten manche Softwarehäuser demnächst zu ihren Programmen einen PC 128 dazuschenken...

Michael Pauly, Chefredakteur

# Musikmesse Frankfurt

> Auch auf der diesjährigen Frankfurter Musikmesse war der C 64 wieder der Star unter den Homecomputern. Neben unzähliaen Midiprogrammen gab es auch einiges an interessanter Software, die ohne teure Zusatzhardware läuft.

Sound Sampling war der Hit dieser Messe. Mehr noch als der teuerste Sound Sampler, das 250 000 Mark teure »Synclavier«, war der sogenannte »Kurzweil« vom Publikum umlagert. Dieses »nur« 30000 Mark teure Keyboard kann unter anderem perfekten Flügelklang produzieren und wird auf Chips gespeichert. Doch man muß nicht unbedingt Millionär sein, um Froschquaken in Chips zu bannen. Mit einem C 64 und der nur 199 Mark teuren Sound-Sampling-Soft-und Hardware von Musicsa-les Limited ist man als Normalverbraucher auch gut versorgt.

Es muß ja nicht gleich der Originalklang eines Bechsteinflügels sein. Alle mit einem Mikrofon einfangbaren Klänge lassen sich mit diesem Gerät in den C 64 bannen. Maximal 1,4 Sekunden lange Klänge haben im Speicher Platz. Für Nachbars Bello reicht dies allemal. Und der wird Augen machen, wenn sein Bellennicht nur vorwärts, sondern auch rückwärts aus dem Speicher klingt. Oder als Echo. Mit der Loopfunktion kann Bello auch singen, das heißt den Ton anhalten, solange man die Taste drückt. Und in verschiedenen Tonhöhen, je nachdem welche Taste der aufgesetzten zwei Oktaven Minitastatur man drückt. Akustiker können sich den Kurvenverlauf des Klanges am Bildschirm in 128 Einzelseiten in Form eines Oszillo-gramms ansehen. Oder den Lautstärkenverlauf der 32 harmonischen Obertöne von Bellos Bellen als dreidimensionaler Fourierplot am Bildschirm betrachten. Kreative Soundbastler haben auch die Möglichkeit, eigene Kurven per Light Pen auf den Bildschirm zu malen und die von der Software in Klang verwandeln zu lassen.

Musikprofis wird interessieren, daß das System midikompatibel ist. Bis zu vier Sounds lassen sich gleichzeitig speichern und über die aufsteckbare Mini-Tastatur im Bereich von acht Oktaven spielen. Außerdem kann man den Sampler als Echogerät oder Harmonizer für unglaubliche Klangeffekte verwenden.

Music Maker, Play-along-Album und Prosynth heißen drei weitere Programme derselben Firma. Mit ihnen läßt sich der interne SID-Chip ansteuern. Prosynth ist ein midikompatibler Realtime- und Step-by-Step-Se-quenzer mit umfangreichen Möglichkeiten. Lieder lassen sich also Ton für Ton über die alphanumerische Tastatur eintippen, oder auch über die Miniklaviatur direkt einspielen. Bei der Wiedergabe können gleichzeitig der SID-Chip und ein oder auch mehrere angeschlossene, midifähige Synthesizer klingen. Prosynth kostet zirka 54 Mark.

Zur Musikbox wird der C 64 mit den drei Play-along-Alben. Auf ihnen sind je zwölf Songs ziemlich perfekt programmiert, abspielbereit gespeichert. Es gibt Beatles-Songs, Klassik und Pop-Hits. Zu jedem Album erhält man ein kleines Büchlein mit den zugehörigen Texten und Noten. Über die Miniklaviatur kann man zu den Songs noch eine eigene Solostimme spielen, sofern man Lust hat. Jedes Album kostet zirka 54 Mark.

Music Maker ist ein ganz einfaches Musikprogramm mit acht Preset Sounds, einfacher Möglichkeit der Klangsynthese und einem 256-Tonsequenzer. Dieses Programm ist mehr für die Spielanwendung gedacht und kostet zirka 56 Mark.

In England werden diese Programme von Commodore vertrieben. Man kann nur hoffen, das dies auch in Deutschland möglichst bald der Fall sein wird.

Das zu diesem Programmpaket passende Midi-Interface kostet zirka 80 Mark. Außerdem wird es einen Acht Kanal-Ton-Expander und ein musikgerechtes externes Keyboard zusammen für zirka 560 Mark von Musicsales Limited geben.

## Computer für Heimorgler

Die Selbstbau-Orgeln der Wersi DX-Serie lassen sich über die RS232-Schnittstelle von einem C 64 steuern. Zwei Softwarepakete werden hierzu momentan angeboten: das Kompositionsprogramm Nicole (zirka 245 Mark) und das Klangeinstellprogramm Wersibox (zirka 298 Mark, drei Disketten).

Nicole gestattet die Eingabe von Musikstücken in einer Art Texteditor. Die Möglichkeiten sind hervorragend. Jeder Ton kann mit eigener Lautstärke und Klangfarbe versehen werden. Insgesamt stehen 20 polyphone Instrumentenspuren und eine Schlagzeugspur zur Verfügung. Das entspricht einer 21kopfigen Band. Mit Wersibox kann man die umfangreichen Klangeinstellmöglichkeiten der DX-Orgeln vom Computer aus vornehmen.

Musipack C 64 und VC 20 der italienischen Firma Jen, bestehen aus einer 49-Ton-Klaviatur, einer Interface-card mit neuem achtstimmigen Soundgenerator und der Software. Mit dem Programm lassen sich Klänge synthetisieren und Sequenzen aufzeichnen. Der Sequenzer der C 64-Version ist sechs-, der der VC 20-Ver-sion dreistimmig. Die Musiksysteme kann man auch realtime über die Klaviatur spielen.

Für Midi-Freaks blieben nach dieser Messe kaum noch Wünsche offen. Sogenannte Midirecorder existieren mittlerweile in den verschiedensten Modifikationen. Jede Firma, die etwas auf sich hält, hat mittlerweile ihre Version im Angebot. Der Trend dieser Messe: Notenschreib-Programme für Midisysteme. Die Firmen Steinberg Research, Jelling-haus Musiksysteme und Micro Music demonstrierten solche Software. Mit einem Midirecorder eingespielte Musikstücke werden von diesen Programmen in Notenschrift verwandelt und am Bildschirm gezeigt, oder über einen Drucker beziehungsweise Plotter ausgegeben. Dies ermöglicht auch weniger theoretisch versierte Musiker ihre Kompositionen zu notieren. Ein weiteres Plus für die Computerisierung der Musik. Der Trend dieser Musikmesse war klar: Was Midi ist, weiß mitt-lerweilejeder, darüber wird nicht mehr diskutiert. Was nun interessiert, sind spezielle Anwendungen des Systems, wie Notendruck und spezielle Interfaces für diverse Instrumente wie Schlagzeug oder andere akustische Instrumente sowie musikergerechte Software.

Eines ist absolut sicher — die zunehmende Computerisierung der Musik ist nicht mehr aufzuhalten.

(Richard Aicher/aa)

# Die Sportler kommen

> Auf der Consumer Electronics Show in Las Vegas haben sich die Sportspiele eine Menge Fans an Land gezogen. Die sportliche Betätigung bei Rugby, Baseball, Golf oder Tennis ist wieaer gefragt, zumindest auf dem Bildschirm.

Microcomputer Games hat für Boxfans das »Computer Title Bout«, für Baseballfans das »Computer Statis pro Baseball«, für Footballfans das »Computer Football Strategy« und für Golffans das »Tournament Golf« im Angebot. Auch Imagic ist mit »Touchdown Football«, »Tournament Tennis« und »Grand Slam Baseball« kräftig vertreten. Epyx wartete mit zwei Nachfolgern für bekannte Sportpiele auf: Summer Games II, mit Radrennen, Fechten oder Tunierrei-ten. Der Basketballhit One-on-One wird jetzt durch Two-on-Two ergänzt. Activision setzt nach wie vor mit »Decathon« auf den Zehnkampf. In Deutschland dürften diese Spiele es etwas schwer haben, sich durchzusetzen. Zum einen sind die meisten Sportarten wie Baseball, American Football oder Basketball nicht sehr bekannt, zum anderen ist das Regelwerk oft äußerst kompliziert (auch in den Computerspielen). Dennoch ist die Ausführung dieser Spiele sehr gut gelungen.

(aa)

## Ferien mit dem Computer

Das Programm des Computercamps Ferienzentrum Schloß Dankern wurde ausgebaut. Unter dem neuen Namen »Compu-Camp GmbH« werden in diesem Jahr zwei Computercamps mit erweitertem Kursangebot veranstaltet. Es gibt »Ferien mit dem Computer« für Einsteiger, Fortgeschrittene und »Cracks«.

Es ist jetzt auch für die jüngsten Computer-Kids gesorgt. Anfängerkurse in Logo führen auch die unter Zehnjährigen spielerisch in die Welt des Computers ein. Die Kurse in Basic-1, Basic-2 sowie Einführung in die Maschinensprache, gehören mittlerweile bereits zum Standardprogramm vom Com-puCamp.

Ein zweites Camp in Borgwedel an der Schlei bietet auch Kurse in Pascal. Interessant sicherlich für Schüler, die hier ihr Lernprogramm aus dem Informatikunterricht an der Schule ausbauen möchten.

Wasserskilaufen und Windsurfen, Schwimmbad, Spielplatz und Tennis, Ausflüge und Disco sorgen für den richtigen Ausgleich zum »Hacken«.

Die Kurse sind als wöchentliche Einzelkurse angelegt. Da sie aufeinander aufbauen, können sie wochenweise zum individuellen Ferien-Kursprogramm kombiniert werden. Preise: 560 Mark/eine Woche, 980 Mark/ zwei Wochen, 1490 Mark/drei Wochen in Borgwedel. Schloß Dankern 650 Mark/eine Woche, 1190 Mark/zwei Wochen, 1790 Mark/drei Wochen. Alle Preise inklusiv Kursgebühren, Vollpension und Freizeitprogramm. Termine sind die bundesdeutschen Oster-, Sommer- und Herbstferien.

Info: CompuCamp GmbH, Goßlerstr. 21, 2000 Hamburg 55, Telefon: (0 40) 86 23 44 und (0 40) 8612 55

## 5. Berliner Computermesse

Unter dem Motto »Handel-Handwerk-Hobby« findet am 27. April 1985 die 5. Berliner Computermesse mit Computerbörse in der Alten TU-Mensa, Hardenbergstraße 34 (Nähe Bahnhof Zoo) in Berlin, von 10.00 Uhr bis 18.00 Uhr, statt. Es kommen gebrauchte und neue Personal Computer, Homecomputer, Peripherie, Literatur und Programme zur Ausstellung beziehungsweise zum Verkauf sowohl durch örtliche als auch auswärtige Anbieter. Ein Bereich ist für Privatanbieter und Computerclubs als Kontaktecke vorgesehen. Parallel dazu werden zum Thema Fotosatz und Personal Computer von einigen Herstellern Programme und Geräte gezeigt. Info: Maurice R. Ganz, Bürknerstr. 17, 1000 Berlin 44,Tel. (0 30) 6 92 6178

## Neue Kopierprogramme

Zwei neue, schnelle Kopierprogramme gibt es bei der Firma Eurosystems aus Holland. Turbocopy kopiert einzelne Files einer Diskette. Es lädt alle Programme 5mal schneller und speichert sie 3,6mal schneller als normal. Laut Angaben des Herstelles ermöglicht es unter anderem ein Zwei-Minuten Backup, kann eine neue Diskette in 15 Sekunden formatieren und ist Menü-gesteuert. Das zweite Programm, genannt Turbonibbler, ist ein Backup-Programm, das eine komplette Kopie einer Diskette in drei Minuten schafft, und zwar inklusive aller Lesefehler und den Inhalt der beschädigten Sektoren. Außerdem hat man die Möglichkeit, einzelne Spuren (auch Halbspuren) zu kopieren. Der Hersteller betont, daß diese Programme nur für die Privatanwendung bestimmt sind, um sich zum Beispiel Sicherheitskopien anzulegen. Turbocopy kostet 49 Mark und der Turbonibbler 55 Mark.

Info: Eurosystems computerproducts, V. Donkersloot, Verlengde Parkweg 6, 6717 GN EDE Holland, Tel. (0 83 80) 3 2146

## Robotext

Das ML-Robotext-Interface ist ein umfassendes Textsystem für den C 64 oder SX 64 und einer Brother-Schreibmaschine der CE- oder EM-Serie. Robotext ist ein bidirektionales Interface, mit eingebauter Software für Textverarbeitung und Adreßverwal-tung. Durch die bidirektionale Datenübertragung können sämtliche Texte mit der Tastatur der Schreibmaschine eingetippt werden. Das hat den Vorteil, daß die Tastenbelegung mit dem späteren Druckbild übereinstimmt. Alle Sonderzeichen und Umlaute werden auch auf dem Bildschirm dargestellt. Die Menüführung der Textverarbeitung kann in drei Sprachen erfolgen: Deutsch, Französisch und Italienisch. Zusätzlich zu den Standardfunktionen einer Textverarbeitung bietet Robotext eine Funktion zum automatischen Unterstreichen, das Einsetzen von Adressen aus der Adreßverwal-tung. Die Adreßverwaltung kann bis zu 500 Datensätze pro Diskette verarbeiten und verspricht eine schnelle Zugriffszeit.

Info: Märki und Lenz, Bernstr. 15, CH-3114 Wichtrach, Tel. (031) 982152

## Computer-Sendungen

Der SFB-Computer-Club beginnt ab dem 26.3. mit einer Sendereihe, die sich hauptsächlich an den Einsteiger (und solche, die es werden wollen) wendet. Außer einem gewissen Interesse für die Computerei soll man keinerlei Voraussetzungen benötigen, um beim SFB-Computer-Club mitmachen zu können. Auch der Norddeutsche Rundfunk hat sich in diese Sendereihe eingeklinkt. Folgende Sendetermine wurden genannt: 26.3., 2.4., 9.4., 16.4., 23.4. und 30.4. jeweils von 18.30 Uhr bis 19.00 Uhr. Programmlistings sollen sich auf Videotext, Tafel 188 finden. Begleitblätter erhält man beim deutschen Video Institut, Budapester Str. 44, 1000 Berlin 30, gegen Einsendung eines adressierten Rückumschlags mit Drucksache-Vermerk und 1,10 Mark frankiert. Studio Hamburg und Videal (Alsterkamp 17, 2000 Hamburg 13, Tel. 040/4101027) vertreiben eine begleitende Videofassung dieser Sendereihe. Auf der Videokassette (Preis: 98 Mark) sollen noch über die Sendereihe hinausgehende Informationen enthalten sein.

## Micro-Treff ’85

Die Arbeitsgemeinschaft Micro-Computer im Deutschen Amateur Radio Club (DARC) veranstaltet das 8. »Micro-Computer-Meeting 1985« in Ludwigshafen am Samstag, den 18.5.1985 von 10.00 Uhr bis 18.00 Uhr und am Sonntag, den 19.5.1985 von 10.00 Uhr bis 16.00 Uhr im Willi-Graf-Haus — am Ruthenplatz — Leuschnerstraße 151, 6700 Ludwigshafen/Rhein.

Samstag, den 18.5.1985, 19.00 Uhr »Gemütliches Beisammensein« der Microrunde am Computerstammtisch im »Kleinen Kreuz« am Ruthenplatz. Interessenten melden sich bitte beim Empfang.

InfQ: Kontaktadresse für Fachfragen: Kuno Schöllhorn, DJ7WX, Telefon: 06 21/56 83 70, Rubensstraße 1, 6700 Ludwigshafen

## Plot-Modul für FX-80-Drucker

Exakte Plots nach Art moderner A4-Plotter soll jeder FX-80-Drucker ausführen, wenn das intelligente Vorschaltgerät Transpool FX der Adcomp benutzt wird.

Neben dem HP-GL Befehlssatz des HP 7470 verfügt Transpool FX über weitere 21 Befehle, die automatisch schraffieren, logarithmische und lineare Achsen plotten oder weiche Kurven über bestehende Koordinaten berechnen.

Der Preis liegt bei etwa 1100 Mark zuzüglich Mehrwertsteuer.

Info: Adcomp Datensysteme GmbH, 01-gastr. 15, 8000 München 19, Tel. (0 89) 129 80 45, Telex 5 216 271

## Video-Lernkassette für Commodore 64

Auf der Computer-Messe in Frankfurt wurde eine Videokassette vorgeführt, die in sehr anschaulicher Weise die komplette Bedienung des C 64 zeigt.

Unter dem Motto: Zuhause in Ruhe Basic lernen, zeigt diese Videokassette den Einstieg in die Computersprache Basic bis hin zu ersten Programmen.

Dieser »Basic Video Kurs« ist für Anfänger und Einsteiger bestimmt und hat in vier Lernschritten eine Laufzeit von 60 Minuten, (VHS-Beta-V2000).

Info: Datavision, Postfach 97 0310, 6000 Frankfurt 97

## Card/Print + G

Das Allround-Interface wird in Deutschland jetzt von CE-TEC-Trading vertrieben.

Info: CE-TEC-Trading GmbH, Lange Reihe 29, 2000 Hamburg 1, Tel. 0 40/2 8010 45

## Die Kuriositäten-Ecke

Wir wollen hier von Fall zu Fall in der Kuriositäten-Ecke über lustige Dinge, Besonderheiten, interessante Begebenheiten und Neuerungen aus dem Computermarkt berichten.

- Ein Thailänder namens Thitti Siamwalla entwickelte den ersten Computer, der mit arabischen Schriftzeichen arbeitet. Der gesamte Koran befindet sich jetzt auf nur fünf Disketten. 
- Die Frau des Apple-Gründers Steve Wozniak wurde beim Taschengeld-Verdienen beobachtet: Sie riß auf der Olympiade 1984 in Los Angeles Eintrittskarten ab. Das Leben muß hart sein als Multimillionärin...
- In den USA wurde ein großer neuer Mailboxbetrieb gegründet. Er nennt sich BBS-Directory und bietet in seinem Auswahlmenü unter anderem auch den Menüpunkt »Break into a Pentagon Computer« an.
- Nachdem die amerikanische Zeitschrift »Computer Games« zuviel Platz frei hatte, setzte sie einfach ein Bild von Fernsehliebling Tom Selleck (Magnum) in eben diesen freien Platz und kommentierte: »Tom Selleck has absolutely nothing to do with Computers«. Wer weiß, vielleicht sehen Sie in unserer nächsten Ausgabe ein Bild von Heino...
- Dieselbe Zeitschrift schrieb zum Eintritt des Politikers Alexander Haig in den Commodore-Vorstand die bissige Bemerkung »Buy the Plus/4 or eat lead, commies!« (Kommunisten, kauft den Plus/4 oder es gibt Blei!).
- Wußten Sie, daß es im Textabenteuer »Sorcerer« 70 verschiedene Todesarten gibt? — Das übertrifft alle bisherigen Adventures, eingenommen Zork (28), Planetfall (41) und Deadline (nur zwei Todesarten).

# Leserforum

## Forth-Computer gesucht

Wo gibt es einen Computer, der Forth im ROM verankert hat?

Thomas Hartinger

In England wurde vor einiger Zeit ein Computer namens Jupiter Ace hergestellt, der Forth fest im Betriebssystem implementiert hatte. Die Produktion dieses Computers wurde allerdings zwischenzeitlich eingestellt. Wir empfehlen Ihnen den C 64 mit einem Forth-Modul. Ein Steck-Modul ist schließlich auch ein ROM, und Sie haben Forth sofort nach dem Einschalten präsent.

## Dame zu vermarkten

Ich werde demnächst mit meinem Programm »Dame 8.8« fertig. Was muß ich tun, um es zu vermarkten; was ist in juristischer Hinsicht zu beachten? Muß ich dafür Steuern zahlen?

Joachim Pimiskern

Am besten scheint es uns, sich eine Firma zu suchen, der Sie das Copyright verkaufen können. Ein Programm selbst zu vertreiben, bedingt Verwaltungsarbeiten, Reklamationen, eventuell Lohnkosten und eine Kontrolle über Einnahme und Ausgabe. Die Buchführung müssen Sie auf alle Fälle genau und dem Finanzamt vorzeigbar gestalten. Steuern zahlen müssen Sie dann, wenn Ihr Einkommen einen bestimmten Betrag übersteigt.

Achten Sie beim Verkauf des Programms darauf, daß Sie einen Vertrag von der Vertriebsfirma bekommen. Sie können entweder eine Beteiligung am Umsatz verlangen oder gleich Ihre gesamten Rechte an diesem Programm verkaufen.

Die Adressen von Software-Anbietern finden Sie im Anzeigenteil.

## Wollen Sie antworten?

Wir veröffentlichen auf dieserSeite auch Fragen, die sich nicht ohne weiteres anhand eines guten Archivs oder aufgrund der Sachkunde eines Herstellers beziehungsweise Programmierers beantworten lassen. Das ist vor allem der Fall, wenn es um bestimmte Erfahrungen geht oder um die Suche nach speziellen Programmen. Wenn Sie eine Antwort auf eine hier veröffentlichte Frage wissen — oder eine andere, bessere Antwort als die hier gelesene, dann schreiben Sie uns. Antworten publizieren wir in einer der nächsten Ausgaben. Bei Bedarf stellen wir auch den Kontakt zwischen Lesern her.

## Informationen gesucht

Ist Ihnen Literatur bekannt, die sich im weitesten Sinne mit der Programmierung von Lernprogrammen befaßt?

Ist Ihnen auch Software bekannt, die im Sportunterricht einsetzbar wäre?

Kennen Sie Möglichkeiten, Computer und Video hardware- und softwaremäßig miteinander zu verbinden (C 64 und Bildplatte oder Video)?

Thomas Trude

Es gibt einige Bücher, vor allem in der amerikanischen Literatur, die sich mit der Erstellung von Programmen im allgemeinen befassen. Auch für den Bereich Spiele gibt es einige, zum Teil sehr spezielle Bücher. Bücher, die sich mit der Programmierung von Lernprogrammen befassen, sind uns nicht bekannt.

Zur zweiten Frage: Ja, der in 64'er 1/85 erschienene Handballtrainer.

Zur dritten Frage: Die amerikanische Firma Digital Research entwickelte ein Interface namens Vidlink, mit dessen Hilfe man einen Pioneer LD700 Laserdiskspieler an den C 64 anschließen kann. So kann man in wählbarer Geschwindigkeit bestimmte Bildsequenzen ablaufen lassen oder auf jedes der 50000 auf die Platte passenden Bilder einzeln zugreifen. Ein Mischen der Bilder ist aber nicht möglich. Ansteuerbar ist Vidlink per mitgelieferter Software. Digital Research Deutschland weiß allerdings nichts davon; das Produkt wird aller Voraussicht nach aufgrund der unterschiedlichen Fernsehnorm in Europa nicht auf den Markt kommen. Ein Videobild können Sie außerdem auf indirektem Weg per Digitizer für eigene Programme benutzen.

## Ein Bug in der 1541?

Wenn ich ein Programm habe, das mit sequentiellen Files arbeitet, und ein solches Programm nach dem Abspeichern eines Files editiere und es dann mit SAVE»@:Name«,8 abspeichere, habe ich statt des Programms die Daten des sequentiellen Filesauf derDiskette stehen. Woher kommt dieser sehr fatale und ärgerliche Fehlerund wie kann man ihm abhelfen?

Alexander Picke

Es handelt sich hierbei um einen Fehler im DOS des 1541-Laufwerkes. Durch ein Abspeichern mit »@:Name« kann es aufgrund dieses Fehlers zu einer Veränderung des Blockverbindungszeigers auf der Diskette kommen — es wird auf ein anderes File oder einen leeren Sektor der Diskette zugegriffen. Dem Fehler abhelfen können Sie, indem Sie folgendermaßen vorgehen: Speichern Sie Ihr Programm nicht auf die »kaputte« Art, sondern löschen erst die vorhergegangene Version von der Diskette. Speichern Sie erst dann Ihre neueste Programmversion (ohne den Klammeraffen) ab.

## Merge-Probleme?

Ich schaffe es nicht, zwei Programme hintereinander zu laden und dann das Listing von beiden zu erhalten.

Martin Hossdorf

Nehmen Sie sich dazu eine Befehlserweiterung, die den Merge-Befehl besitzt. Laden Sie das erste Programm mit »LOAD« und dann das zweite mit »MER-GE«. Jetzt haben Sie beide Programme hintereinander als ein einziges im Speicher. Wie man Programme ohne Befehlserweiterungen zusammen MERGEd, war schon in verschiedenen Ausgaben unserer Zeitschrift unter der Rubrik Tips & Tricks zu lesen.

## Schreibmaschine an Computer lernen?

Ich suche ein Programm, das Schreibmaschinenkenn tnisse perBildschirm vermittelt. Möglichst auch mit Umlauten. Wer kennt ein solches Programm?

Christian van der Linde

Programme, die das Schreibmaschinenschreiben auf spielerischem Wege lehren (für den internationalen Standard ohne ä, ö, ü und :) gibt es mehrere: Type Attack von Sirius Software, Keys to Typing von Batteries Included, Master Type von Scarborough Systems und verschiedene andere. Leider sind diese Programme derzeit nur in den USA erhätlich. Ihr Commodore-Händler müßte sie Ihnen aber beschaffen können.

## C 16-Software gesucht

Es sind weder Spiele, Programme noch Literatur über den C16 im Handelzu erhalten. Kann man Programme für den VC 20auch auf dem C 16 anwenden?

Tania Olschewski

VC 20/C 64-Programme, die keine PEEK-, POKE- und SYS-Befehle enthalten, laufen ohne Änderungen auch auf dem C 16.

Im übrigen gibt es inzwischen C 16-Literatur sowohl von Commodore selbst als auch von Data Becker. C 16-Software ist ebenfalls bei vielen Firmen in Entwicklung oder schon im Vertrieb.

Und natürlich nehmen wir uns auch im 64’er-Magazin des C 16 an. Ab der nächsten Ausgabe werden Sie regelmäßig C 16-Listings bei uns finden.

## Fragen Sie doch

Selbst bei sorgfältiger Lektüre von Handbüchern und Programmbeschreibungen bleiben beim Anwender immer wieder Fragen offen. Viel mehr Fragen ergeben sich bei Computer-Interessenten, die noch keine festen Kontakte zu Händlern, Herstellern oder Computerclubs haben. Sie können der Redaktion Ihre Fragen schreiben oder Probleme schildern (am einfachsten auf der Karte »Lesermeinung«). Wirveranlassen, daß sie von einem Fachmann beantwortet werden. Allgemein interessierende Fragen und Antworten werden veröffentlicht, die übrigen brieflich beantwortet.

# PC 128 - der Profi

> 128 KByte RAM, 64 KByte ROM, voll kompatibel zum C 64 und CP/M-fähig — mit dem neuen PC 128 setzt Commodore wieder einmal Maßstäbe. Welche Maßstäbe das sind, erfahren Sie in diesem ersten Testbericht.

Nicht jeder Computer, der PC heißt, ist ein Personal Computer. Der PC 128 (Bild 1) zum Beispiel ist noch eine ganze Menge mehr. Auf ihm laufen nämlich neben Wordstar und dBase II auch noch Summer Games und Ghost Busters. Er vereinigt damit zwei für Commo-dore-Homecomputer ungewöhnliche Eigenschaften in sich: Er ist voll kompatibel zu einem anderen Com-modore-Computer, nämlich zum C 64, und er ist dank seines Z80A-Zweitprozessors uneingeschränkt CP/M-fähig. Dabei ist der PC 128 weder ein C 64-kompatibler CP/M-Computer noch ein CP/M-fähiger C 64, sondern ein Computer der neuen Commodore-Generation, zu der auch der C 16 und der Plus/4 gehören. Nur hat man dem PC 128 als Starthilfe in einen hart umkämpften Markt die Fähigkeit verliehen, zwei der größten Softwarepotentiale überhaupt, nämlich CP/M- und C 64-Software, verarbeiten zu können.

Eigentlich besteht der PC 128 daher aus drei Computern auf einer Platine, nämlich einem C 64, dann natürlich einem PC 128 und schließlich noch einer CP/M-Maschine. Dementsprechend existieren drei grundsätzliche Betriebsarten, in denen der PC 128 jeweils in einer anderen internen Hardware-Konfiguration läuft. Nach dem Einschalten ohne Steckmodul und CP/M-Disket-te im angeschlossenen Laufwerk befindet sich der Computer im normalen PC 128-Modus.

Die Einschaltmeldung auf dem für den PC 128 entwickelten 1902-Moni-tor versetzt jeden C 64-Besitzer (und wohl auch viele Anwender größerer Computer) in ehrfürchtiges Staunen: »122365 Bytes Free« heißt es da; gewiß nicht alltäglich für einen 8-Bit-Computer.

Der Bildschirm hat im Textbetrieb eine Organisation von 40 Zeichen mal 25 Zeilen. Darüber hinaus kann im PC 128- und im CP/M-Modus auch eine Darstellung mit 80 Zeichen mal 25 Zeilen gewählt werden. Die Grafikauflösung beträgt normalerweise 320 mal 200 Punkte, genau wie beim C 64. In den Betriebsarten C 128 und CP/M ist zusätzlich eine 640 mal 200 Punkte Darstellung möglich.

Der Commodore PC 128 kann die 16 Grundfarben des C 64 darstellen; in den Betriebsarten C 64 und PC 128 dazu auch noch die bekannten acht Sprites. Für den Commodore 64-kompatiblen Betrieb ist das Basic 2.0 enthalten, für den CP/M-Betrieb wird das Betriebssystem CP/M 3.0 plus von der Diskette geladen.

Wie beim C 16 und Plus/4 steht auch bei diesem neuen Commodore wieder ein fest im ROM eingebauter Maschinensprachemonitor zur Verfügung. Der einzige Unterschied zur in der Ausgabe 1/85 beschriebenen C 16-Version dieses Monitors ist die Adresseneingabe, die in den meisten Fällen fünfstellig (hexadezimal) erfolgen muß. Die erste Stelle bestimmt dabei die ausgewählte Speicherbank.

Profi-Basic 7.0

Im PC 128-Normalmodus ist das Basic 7.0verfügbar, das alle Befehle des 3.5 Basic des C 16 und Plus/4 enthält. Daneben stehen alle Basic 4.0 Befehle der »großen« CBM 80xx-Computer zur Verfügung. So werden jetzt beispielsweise relative Files direkt vom Basic unterstützt. Doch damit nicht genug. Das Basic 7.0enthäIt darüber hinaus noch eine Reihe weiterer Befehle (Tabelle 1).

Strukturierte Programmierung wird — wie vom 3.5 Basic bereits bekannt — durch Befehle wie DO... WHILE...UNTIL...EXIT...LOOP und IF...THEN...ELSE unterstützt. Der Nachteil der IF-Anweisung, nur auf eine Zeile beschränkt zu sein, ist durch die neuen 7.0-Befehle BEGIN und BEND behoben worden. Alle zwischen BEGIN und BEND stehenden Anweisungen gelten als zum jeweiligen THEN oder ELSE zugehörig. Das sieht in einem Programm dann so aus:

10 REM DEMO
20 IFX = 10 THEN BEGIN
30 Y=3
40 Z = 0
50 BEND:ELSE BEGIN
60 Y=7:Z = 5
70 BEND

Die Zeilen 30 und 40 in diesem Beispiel werden ausgeführt, falls X den Wert 10 hat, andernfalls wird Zeile 60 ausgeführt. Zwischen BEGIN und BEND können beliebig viele Anweisungen stehen.

Für das Laden und Abspeichern von beliebigen Speicherbereichen, beispielsweise von Maschinenprogrammen, stehen die Befehle BLOAD und BSAVE (Binary LOAD, Binary SAVE) zur Verfügung.

Zur Erzeugung eines Bildschirmfensters gibt es den WINDOW-Be-fehl, derprofessionelles Bildschirmlayout erleichtert.

Das Konzept der verschiedenen RAM- und ROM-Banks, die vom Betriebssystem verwaltet werden, macht einige Besonderheiten auch bei den Basic-Befehlen erforderlich. So wirken alle direkt auf den Speicher zugreifenden Befehle (wie PEEK, POKE und SYS) nur auf die gerade eingeschaltete Speicherbank. Mit dem BANK-Kommando kann diese voreingestellte Bank geändert werden.

Insgesamt ist das Basic 7.0 so umfangreich und stellt so viele Funktionen zur Verfügung, daß eine nähere Betrachtung aller Befehle den Rahmen dieses Beitrages sprengen würde. In einem großen Testbericht über den PC 128 werden wir demnächst ausführlicher auf dieses Basic eingehen.

## Der Grafik-Profi

Sowohl die vom C 64 bekannten Sprites als auch die im C 16 und Plus/4 softwaremäßig erzeugten Shapes lassen sich beim PC 128 mittels Basic-Befehlen wie MOVESHA-PE, MOVESPR, COLLISION, BUMP und einer Reihe anderer mehr sehr komfortabel kontrollieren.

MOVESHAPE bewegt zum Beispiel ein Shape zur angegebenen Grafik-Koordinate, MOVESPR macht dasselbe mit einem Sprite. COLLISION dient zur Sprite-Sprite und Sprite-Hintergrund-Kollisionsabfrage, nebenbei auch noch zur Kontrolle eines Lichtgriffels, neuhochdeutsch auch als Lightpen bezeichnet. Als Parameter für dieses Kommando wird die gewünschte Art der Abfrage sowie eine Zeilennummer angegeben. Tritt dann im weiteren Verlauf die entsprechende Kollision auf, dann wird das laufende Basic-Programm unterbrochen und das Unterprogramm, das an der angegebenen Zeilennummer beginnt, ausgeführt. Danach wird die Verarbeitung an der Stelle fortgesetzt, wo das Programm unterbrochen worden ist. Um festzustellen, welches Sprite die Kollision ausgelöst hat, verwendet man die BUMP-Funktion.

Zusammen mit vielen weiteren Befehlen zur Sprite- und Shape-Kon-trolle sowie für hochauflösende Grafik ergeben sich natürlich ungeahnte Möglichkeiten für den Basic-Pro-grammierer. Aber das ist nicht nur bei der Grafikprogrammierung der Fall.

## Der Musik-Profi

Zur Tonerzeugung steht auch beim PC 128 wieder der im C 64 millionenfach bewährte 6581-SID (Sound Interface Device)-Baustein zur Verfügung. Selbstverständlich ist der SID auch unter CP/M ansprechbar. Der PC 128 dürfte damit wohl einer der wenigen CP/M-Com-puter sein, der nicht nur serienmäßig über eine hochauflösende Farbgrafik, sondern auch auch über einen dreistimmigen Synthesizer verfügt.

Die Musikerzeugung wird vom Basic mit einer Reihe leistungsfähiger Befehle unterstützt. Das PLAY-Kom-mando beispielsweise erzeugt Töne und Melodien entsprechend einem als Parameter übergebenen String, der alle Informationen wie Oktave, Ton-Hüllkurvennummer, Lautstärke, Kanalnummer, Filter und die Namen der zu spielenden Noten enthält. Als Notennamen werden C,D,E,F,G,A und B verwendet, letzteres statt dem in Deutschland üblichen H. Natürlich können auch Halbtöne und unterschiedliche Notenlängen berücksichtigt werden.

Mit der Hüllkurvennummer hat es dabei eine besondere Bewandtnis. Es sind zehn Hüllkurvennummern vorgesehen, wobei jede einem Musikinstrument entspricht. Alle zehn Hüllkurven sind beim Einschalten des Gerätes schon vordefiniert: Klavier, Trompete, Xylophon und sieben weitere Instrumente lassen sich somit ohne großes Herumprobieren mit einem einzigen Basic-Befehl erzeugen. Außerdem kann man die vordefinierten Hüllkurven verändern oder völlig neu belegen. Dazu dient der ENVELOPE-Befehl, mit dem für jede der zehn Nummern Attack, Decay, Soustain, Release sowie die Wellenform (Rauschen, Rechteck, Sägezahn, Dreieck und auch Ringmodulation) festgelegt werden kann.

## Die Profi-Peripherie

An Anschlüssen verfügt der PC 128 über einen User-Port, einen Datasetten-Port, einen Modulatorausgang, einen Audio-Eingang, einen Video-Ausgang, einen digitalen RGB-Ausgang, einen seriellen Port zum Anschluß der Commodore-Pe-ripherie-Geräte sowie über zwei Joystick-Ports (Bilder 3 und 4).

Das ebenfalls neue Diskettenlaufwerk 1741 (Bild 1) wie auch das beim Modell PC 128/D (Bild 2) integrierte Laufwerk ist in den Betriebsarten Commodore 64 und PC 128 kompatibel mit der Floppy 1541. Durch doppelseitige Benutzung der Diskette ergibt sich allerdings eine Speicherkapazität von maximal 350 KByte (formatiert) pro Diskette. Das Double-Density, Double-Sided (doppelte Aufzeichnungsdichte — beidseitige Aufzeichnung)-CP/M-Format erlaubt eine Speicherkapazität von bis zu 410 KByte. Die Übertragungsrate zwischen Diskettenlaufwerk und PC 128 beträgt im Commo-dore-64-Modus wie gewohnt 300 Bytes pro Sekunde. Im PC-128-Modus beträgt die Übertragungsrate bereits immerhin 1500 Zeichen pro Sekunde, liegt also etwa im »Hypra-Load<<-Bereich. Richtig interessant wird’s dann im CP/M-Modus. Hier sollen bis zu 3500 Zeichen pro Sekunde übertragen werden.

Der neue 1902-Farbmonitor fällt da schon ein wenig aus dem Rahmen, da er nur über zwei (statt drei) verschiedene Betriebsarten verfügt, nämlich RGB und Composite Video. Der RGB-Modus wird hauptsächlich im Zusammenhang mit dem CP/M-Modus des PC 128 verwendet werden, da er auch bei 80 Zeichen noch über eine gestochen scharfe Schriftdarstellung in jeder Farbe verfügt. Leider kann aber der 1902-Monitor im RGB-Modus keine Grafik darstellen, so daß man für solche Zwecke besser auf den Composite-Eingang umschaltet. Auch in diesem Modus sind 80 Zeichen am Bildschirm einwandfrei lesbar.

Mit diesen beiden Peripheriegeräten, nämlich 1571-Floppy-Lauf-werk und 1902-Farbmonitor, ist ein PC 128-System zusammengestellt, das kaum den Vergleich mit einem 16-Bit-System zu scheuen braucht, insbesondere auch nicht im Hinblick auf den Speicherplatz.

## Der Speicher-Profi

Der gesamte RAM-Bereich des PC 128 umfaßt 128 KBytes, aufgeteilt in zwei Banks zu je 64 KByte. RAM-Bank 1 enthält Zeropage, Stackbereich und Bildschirmspeicher; 60 KByte stehen nur für das Basic-Programm zur Verfügung. Der Speicherbereich für die Variablen befindet sich in RAM-Bank 2 und umfaßt 62 KByte. Doch damit noch nicht genug. In Stufen zu je 128 KByte kann der RAM-Bereich auf bis zu 512 KByte erweitert werden, wobei der zusätzliche Speicher als RAM-Disk angesprochen wird. Diese RAM-Disk kann wie ein normales Diskettenlaufwerk verwaltet werden, nur mit dem Unterschied, daß die Speicherung der Daten in Chips vorgenommen wird und nicht auf einer Magnetscheibe. Der Vorteil liegt klar auf der Hand: Operationen mit der RAM-Disk verlaufen wesentlich schneller. Der Nachteil: Nach dem Ausschalten sind diese Daten weg, sie müssen also vorher auf einen normale Diskette oder Kassette gespeichert werden.

Der erreichbare RAM-Speicher in Zusammenhang mit dem wahlweise ladbaren CP/M 3.0-Betriebssy-stem beträgt ebenfalls 128 KByte. Auch hier läßt sich der Speicher mit der externen RAM-Disk-Option auf insgesamt 512 KByte erweitern.

Das Betriebssystem des PC 128 belegt 16 KByte ROM für sich allein, das sehr umfangreiche Basic 7.0 ist in 32 KByte ROM untergebracht. Zu diesen 48 KByte ROM kommen noch weitere 16 KByte, die das Basic und das Betriebssystem des C 64 enthalten und die nur in der C 64-Betriebs-art aktiv sind.

C 64-Steckmodule passen auch in den Modul-Port des PC 128. Spezielle PC 128-Steckmodule mit einer Kapazität bis zu 32 KByte können natürlich ebenfalls eingesteckt werden. Stellt das Betriebssystem nach dem Einschalten fest, daß ein C 64 Modul eingesteckt ist, dann wird automatisch zur entsprechenden Betriebsart übergegangen und das Modulprogramm gestartet. Normalerweise gelangt man vom PC 128 aber über den »GO 64<<-Befehl in den C 64-Modus.

## Die Profi-Tastatur

Das Gehäuse des PC 128 ist im modernen und eleganten ultraflachen Styling gehalten und hebt sich wohltuend vom klobigen Einerlei der VC 20/C 64/C 16-Gehäuse ab. Die Tastatur macht insgesamt einen sehr soliden und funktional durchdachten Eindruck (Bild 5). Zusätzlich zur normalen Schreibmaschinentastatur gibt es zur schnellen Zahleneingabe einen numerischen Tastenblock mit 14 Tasten.

Auffällig sind vier farblich abgesetzte Viererblocks von Tasten oberhalb von Schreibmaschinentastatur und Ziffernblock. Ganz rechts handelt es sich dabei um die von allen Commodore-Homecomputern bekannten Funktionstasten, die nach dem Einschalte wie von C 16 und Plus 4 gewohnt, mit Basic-Befeh-len belegt sind. Im C 64-Modus können die Funktionstasten jedoch aus Gründen der vollständigen Kompatibilität nur in der gewohnten Art und Weise vom Anwender-Programm abgefragt werden.

Links neben diesem Block finden sich die vier Cursortasten. Die restlichen acht Sondertasten sind mit zum Teil sehr speziellen, aber durchweg nützlichen Funktionen belegt.

Die ESC-Taste hat die gleiche Bedeutung wie beim C 16/Plus 4. Gefolgt von einer Buchstabentaste führt ESC eine Reihe von Sonderfunktionen wie Bildschirm-Scrollen, zeilenweises Löschen oder Cursor positionieren aus.

Mittels der Alt-Taste können auch auf der Tastatur nicht vorhandene Zeichen eingegeben werden, indem die Alt-Taste gedrückt wird, während man auf dem Ziffernblock den dezimalen Code des gewünschten Zeichens tippt.

Die Line-Feed-Taste wirkt wie »Shift Return« beim C 64; der Cursor springt an den Anfang der nächsten Bildschirmzeile, ohne daß ein Befehl ausgeführt würde. Durch Drücken der Taste »No Scroll« wird ein Listing angehalten; bei beliebigem Tastendruck geht’s dann weiter.

Die Help-Taste ist eine sinnvolle Hilfe bei der Fehlersuche. Falls ein Programm mit Fehlermeldung abbricht, reicht ein Druck auf die Help-Taste, um die fehlerhafte Zeile am Bildschirm aufzulisten. Der Teil der Zeile, in dem der Fehler aufgetreten ist, wird dabei blinkend dargestellt.

Sehr wichtig ist die 40/80-Zeichen-Taste. Wie bei »Shift Lock« handelt es sich um eine einrastende Taste. Je nachdem, in welcher Stellung sich diese Taste beim Einschalten oder bei einem Reset befindet, geht der PC 128 entweder in den 40- oder in den 80-Zeichen-Modus. Die 80-Zei-chen-Darstellung ist natürlich nur im C 128-Modus oder unter CP/M möglich. Sind 80 Zeichen gewählt, dann wird der vom C 64 übernommene VIC II Video Chip, der auch beim PC 128 für Bildschirmdarstellung, Grafik und Sprites sorgt, einfach abgeschaltet.

Doch keine Angst, der Bildschirm bleibt nicht dunkel, denn jetzt übernimmt ein vorsorglich eingebauter zweiter Video-Chip mit dem prosaischen Namen 8563 die Kontrolle. Dieser Baustein ist nämlich im Gegensatz zu dem in erster Linie aus Kompatibilität zum C 64 eingebauten VIC II in der Lage, 80 Zeichen pro Zeile zu kontrollieren. Als angenehmer Nebeneffekt verdoppelt sich dabei auch die Grafikauflö-sung. 640 mal 200 Punkte können jetzt auf dem Bildschirm einzeln angesprochen werden.

Der PC 128 enthält zwei Zentraleinheiten, nämlich einmal einen 8502-Prozessor (kompatibel zum 6510 und 6502), der sowohl im Normal- als auch im C 64-Modus aktiv ist, und einen Z80A-Prozessor (4 MHz), der unter CP/M die Kontrolle über den Computer übernimmt. Der 8502-Prozessor wird in der Betriebsart C 64 mit 1 MHz getaktet, kann im PC 128-Modus jedoch wahlweise mit 1 oder 2 MHz betrieben werden. Die Umschaltung ist softwa-remäßigmöglich, bedingt aberwie-derum die Abschaltung des VIC II. Auch hier übernimmt der 8563 die Kontrolle.

Wer nun beim Stichwort CP/M an das völlig verunglückte CP/M-Mo-dul zum C 64 denkt, der ist auf dem Holzwege: Der im PC 128 arbeitende Z80A wird mit einer Taktfrequenz von 4 MHz betrieben. Mit dem zum PC 128 gehörenden neuen seriellen Floppy Disk Laufwerk 1571 ergibt sich unter CP/M eine Datenübertragungsrate von bis zu 3500 Bytes pro Sekunde — das ist mehr als zehn mal so schnell wie beim guten alten 1541-Laufwerk.

## Der CP/M-Profi

Bleiben wir noch einen Moment beim CP/M. Es handelt sich dabei um eine neuere Version dieses 8-Bit-Betriebssystems für Z80-Prozesso-ren. CP/M 3.0 plus ist in der Lage, auch über 64 KByte hinausgehende Speicherbereiche einigermaßen sinnvoll zu verwalten.

Der PC 128 wird einfach dadurch in den CP/M-Modus versetzt, daß man die CP/M-Boot-Diskette ins Laufwerk einlegt und den Computer einschaltet (oder einen Reset auslöst). Das Betriebssystem erkennt, daß es sich beim ersten Sektor der Diskette um einen Autostart-Sektor handelt (die ersten drei Bytes eines Autostart-Sektors sind »CBM«), lädt und startet das in diesem Sektor vorhandene Maschinenprogramm automatisch. Dieses Programm stellt die erforderliche Speicherkonfiguration ein und lädt seinerseits Teile des CP/M-Systems nach. Dann geht die Kontrolle an den Z80A-Prozessor über, der das System schließlich vollständig lädt.

Das Diskettenformat unter CP/M ist direkt IBM-kompatibel, es können also beispielsweise CP/M-Dis-ketten, die mit einem Kaypro oder Osborne CP/M-Computer geschrieben wurden, gelesen werden. Das Textverarbeitungsprogramm Wordstar als Testprogramm war beispielsweise problemlos lauffähig. Damit ist für den PC 128-An-wender die Tür zu professioneller Software weit aufgestoßen.

## Der kompatible Profi

Doch nicht nur unter CP/M ist professionelle Software verfügbar. Auch für den C 64 gibt es jede Menge Programme, die das Attribut »professionell« ohne weiteres verdienen. Damit stellt sich sofort die Frage, ob tatsächlich alle C 64-Pro-gramme auch auf dem PC 128 lauffähig sind. Bekanntermaßen ist bei derartigen Fragen eine gesunde Portion Mißtrauen durchaus angebracht. Also:

Der PC 128 ist im C 64-Modus vollständig kompatibel zum C 64. Punkt.

Damit ist eigentlich alles gesagt. Jedes C 64-Programm ist ohne Einschränkungen voll lauffähig auf dem PC 128, egal ob Basic- oder Maschinenprogramm, ob Steckmodul oder Raubkopie. Es gibt allerdings dennoch eine Einschränkung, aber die betrifft nicht den PC 128, sondern die neue C 1571-Floppy-Disk. Dieses Laufwerk ist zwar zu 95% kompatibelzum 1541-Laufwerk, versagt aber bei einigen ganz speziellen Programmen und Kopierschutzverfahren, die das Betriebssystem der Floppy-Station zu sehr beuteln. Beispielsweise funktioniert unser bewährtes »Hypra-Load« mit dem neuen Laufwerk nicht mehr. Mit einer 1541, die natürlich weiterhin mit dem PC 128 verwendet werden kann, gab es dagegen keinerlei Probleme.

## Fazit

Der neue Commodore PC 128 ist ein Gerät einer völlig neuen Leistungsklasse, angesiedelt im Bereich zwischen Homecomputer und Personal Computer. Ganz sicher ist er, bei einem Preis, der sich wohl zwischen 1200 und 1400 Mark bewegen wird, zumindest auf mittlere Sicht keine Ablösung für den C 64, der für die Hälfte zu haben ist.

Der PC 128 ist aber die ideale Maschine sowohl für den »Aufsteiger«, der vom C 64 kommt als auch für den Einsteiger, der einen Computer nicht (nur) zum Spielen sucht, sondern im geschäftlichen Bereich ernsthaft damit arbeiten will.

Dank des CP/M-Betriebssystems ist aus dem Stand jede Menge professioneller Software aus allen Bereichen verfügbar und natürlich auch jede Menge Programmiersprachen. Unter CP/M läuft ja fast alles, was es auch auf Großrechenanlagen gibt, von Cobol und Fortran bis hin zu ausgefeilten Datenbanksystemen.

Und schließlich ist da auch noch das Riesenangebot an C 64-Soft-ware, die zwar auch so schon läuft, die aber durch vielfach nur kleine Änderungen auch für den PC 128-Modus verfügbar gemacht werden kann. Man stelle sich Vizawrite oder Textomat mit 80 Zeichen am Bildschirm vor, oder ein Datenbanksystem, da die 512 KBytes RAM wirklich ausnutzt.

Doch das ist noch Zukunftsmusik. Fest steht jedoch, daß der Markt der Heim- und Personal Computer mit dem PC 128 um einen großen Star bereichert worden ist.

(ev)

# Mit 80 fängt das Leben an

> Gemeint sind 80 Zeichen pro Zeile auf dem Bildschirm. Sehr gute Leistungen versprechen neue 80-Zeichenkarten mit den entsprechenden, darauf abgestimmten Textverarbeitungs- und Kalkulationsprogrammen.

Als die Väter des C 64 sich nun vor fast vier Jahren an den Entwurf des Computers machten, waren gute Monitore noch sehr teuer. Die Überlegung der Konstrukteure ging damals davon aus, daß in den meisten Fallen ein Fernseher als Datensichtgerät verwendet wird. Deshalb entschlossen sie sich, den C 64 mit einer Bildschirmdarstellung von 40 Zeichen pro Zeile zu konstruieren, um die Augen der Anwender zu schonen. Diese Einschränkung ist durchaus berechtigt. Kaum ein Fernseher ist in der Lage, so viele Einzelpunkte, wie sie für die scharfe Abbildung von 80 Zeichen pro Zeile notwendig sind, nebeneinander darzustellen.

Ganz anders verlief die Entwicklung im professionellen Bereich. Bei den Büro- oder Personal Computern ist eine Darstellung von 80 Zeichen auf dem Bildschirm die Regel. Mit gutem Grund, denn die dort zum Einsatz kommenden Programme, wie Textverarbeitung, Tabellenkalkulation oder Geschäftsgrafik gewinnen an Übersichtlichkeit, wenn 80 Zeichen in einer Zeile dargestellt werden. Glücklicherweise sind Monitore in den letzten Jahren nicht nur billiger, sondern auch wesentlich besser geworden. Für einen guten monochromen Monitor, die Voraussetzung für eine 80-Zeichenkarte, müssen kaum mehr als 400 Mark investiert werden. Für etwas mehr als das Doppelte sind sogar schon gute Farbmonitore erhältlich. Ihr Einsatz, in Verbindung mit einer 80-Zeichen-karte, ist aber wenig empfehlenswert, denn auch sie verfügen meistens nicht über die notwendige Auflösung.

Die grundsätzliche Frage ist, wie bringe ich den C 64 dazu, auf einmal doppelt so viele Zeichen darzustellen? Abgesehen von der nicht besonders anwenderfreundlichen Möglichkeit per Software, die Zeichenmatrix des Commodore zu halbieren, bleibt nur die Hardware-Lösung in Form der 80-Zeichenkarten.

Unterschiedlichste Preise und Leistungsmerkmale erschweren die Auswahl. Welche Karte ist für welchen Anwendungszweck die beste? Oder gibt es eine Karte, die für alles richtig ist? Diese oft gestellten Fragen deuten schon darauf hin, daß der C 64 nicht ohne weiteres dazu bewegt werden kann, seine Bildschirmdarstellung zu ändern. Der Aufwand dafür erfordert einiges an elektronischem Wissen und viel Fertigungstechnik. Jede 80-Zeichenkarte muß weitgehend selbständig ein Videosignal aufbauen, an das hohe Ansprüche gestellt werden: Das Signal soll konstant, störungsfrei und normengerecht sein. Trotzdem müssen alle vom Computer kommenden Impulse möglichst verzögerungsfrei umgewandelt und abgebildet werden. Damit ist aber nur die eine Seite des Problems angesprochen.

Der Anwender möchte mit seiner 80-Zeichenkarte natürlich auch etwas anfangen können. Wie schön wäre es, wenn Top-Programme wie Vizawrite 64 oder Superbase 64 plötzlich über mehr Bildschirmzeichen verfügen würden. Das ist aber leider unmöglich. Selbst dann, wenn es gelingen würde, das Programm zu starten, stünde nur der halbe Bildschirm zur Verfügung, denn diese Programme wurden für den Standard-C 64 konzipiert. Viele Hersteller von 80-Zeichenkarten haben dies erkannt und haben zumindest eine zu ihrer Karte passende Textverarbeitung im Programm. Zu den von uns getesteten Karten ist immer eine Textverarbeitung und in einem Fall sogar eine Tabellenkalkulation vorhanden. Bei einigen Karten sind diese Programme sogar schon im Preis inbegriffen. Lohnt es sich nun, eine 80-Zeichenkarte zu kaufen, oder ist es besser mit Textverarbeitungsprogrammen zu arbeiten, die ohne eine solche Erweiterung auskommen? Entscheidendes Kriterium für die Beantwortung dieser Frage ist die Qualität der zu den 80-Zeichenkarten passenden Textverarbeitungsprogrammen. Weisen sie, neben dem Vorteil eine ganze Druckzeile darstellen zu können, gleiche oder ähnliche Leistungsmerkmale wie beispielsweise Vizawrite 64 auf? Wir waren überrascht, wie gut zum Beispiel Protext für die Decam-Karte oder der Roos »Textverarbeiter« sind.

Protext erfüllt für 198 Mark alle nur erdenklichen Ansprüche. Es können sogar Windows und Spalten definiert werden. Ein Terminalmodus sorgt für die Übermittlung von Texten und Daten mit einem Akustikkoppler. Deutsche Umlaute sind für dieses Programm selbstverständlich. Insgesamt stehen fast fünfzig verschiedene Befehle und Einstellparameter zur Verfügung. Das sind Leistungsmerkmale, die kaum ein Textverarbeitungsprogramm für den Standard-C 64 besitzt. Allerdings kosten Decam-Karte und Protext zusammen auch fast 500 Mark, ein nicht unerhebliches Argument.

Außer dem Einsatz in Verbindung mit fertigen Programmen ist der Nutzen einer 80-Zeichenkarte für den Anwender relativ gering. Im Test zeigte sich, daß es zwar kein Handicap ist, mit 80 Zeichen pro Zeile zu programmieren, aber auch keinen besonderen Vorteil mit sich bringt. Zusammengefaßt beschränken sich die Anwendungsgebiete der 80-Zeichenkarten auf die Textverarbeitung, die Tabellenkalkulation und natürlich die Datenfernübertragung.

Wir wollen Ihnen nun vier typische Vertreter dieser Hardwareerweiterungen vorstellen. Die bewährte Karte von Roos Elektronik (Bild 1), die neue Decam-Karte ZK-80-plus (Bild 2) die Jann EX-80 (Bild 3) und die XL 80 von General Automation (Bild 4). Die wichtigsten Leistungskriterien des Testfeldes haben wir für Sie in Tabelle 1 zusammengestellt.

## Die Anpassungsfähige

Mit einem extrem schönen und gut lesbaren Schriftbild stellt sich die Roos-Karte (Bild 1) vor. Sie bietet das von ihr erzeugte Video-Signal in einer Cinch-Buchse an. Zusätzliche Video-Buchsen erlauben die Verbindung der 80-Zeichenkarte mit dem Video-Ausgang des C 64, zur Mischung beider Signale. Sofort nach dem Einschalten wird eine Besonderheit dieser Karte offensichtlich, sie verfügt über eine genaue Uhr, die in der oberen rechten Ecke immer mitläuft. Natürlich kann die Uhr gestellt oder auch angehalten werden. Besonders reizvoll ist es allerdings, die Uhr in Programme einzubauen, beziehungsweise abzufragen. Alle Sonderfunktionen (siehe Tabelle 1) der Karte werden entweder einfach durch Tastendruck, oder programmgesteuert ausgelöst. Durch einen kleinen Trick ist es sogar möglich, den Basic-Speicher um 1 KByte zu erweitern, wenn der, durch die 80-Zeichenkarte überflüssig gewordene Videospeicher des Computers zugeschaltet wird. Die Entlastung des 6510-Mikroprozes-sors durch die Erzeugung des Videobildes auf der Karte bringt zwei positive Nebeneffekte mit sich: Die Verarbeitungsgeschwindigkeit des Computers und der Datentransfer von der Diskette werden leicht beschleunigt. Das Arbeiten mit der Roos-Karte ist angenehm und ermüdungsfrei. Das Bild steht ruhig und gerät weder durch PRINT-Anwei-sungen oder beim Scrollen ins Flimmern.

Außer dem guten Gesamtkonzept der Karte ist einer der wesentlichsten Pluspunkte das auf Kassette mitgelieferte Textverarbeitungsprogramm. Obwohl nur 8 KByte lang, weist es eine außergewöhnliche Leistungsfähigkeit auf. Beginnend bei einem Textspeicher von 42320 Zeichen bis zu komfortablen Editier-und Formatbefehlen ermöglicht dieses Programm sinnvolles arbeiten. Zu den Funktionen gehört das Suchen, Markieren, Kopieren und Verschieben von einzelnen Wörtern und Textteilen. Der markierte Bereich wird dabei revers dargestellt, was eine wesentliche Hilfe ist. Hat man einen Text mit 80 Zeichen pro Zeile eingetippt, kann der Text auf dem Bildschirm, unter Berücksichtigung der Formatierung, angeschaut werden. Man sieht also das spätere Druckbild. Zur Textformatierung kann man beispielsweise wählen zwischen Blocksatz mit geradem, linkem und rechtem Randausgleich und Zentrierung, welche die Wörter automatisch in die Zeilenmitte setzt. Die ausführliche, gut verständliche deutsche Anleitung weist den Anwender in die Handhabung der Druckersteuerung, der Verwendung von Tabulatoren, der Kopf-und Fußzeilen sowie dem Umgang mit Textdateien anderer Textverarbeitungsprogramme, ein. Ein separates Programm sorgt dafür, daß fast jeder Drucker, gleich mit welchem Interface, betrieben werden kann.

In der getesteten Version stand zwar kein deutscher Zeichensatz zur Verfügung. Bei Bedarf soll aber, laut Hersteller, ein Zeichensatz-ROM mit Umlauten erhältlich sein. Damit stellt die Roos-Karte und ihr Textverarbeitungsprogramm eine gelungene Kombination dar.

## Das Superding

Besonders gespannt waren wir auf die neue Decam-Karte ZK-80-plus (Bild 2), denn schon die erste Version, die wir in Ausgabe 12/84 getestet haben, konnte recht gute Leistungsmerkmale aufweisen. Wir wurden nicht enttäuscht. Die neue Karte beherrscht nicht nur alle Funktionen der alten Karte, sie wurde sogar noch wesentlich verbessert. Die neue Decam-Karte ist die einzige 80-Zeichenkarte, die ohne großen Aufwand zwischen Simons-, CP/M- und Normalmodus umgeschaltet werden kann. Dazu stehen immer zwei Zeichensätze, der C 64-und der deutsche Zeichensatz bereit. Nach dem Drücken von CTRL + B haben einige Tasten eine neue Bedeutung. Leider wurde dabei keine Rücksicht auf die Fingerfertigkeit einiger im Zehn-Fingersystem schreibenden Zeitgenossen genommen, denn die Tastaturbelegung entspricht in keiner Weise irgendeiner Norm.

Besonders auffallend ‘ ist die extrem hohe Scrollgeschwindigkeit der Decam-Karte, die sie für den Einsatz in Verbindung mit einem guten Textverarbeitungsprogramm wie geschaffen macht. Eine leichte Erhöhung der Arbeitsgeschwindigkeit ist auch hier zu verzeichnen.

Reichhaltig wie bei keiner anderen Karte ist die Ausstattung der Platine: Beispielsweise ein 5fach DIL-Schalter (Dual-In-Line) zum An- und Abschalten der Karte und der durchgeschleifte Expansion-Port. Ausgerüstet mit stromsparenden ICs der CMOS-Technik, garantiert die Karte besonders dann, wenn noch andere Karten (beispielsweise das CP/M-Modul) eingesteckt sind, ein sicheres Funktionieren. Nicht unerwähnt bleiben soll die geänderte Ladefunktion des Computers: Drückt man die RUN-Taste (SHIFT+ RUN/STOP), so wird automatisch das erste Programm von der Diskette geladen.

## Der Vorläufer

Von Jann Datentechnik stand zum Test die EX-80 Karte (Bild 3) zur Verfügung. Sie ist baugleich mit der älteren Version der Decam-Karte und ist deshalb mit den gleichen Vorzügen und Schwächen ausgestattet (Testbericht in der Ausgabe 12/84). Gleichwohl die Karte zuverlässig arbeitet, kommt es doch gelegentlich zu kleinen Störungen auf dem Bildschirm. Diese Nachteile soll die angekündigte neue Jann-Karte nicht mehr haben. Sie soll, aufgebaut in CMOS-Technik, über einen störungsfreien, schnellen Scrollmodus verfügen, einen durchgeführten Expansion-Port haben, wesentlich kleiner und zum ebenfalls neuen IEC-Modul verträglich sein. Das bisher mitgelieferte Programm zur Erstellung eines neuen Zeichensatzes soll weiterhin zum Lieferumfang gehören. Als besonderes Angebot kann der Käufer zwischen zwei Textverarbeitungsprogrammen auswählen, die entweder mit Wordpro 3+ oder Wordstar befehlskompatibel sein sollen. Zusammen mit dem deutschen Zeichensatz und den angekündigten Textverarbeitungsprogrammen darf man gespannt sein.

## Als wär's ein Stück von mir

Die XL 80-Karte (Bild 4) von General Automation wird in einem Gehäuse ausgeliefert, das in Design und Farbe zum C 64 paßt. Nicht einmal die Lüftungsschlitze auf der Gehäuseoberseite wurden vergessen. Allerdings bietet diese Karte nicht nur äußere Qualitäten, sondern auch einiges an Leistung. Die XL 80-Karte wird als Komplettsystem zusammen mit einer Textverarbeitung, einer Tabellenkalkulation und einer einfa-chenAdreßverwaltungverkauft. Zusätzlich verfügt die Platine über einen eigenen fest installierten Terminalmodus zur Datenfernübertragung, der einfach mit einer Funktionstaste aufgerufen wird.

Der Bedienungskomfort der XL 80-Karte wird besonders deutlich, wenn der Computer mit betriebsbereitem Diskettenlaufwerk eingeschaltet wird. Die Karte sendet dann einen Ladebefehl für ein Programm mit dem Namen »Menue«. In diesem Menü kann der XL 80-Besitzer zwischen der, übrigens recht guten Tabellenkalkulation, der Textverar-beitung, einem Kopierprogramm oder einer Adreßverwaltung wählen. Der letzte Menüpunkt ist dem Sprung in das Basic, dem die Karte allerdings acht KByte abgezogen hat, vorbehalten. Die Bildschirmdarstellung der Zeichen wird von der XL 80-Karte exzellent vorgenommen. Wie bei der Roos-Karte sind die Buchstaben sehr gut lesbar. Die XL 80-Karte hat als einzige der getesteten 80-Zeichenkarten eine Umschaltmöglichkeit zwischen 40 und 80 Zeichen, ohne Umstecken des Monitorkabels. Der Zeichensatz des 40-Zeichen-Modus entspricht aber nicht dem Zeichensatz des Commodore. Bei allen drei mitgelieferten Programmen fällt leider oft auf, daß die XL 80-Karte nicht für den deutschen Markt konzipiert wurde. Das im Format (10 x 10 cm) etwas zu klein geratene englische Handbuch erklärt die manchmal recht umständliche Eingabe der Steuerbefehle nicht immer deutlich. Trotzdem kann mit dieser gut gearbeitet werden, insbesonders dann, wenn Peripheriegeräte mit einer RS232-Schnittstelle angeschlossen sind.

## Lohnen sie sich?

Wer seinen C 64 um eine 80-Zeichenkarte bereichern möchte, sollte zuerst prüfen, welche Anwendung für ihn in Betracht kommt. Nur zum Programmieren ist eine 80-Zeichen-karte sicher nicht unbedingt notwendig. Anders, wenn der Computer häufig zur Textverarbeitung oder Tabellenkalkulation verwendet werden soll. Durch die praktisch verdoppelte Informationsmenge, die 80-Zeichenkarten auf dem Bildschirm darstellen können, stellen sie eine wesentliche Arbeitserleichterung dar. Dazu sind, außer einer zuverlässigen Hardware, vor allem gute Programme notwendig, die es verstehen die weitgehenden Möglichkeiten einer solchen Karte einzusetzen. Leider können das nicht die Programme sein, die auch ohne Hardwareerweiterung funktionsfähig sind.

Gute Beispiele für gelungene Spezialentwicklungen sind die Textverarbeitungsprogramme der Decam- und der Roos-Karte. Sie sind, dank Ihrer Leistungsfähigkeit und der übersichtlichen Bildschirmdarstellung mit 80 Zeichen pro Zeile vergleichbaren Programmen für den »normalen« C 64 überlegen. Andererseits summieren sich die Kosten für Karte und Textverarbeitungsprogramm aufbis zu 500 Mark. Wer eine solche Investition plant sollte sicher sein, daß es sich lohnt. Leider kann man auch kein Geld sparen, indem man eine preiswerte Karte kauft und sich aus dem Angebot eines anderen Anbieters ein Programm aussucht. Wegen der vielen vorhandenen Sonderfunktionen sind Programme (außer in Minimal-Basic geschriebene) zwischen den Karten nicht austauschbar. Es wäre wünschenswert, wenn sich im Bereich der 80-Zeichenkarten eine Karte zum Standard entwickeln würde. Dann nämlich wäre es auch für große Softwarehäuser interessant, ihre bekannt leistungsfähigen Programme an die 80-Zei-chendarstellung anzupassen.

(Arnd Wängler/aa/hm)

# Der Bildschirm wird zur Leinwand

> Lichtgriffel haben bisher eine untergeordnete Rolle beim C 64 aespielt. Der Tech-Sketch-Lightpen mit guter Software könnte das ändern.

Eigentlich nur Positives kann man über den Tech-Sketch-Lightpen (Preis 159 bis 369 Mark) berichten. Das beginnt schon damit, daß als kostenlose Draufgabe der Micro-Illustrator mitgeliefert wird. Der Micro-Illustrator ist ein Zeichenprogramm, das auf den ersten Blick stark dem Koala-Painter ähnelt, und auch gualitativ in dieser Größenordnung liegt. Und zu allerletzt erhält man auch noch ein Hardcopy-Programm, um die Micro-Illustrator-Bil-der auf den meisten handelsüblichen Druckern ausgeben zu können. Die Farben werden sehr schön in Graustufen übersetzt, es soll sogar eine farbige Hardcopy über den Farbdrucker Okimate 10 ausgegeben werden können.

Die Arbeit mit dem Micro-Illustrator und dem Tech-Sketch-Lightpen ließ kaum Wünsche offen. Auch der Micro-Illustrator erlaubt, über einen kleinen Trick bei der Fill-Option, das Mischen der 16 schon vorhandenen Farben, ähnlich wie bei Blazing Paddles.

Besonders wichtig ist der Menüpunkt »Align«. Hier kann man seinen Lightpen kalibrieren, das heißt genau auf den verwendeten Bildschirm einstellen. Der Micro-Cursor sitzt danach so genau unter dem Lightpen, daß man tatsächlich das Gefühl hat, man male auf dem Bildschirm. Außerdem kann man einstellen, wie der Micro-Cursor auf schnelle Ortswechsel reagieren soll. Bei einer »harten« Einstellung befindet sich der Cursor immer unter dem Lightpen, Kurven werden bei schnellen Bewegungen eckig. Ist die Einstellung dagegen »weich«, so wird fast jeder Schlenkerer den man macht, zwar mit zeitlicher Verzögerung, aber fast originalgetreu wiedergegeben. Man kann also auf dem Bildschirm seine Unterschrift so setzen, wie man es auch mit Kugelschreiber und Papier täte. Bis auf die gröbere Auflösung ist an den Kurven der Schrift kein Unterschied zu erkennen.

Neben den vom Koala-Painter bekannten Optionen fiel hier der extrem gute Zoom-Modus auf. Im Zoom-Modus wird das 8 mal 8-Gitter, das einem ja bei der Farbsetzung Grenzen setzt, stets eingeblendet. Will man den Zoomausschnitt verschieben, setzt man den Lightpen auf den neuen Mittelpunkt des Ausschnittes, und drückt die Shift-Taste.

Alles in allem war ich während der Testtage sehr zufrieden mit dem Tech-Sketch-Lightpen und den Mic-ro-Illustrator. Nur die etwas magere, englische Dokumentation konnte nicht überzeugen.

(Boris Schneider/rg)

Info: Softline, Schwarzwaldstr. 8a, 7602 Oberkirch, Tel. 0 78 02/37 07

Preis: LP15: 369 Mark; LP10: 159 Mark

# Schnell wie der Wind, die 1541-Turbo-Floppy

> Ein Traum wird wahr, die 1541 als schnelles, zuverlässiges und komfortables Diskettenlaufwerk. Zwei Zauberwörter sind es, die diese Verwandlung möglich machen — TurboAccess und Speeddos. Im Vergleich zeigen beide ihre Stärken und Schwächen.

Welcher Commodore-Besitzer hat nicht schon einmal mit neidischen Blicken auf die Diskettenlaufwerke anderer Computer geschielt. Lade- und Backup-Geschwindigkeiten von wenigen Sekunden sind dort keine Seltenheit, ja sogar die Regel. Zugegeben, die 1541 kostet nur einen Bruchteil solcher Laufwerke, etwas mehr »Dampf« könnte aber sicher nicht schaden. Nun, die Zeit des Wartens ist vorbei, mit etwas Geld und Geschick verwandelt sich die traute 1541 in das reinste Turbo-Laufwerk. Vergessen Sie das beliebte Blättern in der Tageszeitung, während das Laufwerk den C 64 mit Daten versorgt, die 1541 ist sicher schneller, als Sie den Leitartikel lesen können.

## Äußerlichkeiten

Sowohl TurboAccess als auch Speeddos (siehe Bild) sind reine Hardwarezusätze, die in Computer und Laufwerke eingebaut werden. Sie gehen dabei von der Erkenntnis aus, daß sich die serielle Ladegeschwindigkeit kaum über das sechsfache erhöhen läßt. Was bleibt, ist die parallele Datenübertragung. Sie ist es auch, die unsere beiden Testkandidaten von anderen Programmen zur Beschleunigung der Datenübertragung abhebt. Der Parallelübertragung haben die Konstrukteure des C 64 und seines Laufwerkes allerdings einige nicht unerhebliche Steine in den Weg gelegt. Der Computer ist, wie wir Menschen auch, ein geselliges Wesen. Auf seinen Datenbus greifen nicht nur Diskettenlaufwerke, sondern auch Drucker, Plotter und andere Peripheriegeräte zu. Soll deren sicheres Funktionieren gewährleistet, und sollen sie bei Bedarf weiterhin seriell ansprechbar sein, bedarf es schon einiger Tricks.

TurboAccess als auch Speeddos gefallen durch ihren Einfallsreichtum, mit dem sie diese Probleme gelöst haben. Dabei kommt es natürlich nicht nur darauf an, wieviel mal schneller Programme von Diskette in den Computer verfrachtet werden, sondern auch auf die Verträglichkeit zu fertigen Softwareprodukten. Kompatibel ist eine derartige Erweiterung immer dann, wenn sowohl das Hauptprogramm schneller geladen wird als auch die einzelnen Eigenschaften dieses Programms weiterhin einwandfrei oder sogar besser funktionieren. Durchaus mögliche Ladegeschwindigkeiten vom 16-fachen des Normalwertes verlieren unter diesem Gesichtspunkt ihren Reiz. Jede weitere Beschleunigung des Ladevorganges verringert nämlich die Softwareverträglichkeit wesentlich.

## Acht auf einen Streich

Sichtbares Erkennungszeichen eines mit unseren Testkandidaten ausgestatteten Computers ist das neue Verbindungskabel zwischen Computer und Laufwerk. Auf ihm werden die Daten nunmehr parallel, das heißt immer 8 Bit auf einmal, übertragen. Traumwerte von bis zu zehnfacher Lade und drei- bis vierfacher Speichergeschwindigkeit bei eingeschaltetem Bildschirm sind so zu erreichen. Ein 100 Blöcke (zirka 25 KByte) langes Programm steht so nach spätestens 8 (statt 68) Sekunden bereit. Damit haben es die Programmierer unserer Testkandidaten aber noch lange nicht bewenden lassen. Sowohl den Schreib-/Lesekopfbewegungen als auch der Verarbeitung anderer Dateitypen (SEQ,REL) haben sie mit Erfolg ihr Augenmerk gewidmet. So manchem bekannten Programm wird ganz neues Leben eingehaucht. Im Test zeigte sich, daß viele Datenverwaltungs-, Kopier- und Textverarbeitungsprogramme beim Zugriff auf die Diskette wesentlich beschleunigt wurden. Bestes Beispiel sind die beiden Programme Vizawrite 64 und Vizastar 64, die zwar vorher schon gut, nun aber kaum zu übertreffen sind. Wer gerne spielt, beispielsweise Summer Games oder Jumpmann, wird nun noch mehr Freude am Spielen haben, denn die einzelnen Spielszenen sind in Windeseile nachgeladen. Der Clou des Ganzen ist aber der gemeinsame Einsatz eines der Testsysteme zusammen mit der CP/M-Karte. Beginnend beim Booten (automatisches Laden des ersten Programms auf der Diskette) bekommt das Arbeiten mit diesem Modul erstmals emen professionellen Anstrich. Was bislang an einer zu langsamen Diskettenstation scheiterte, bereitet nun regelrecht Freude. Nicht beschleunigt werden alle Programme, die über eine eigene Laderoutine verfügen. Deshalb bleibt der Flugsimulator II von Sub-Logic und das Quickcopy-Pro-gramm auch immer gleich schnell (beziehungsweise langsam).

Gespannt auf die Ergebnisse eines Vergleichs der Lade- und Speichergeschwindigkeit bei verschiedenen Dateitypen zwischen Turbo-Access und Speeddos wurden wir überrascht. Zwar waren die gemessenen Werte beachtlich (Tabelle 1), glichen sich bei beiden Konkurrenten aber derart, daß sie nicht als Testkriterium tauglich waren. Die Zeitunterschiede lagen immer innerhalb der Meßgenauigkeit. Anders die Verträglichkeit und Anwenderfreundlichkeit; sie bestimmen im praktischen Betrieb den Wert des Kandidaten. Im weiteren wollen wir deshalb auf diese Merkmale besonders eingehen.

## Einbau nicht immer leicht

Vor das schnelle Laden hat der Techniker den Einbau gesetzt. Dazu müssen injedem Fall Computer und Diskettenlaufwerk geöffnet werden (Achtung! Möglicher Garantieverlust). Die theoretisch mögliche Einbauzeit von etwa zehn Minuten läßt sich aber nur dann erreichen, wenn das Computersystem über gesockelte ICs verfügt. Leider haben fast alle nach Weihnachten 1983 ausgelieferten Computer hauptsächlich fest eingelötete Bausteine. Dadurch erschwert und verlängert sich der Einbau bei beiden Konkurrenten um ein Vielfaches. TurboAc-cess streicht hier seine ersten Pluspunkte ein, denn es kann das benötigte Chipselect-Signal nicht nur am Kernal-ROM, sondern auch am PLA (Adressbusmanager) abgreifen. Einer dieser beiden Chips ist glücklicherweise meistens gesockelt. Bei Speeddos bleibt, durch die Beschränkung auf den Kernal-Baustein, oft nur der Griff zum Lötkolben oder besser, der Weg zum Händler.

TurboAccess, entwickelt von E. Schulte, versucht Firm- und Hardware optimal aufeinander abzustimmen, um ein hohes Maß an Verträglichkeit und Bedienungsfreundlichkeit zu erreichen. Das durchdachte Konzept der Hardware sieht bereits in der Grundversion den Betrieb von zwei Laufwerken und das (selten notwendige) Umschalten auf das weiterhin vorhandene Original-Betriebssystem vor. Nach dem Auspacken hat der frisch gebackene Turbo-Floppy-Besitzer drei sorgfältig verarbeitete, mit Lötstop-Lack versehene Platinen vor sich. Die kleinste aller Platinen dient zum Sockeln des Kernal-ROMs (oder bei Bedarf der PLA) und dem Abgriff der Chipselect-Leitung. Die zweite Platine wird in das Diskettenlaufwerk eingebaut (auch für ältere Versionen erhältlich) und stellt über das Flachbandkabel die Verbindung zur dritten Platine, die einfach in den Expansion-Port gesteckt wird, her.

## Schneller Zugriff mit TurboAccess

Keine Angst, niemand braucht auf den wichtigen Steckplatz für Programmodule verzichten, denn der Expansion-Port ist durchgeführt. Soweit der Anschluß, aber wie arbeitet man mit TurboAccess? Dazu muß man wissen, daß im Betriebssystem des Computers nicht nur die parallele Datenübertragung, sondern noch einige andere nützliche Funktionen einprogrammiert wurden. Wie bei einigen größeren Computer-Systemen hat die Control(CTRL)-Taste in Verbindung mit anderen Tasten eine besondere Bedeutung bekommen (siehe Tabelle). Ein alter Fehler des Commodore-Betriebssy-stems, der Verlust eines Programms beim Laden des Directories, wurde behoben. Control-D lädt und listet das Directory auf, ohne dabei ein Programm zu zerstören. Mit der Space-Taste hält man den ganzen Ladevorgang an, um auch längere Directories durchsehen zu können. Sollte, beispielsweise nach einem Hardware-Reset oder einem irrtümlich eingegebenen NEW, ein Programm im Speicher gelöscht worden sein, macht Control-* den Fehler wieder rückgängig. Ebenso einfach ist das Absenden von DOS-Befehlen (N,I,V,R,S); Control-0 öffnet den Befehlskanal. Wird derselbe Befehl innerhalb eines Diskettendi-rectories (einfach mit dem Cursor darauffahren) gegeben, löscht TurboAccess das entsprechende File nach Bestätigung mit Return. Eine erstaunliche Besonderheit ist der Control-P-Befehl, der auf fast jedem Drucker eine Low-Res-Hardcopy des Bildschirms produziert.

## Drucker-Schnittstelle eingebaut

Damit ist bereits eine weitere wesentliche Besonderheit des Turbo-Access angedeutet. Die Software, um den User-Port in eine Centronics-Schnittstelle zu verwandeln, ist fest in das Kernal-ROM eingebunden. Jeder Drucker, der mit dieser Parallelschnittstelle ausgerüstet ist, braucht nur noch mit einem einfachen Kabel (zirka 50 Mark) am User-Port angeschlossen werden, um betriebsbereit zu sein. Ein serieller Drucker (MPS 802, MPS 801) funktioniert aber nach wie vor einwandfrei. Obwohl sehr einfach, so hat die eingebaute Schnittstelle doch ihre ganz besonderen Qualitäten. Selten wurde eine Schnittstelle (mit)getestet, die so kompatibel zu den verschiedensten Softwareprodukten ist. Durch ihre feste Verankerung im Kernal-ROM kann es eigentlich nie dazu kommen, daß gar kein Ausdruck erfolgt. Einziges Problem sind die Sekundäradressen der Commodore-Drucker, denn sie werden von TurboAccess ignoriert. Einzig die Sekundäradresse 7 zum Umschalten auf Groß- und Kleinschrift wird berücksichtigt. Glücklicherweise bieten fast alle Textverarbeitungs- und Datenverarbeitungsprogramme eine Printoption für Epson-oder kompatible Drucker an, mit der ein Ausdruck in der Regel problemlos funktioniert. Ganz ohne Anpassungsschwierigkeiten geht es mit Grafikprogrammen wie dem Print Shop, Blazing Paddles und dem Textverarbeitungsprogramm Vizawrite 64, da diese Programme in der Regel alle Sonderfunktionen eines Interfaces abschalten.

## Jede Menge Zusatzfunktionen

Im gesamten Betriebssystem des TurboAccess fehlen nur die Kassettenroutinen. Das bedeutet, die für die Datenfernübertragung wichtige RS232-Software bleibt vollständig erhalten. Um so erstaunlicher erscheint es, wie viele Zusatzfunktionen eingebaut wurden. Eine, weil das Leben des Laufwerkes entscheidend verlängernde, besonders wichtige Neuerung, ist das fast nicht mehr hörbare Anschlagen des Steppermotors am Nullpunkt. Das furchterregende Klappern beim Formatieren oder bei einem Lesefehler verschwindet somit gänzlich. Das ist aber nicht die einzige lebensverlängernde Funktion von TurboAccess, denn durch das schnelle Laden, Speichern und Formatieren (12 Sekunden) wird die gesamte Mechanik wesentlich weniger belastet. Ebenso wird der Computer geschont, der ja aus manchem Programm nur durch Ausschalten herauskommt. Zusammen mit einem Hardware-Reset und gedrückter CTRL-Taste springt der Computer mit TurboAccess nicht in eine möglicherweise vorhandene Autostartroutine, sondern initialisiert das Basic. Verwendet man an Stelle der CTRL- die Stop-Taste, bleiben Programm und Variablen erhalten.

TurboAccess arbeitet nicht nur mit einem, sondern auch mit zwei Laufwerken zuverlässig zusammen. Eine Platine für das zweite Diskettenlaufwerk kostet zusätzlich zu den 298 Mark für die Hauptplatinen 99 Mark. Damit eröffnen sich nicht nur ganz neue Dimensionen beim Arbeiten mit verschiedenen Programmen, sondern auch beim Anfertigen von Backup-Disketten. Ein zum Test leider nicht zur Verfügung stehendes Kopierprogramm soll eine Diskette in weniger als 40 Sekunden kopieren können. Auch die Besitzer von 4040-Laufwerken oder der SFD 1001 dürfen gespannt sein: Es ist ein Zusatz angekündigt, der den Betrieb mit diesen Laufwerken ermöglichen soll.

Wie aber steht es mit der Verträglichkeit? Arbeitet TurboAccess mit käuflicher Software zusammen? Für den Entwickler lag die größte Schwierigkeit darin, TurboAccess auf die verschiedenen Methoden des Kopierschutzes abzustimmen. Manche Methoden des Programmschutzes verwenden sehr spezielle Einsprungadressen und Routinen des 1541-DOS (Disk Operating System). Eine Teststrecke durch die unterschiedlichsten Programme verschiedener Softwarehäuser hat TurboAccess bestens bestanden. Tatsächlich konnte kein Programm gefunden werden, daß nicht mit der getesteten Version TA 2.5 funktionierte. Es ist deshalb durchaus angebracht, die Verträglichkeit mit käuflicher Software mit mehr als 99' Prozent anzugeben.

## Little Speedy-Speeddos

Speeddos besteht aus ebenfalls drei, wenn auch wesentlich einfacheren, Platinen, von denen zwei in das Laufwerk und eine an Stelle des Kernal-ROMs im Computer eingebaut werden. Im Gegensatz zu TurboAccess wird das Flachbandkabel nicht am Expansion-Port, sondern am User-Port angeschlossen. Wer seinen User-Port weiterhin verwenden möchte, braucht leider einen zusätzlichen Adapter (etwa 79 Mark), der den Anschluß weiterer Geräte erlaubt.

Auch den beiden Programmierern von Speeddos, O. Eikemeier und O. Joppich, gebührt Beifall. Sie haben sich einige Besonderheiten und Erweiterungen einfallen lassen, die das Arbeiten mit dem Computer komfortabler gestalten. Speeddos besitzt zwar keine RS232-Routinen mehr, dafür aber einen Minimonitor und ein wesentlich vereinfachtes, komfortables DOS. Im Gegensatz zu diesem neuen DOS ist der eingebaute Monitor (siehe Tabelle) allerdings recht mager ausgestattet. Zum einen erlaubt er keine für einen Monitor wesentlichen Transaktionen wie Suchen, Kopieren, Assemblie-ren, Füllen und vieles mehr. Zum anderen schmerzt der Verlust der RS232-Schnittstelle bei zunehmender Beliebtheit der Datenfernübertragung doch sehr. Möchte man in den Genuß dieser Schnittstelle kommen, so ist das Umschalten auf das Original-Betriebssystem notwendig. Das aber geht nur mit einer zusätzlichen Erweiterungsplatine (etwa 39 Mark). Wer diesen Betrag nicht ausgeben möchte, muß den Computer öffnen und das Kernal-ROM auswechseln.

## DOS mit neuen Befehlen

Viel Freude macht das Arbeiten mit den neuen DOS-Befehlen. Sie erlauben neben den Standardfunktionen (N,I,V,R,S) das Schützen von einzelnen Programm-, beziehungsweise sequentiellen Files. Das Finden der sequentiellen Files erschwert das DOS allerdings etwas, denn wenn das Directory mittels der F7-Taste eingeladen wird, erscheinen sequentielle Files nicht auf dem Bildschirm. Erst das manuelle Eingeben des DOS-Befehls bringt hier den gewünschten Erfolg.

Viele kleine Besonderheiten sind es, die Speeddos auszeichnen. So sind beispielsweise die Funktionstasten mit einigen wichtigen Befehlen belegt (List, Save, Directory und andere), oder die Diskette wird durch kurzes Anlaufen des Motors beim Diskettenwechsel zentriert. Natürlich kann Speeddos auch einen Autostart verhindern und das Klappern beim Formatieren vermeiden. Der eigentliche Formatierungsvorgang dauert allerdings genau doppelt so lange wie bei TurboAccess. Schon fast frappierend ist die Ähnlichkeit der Centronics-Schnittstelle zu der des Konkurrenten. Sie funktioniert ebenso zuverlässig wie einfach, allerdings werden keine Sekundäradressen akzeptiert. Leider ist auch hier der bereits erwähnte Mehrfachstecker für den User-Port notwendig.

Was aber, wenn ein zweites Laufwerk betrieben werden soll? Kein Problem, durch eine Zusatzplatine (198 Mark) wird das zweite Laufwerk einfach am ersten angeschlossen. Die Verbindung beider Laufwerke zum Computer besteht dann in dem User-Port-Kabel des Original-Speeddos.

## Listing mit Tricks

Erinnern Sie sich an unsere Artikel über synthetische Steuerzeichen? Viele der dort gezeigten Tricks mit denen man beispielsweise ein Listing aufbereiten kann, sind mit Speeddos außer Kraft gesetzt. Alle Zeichen werden so gelistet, wie sie auch wirklich im Programmtext stehen. Wer weiterhin eine direkte Ausführung der Steuerzeichen wünscht, kann mit dem Befehl OFF die Funktionstasten und den Listing-Modus abschalten. Etwas zuviel des guten haben die Entwickler im Scroll-Modus geleistet: Wahre Fingerakrobatik ist notwendig, um zwischen Commodore- und Control-Ta-ste hin und her zu greifen, um ein Listing kurzzeitig, beziehungsweise auf Dauer einzufrieren. Dagegen ist die Angabe des Speicherbereiches, in den ein Programm geladen wird, eine nette, wenn auch letztendlich verzichtbare Funktion. Sie kann unter Umständen, sogar die Verträglichkeit zu fertiger Software beeinträchtigen.

Gerade die Verträglichkeit ist es aber, die Speeddos bei manchen Programmen zu schaffen macht. Besonders neuere Programmversionen von Data Becker (Master 64, Textomat, Datamat) funktionierten mit der getesteten Version nicht. Ein verbessertes Speeddos soll aber inzwischen fertig und bald erhältlich sein. Insgesamt muß die Verträglichkeit käuflicher Software etwas geringer angesetzt werden, als bei TurboAccess.

## Die Nase vorn

Beide Systeme sind wahrscheinlich die interessantesten Neuerungen, die in letzter Zeit für den Commodore 64 und sein Diskettenlaufwerk angeboten wurden. Mit ihnen wird das Arbeiten am Computer nicht nur komfortabler, es macht auch wesentlich mehr Freude. Vor der Entscheidung für eines der Systeme sollte man allerdings prüfen, mit welcher Gerätekonfiguration gearbeitet werden soll. Speeddos kostet für ein einzelnes Laufwerk 265 Mark. Sollen aber zwei Laufwerke, ein Akustikkoppler und ein Centro-nics-Drucker betrieben werden, fallen Kosten in Höhe von 581 Mark an. Gleiche Gerätezusammenstellung mit TurboAccess kostet dagegen nur 398 Mark (298 für ein Laufwerk). In jedem Fall lohnt sich die Anschaffung eines der Systeme aber nicht nur wegen der schnellen Diskettenoperationen, sondern auch wegen der sehr guten Drucker-Schnittstelle. Manche externe Schnittstelle alleine kostet schon mehr als jeder unserer Testkandidaten. Ganz gleich wer nun Ihr persönlicher Favorit ist, Sie werden begeistert sein, von Ihrer neuen Turbo-Floppy.

(Arnd Wängler/gk)

# Der C 64 als Spei<heroszilloskop

> Mit einem Bausatz können Sie Ihren C 64 zu einem Speicheroszilloskop ausbauen. Aperiodische Vorgänge bis zu 1,5 Stunden können erfaßt werden.

Ein Oszilloskop besteht in der Hauptsache aus einer Kathodenstrahlröhre mit vier im Kreis angeordneten Ablenkplatten. Wird eine Spannung zwischen die oben-und untenliegenden Platten angelegt, wird der Elektronenstrahl vertikal abgelenkt. Die Ablenkung erfolgt proportional zum Signalpegel. Damit auch in waagrechter Richtung etwas passiert, liegt an den horizontalen Platten eine Sägezahn-Spannung, die den Strahl ständig von links nach rechts über den Bildschirm führt. Da dabei alles so schnell geht, daß das Auge nicht mehr mitkommt, sehen Sie beispielsweise eine Sinuskurve auf der Mattscheibe, wenn an den vertikalen Platten eine sinusförmige Spannung anliegt. Schalten Sie die Sinusspannung ab, erscheint am Bildschirm ein waagrechter Strich. Aus diesem Grund können Sie mit einem einfachen »Oszi« nur periodische Vorgänge über Spannungsänderungen verfolgen.

Das Problem, das beim Aufnehmen von aperiodischen Vorgängen entsteht, liegt an der Arbeitsweise der Kathodenstrahlröhre, die ständig ein periodisches Signal benötigt, um ein sichtbares Bild erzeugen zu können. Das Prellen eines Relais kann deshalb nicht direkt sichtbargemacht werden; das Relais prellt eben nur einmal. Um solche aperiodische Ereignisse zu erfassen, benötigt man einen Transientenspeicher oder ein komplettes Speicheroszilloskop. Beide Meßgeräte sind im Normalfall, wegen ihrem Preis, nur dem Profi vorbehalten. Einen professionellen Meßplatz zeigt Bild 1. Das Prinzip eines Transientenspeichers kann mit wenigen Worten so erklärt werden: Er mißt nur eine bestimmte Zeit lang, speichert die Meßwerte und simuliert immer wieder von neuem den gemessenen Spannungsverlauf. Auf diese Weise wird aus einem aperiodischen ein periodisches Signal, das ein einfaches Oszilloskop verarbeiten kann.

Die Länge der Meßzeit kann gewöhnlich im Bereich von Mikrosekunden bis zu einigen 100 Millisekunden eingestellt werden. Der Meßvorgang startet, wenn ein bestimmter Anschluß auf Plus oder Minus gelegt wird, oder wenn das zu messende Signal größer oder kleiner wird. Im ersten Fall spricht man von einer externen, im zweiten von einer internen Triggerung (engl.: to trigger = auslösen). Während des Meßvorgangs wird das ankommende Signal digitalisiert und gespeichert. Das Digitalisieren kann man sich so vorstellen: Bei einer Meßzeit von 1 Sekunde wird, zum Beispiel, alle 7iooo-Sekunde die Stärke (Amplitude) des Signals gemessen und ihr Werte von 0 bis 255 zugeordnet. Die digitalisierten Amplituden werden mit der zugehörigen Zeit in einer zweidimensionalen Matrix gespeichert. Vorstellbar als ein Koordinatensystem, in dem die Amplitudenwerte gegen die Zeit aufgetragen sind. Verbindet man die Amplitudenpunkte in dem Koordinatensystem miteinander, erhält man wieder den analogen Amplitudenverlauf. Der für den Außenstehenden etwas seltsame Wertebereich von 0 bis 255 ergibt sich dadurch, daß die größte Zahl die durch 8 Bit dargestellt werden kann, 255 ist.

## Preiswerte Lösung

Der Hobby-Elektroniker der einen C 64 zu Hause hat, kann mit dem Speicher-Oszilloskop-Interface von Print-Technik seinen Computer auch als Speicheroszilloskop verwenden. Zum Umbau wird nur eine Platine (Bild 2) in den User-Port gesteckt und ein kleines Programm geladen. Der Anwendungen gibt es viele: Untersuchen des Einschaltverhaltens von Netzteilen, Nachweis induktiver Störungen in Leitern oder dem Erfassen beliebiger Signalverläufe periodischer oder aperiodischer Natur. Das Interface besteht aus einer 6,5 cm x 15 cm großen Platine mit angelötetem User-Port-Stecker. Es wird als Fertiggerät und als Bausatz angeboten. Da die Packungsdichte nicht sehr groß ist, dürfte das Einlöten der Bauteile auch dem Elektronikanfänger keine Schwierigkeiten bereiten. Wie beim Bestücken jeder doppelt kaschierten Platine muß auch bei dieser etwas Konzentration aufgebracht werden, will man keinen Lötpunkt auf der Bestückungsseite vergessen. Dem Bausatz liegt eine kurze Beschreibung bei.

Der darin enthaltene Bestük-kungsplan zeigt die Lage der Bauteile zum Einlöten und die erforderlichen 21 Durchkontaktierungen der beiden Leiterbahnseiten. Unter dem Durchkontaktieren einer Platine ist das Verbinden von Lötösen auf der Ober- und Unterseite der Platine zu verstehen.

## So funktioniert's

Das ankommende Signal wird dem Eingangsverstärker (Bild 3) über einen Spannungsteiler zugeführt, der drei Meßbereiche erlaubt: 100 mV, 1 V und 10 V pro Rastereinheit. Die Umschaltung erfolgt mit einem Drehschalter. Mit dem Kalibrierungsregler kann eine zusätzliche Feineinstellung des Meßbereichs vorgenommen werden. Da dabei die Signalstärke unkontrolliert abgeschwächt wird, dient dieser Regler nur dazu, ein Oszillo-gramm bildschirmfüllend abzubilden. Um die Signalspannung am Raster ablesen zu können, ist es nötig die Meßschaltung bei voll aufgedrehter Feineinstellung abzugleichen und mit dieser Reglerstellung auch zu messen. Wenn Sie im Blockschaltbild (Bild 3) das Signal auf seinem Weg verfolgen, finden Sie nach dem Eingang einen Kondensator und einen Schalter mit der Bezeichnung AC/DC. Mit diesem Schalter können Sie die Betriebsart des Interfaces festlegen. Steht der Schalter auf AC (alternate current, Wechselstrom), muß das Signal »durch einen Kondensator«, dessen elektrischer Widerstand reziprok zur Frequenz des Stroms ist. Auf diese Weise kann man aus dem Eingangssignal einen eventuell vorhandenen Gleichspannungsanteil filtern. In der Schalterstellung DC (direct current, Gleichstrom) wird der Kondensator überbrückt und der Gleichspannungsanteil mitgemessen. In einem Oszil-logramm macht sich eine Gleichspannung durch eine Verschiebung der Kurvenlage in vertikaler Richtung bemerkbar. Die Meßkurve verschiebt sich am Bildschirm nach oben bei einem positiven und nach unten bei einem negativen DC-An-teil.

Nach dem Eingangsverstärker wird der Signaloffset geregelt, der für die Null-Lage zuständig ist. Der Offset wird beim Abgleich mit einem Spindelpotentiometer justiert. Mit dem dritten Operationsverstärker (»Trig. Verst.«) wird die Pegelschwelle für interne Triggerung eingestellt. Mit einem Schalter kann entweder ein positiver oder ein negativer Pegel als Trigger gewählt werden.

Der A-D-Wandler ordnet schließlich den analogen Werten digitale zu, die von der Software verarbeitet werden. Das Programm übernimmt dann die Auswertung der digitalen Werte und die Zeichnung des Oszil-logramms am Bildschirm (Bild 4) oder auf dem Plotter 1520 von Commodore.

## Abgleich mit kleinen Problemen

Der Abgleich der Schaltung ist einfach, sofern man über eine Wechselspannungsquelle mit 283 mV und ein Voltmeter verfügt. Was Schwierigkeiten bereitet, ist das Auffinden des Pin 8 des ICs TL084: Die Bezeichnungen der ICs sind fein säuberlich abgekratzt. Statt deren findet man nur zwei Aufkleber mit den Bezeichnungen »A« und »B«. Nirgends in der Beschreibung steht, welches IC das TL084 ist. Wir können Ihnen sagen, daß es das IC »B« ist (Firma Brockner). Nach dem Abgleich ist das Interface betriebsfertig. Da keine Abschirmung der Elektronik notwendig ist, muß die Platine nicht unbedingt in ein Gehäuse eingebaut werden.

TODO ASIDE
## Technische Daten
Eingang: BNC-Buchse
Meßbereiche AC/DC pro Rastereinheit (± 4Einheiten):
100 mV, 1 V 10 V (kalibriert oder mit Feineinstellung)
Zeitbasis pro Rastereinheit (10
Einheiten):
1,2,10,20,50,100,200,500 Millisekunden
1,2,10,20,50,100,200,500 Sekunden
Trigger:
Positiver oder negativer Pegel einstellbar.
AC oder DC Koppelung
TODO /ASIDE

Nach dem Laden und Starten des kurzen Programms können Sie die meisten Meßeinstellungen anhand eines Menüs vornehmen.

Die Zeitbasis kann zwischen einer Millisekunde und 500 Sekunden pro Rastereinheit variiert werden, das entspricht einer Zeitspanne von 10 Millisekunden bis etwa 1,5 Stunden auf dem Bildschirm. Da bis zu 95 Bildschirmseiten auf einmal gemessen werden können, sind extreme Langzeit-Messungen möglich. Die einzelnen Seiten können Sie nach der Messung, mit der + und der — Taste durchblättern oder mit einem 1520-Plotter ausdrucken lassen, auch nur abschnittsweise. Die Triggerart ist sehr einfach von intern auf extern umzuschalten. Die interne Triggerung erfolgt, wenn das Signal eine bestimmte Spannungsschwelle über- oder unterschreitet.

Der Schaltpegel wird, wie gesagt, mit einem Potentiometer und einem Schalter auf der Platine eingestellt. Extern bestimmen Sie den Meßbeginn durch Drücken der SPACE-Taste. Während der Meßzeit ist der Bildschirm rot. Nach der Messung erscheint sofort das Oszillogramm. Bei interner Triggerung wechselt die Hintergrundfarbe von Blau nach Rot, wenn die Messung beginnt. Haben Sie das Oszillogramm auf dem Bildschirm, können Sie das Meßraster und die Verbindungslinien zwischen den Meßpunkten ein- und ausschalten; einfach durch Drücken der R- oder V-Taste.

### Auflösung: 23 Messungen/Zeiteinheit

Pro Zeiteinheit holt sich das Programm immer 23 Meßwerte über den User-Port vom A-D-Wandler. Auf diese Art setzt sich eine Bildschirmseite aus 230 Messungen zusammen. Zieht man von den 320 horizontalen Bildpunkten des C 64 etwa 90 für die Angaben zum Oszillogramm auf der linken Seite ab, bedeutet das, daß die Auflösung an der Grenze der Darstellbarkeit liegt. Das Programm ermittelt selbsttätig, in welchen Zeitabstand die einzelnen Messungen durchzuführen sind.

Noch vor einem Jahr war der C 64 nichts weiter als Heim-Computer zum Spielen und Programmieren. Inzwischen hat er sich gemausert. Sein Einsatzbereich erstreckt sich bis hin zu Meß- und Steuerungsaufgaben in der Industrie. Im privaten Bereich sind inzwischen keine Grenzen der Anwendung mehr gesetzt.

## Die Vielseitigkeit des C 64

Hardwarezusätze ermöglichen die Erfassung und Verarbeitung fast aller Daten. Ob Sie nun Ihre Haustüre mit einem Codeschloß sichern oder die Zentralheizung, wegen der Heizkosteneinsparung, zimmerabhängig regeln wollen. Daß Sie Ihren C 64 auch als Speicheroszilloskop verwenden können zeigt beispielsweise die Möglichkeiten die in einem Heim-Computer stecken. Das Speicher-Oszilloskop-Interface von Print-Technik wird dem Profi zwar nicht viel nützen, doch für den Hobby-Elektroniker dürften die Meßgenauigkeiten ausreichend sein.

Der Bausatz kostet 298 Mark, das Fertiggerät 398 Mark. Es lohnt sich also, das Interface als Bausatz zu kaufen. Zum Vergleich: Ein professionelles Speicheroszilloskop kostet etwa das sechsfache. Wie uns Brockner mitteilte, können Sie für 50 Mark auch ein Modul mit der Software bekommen. Sie ersparen sich dann das Laden von Diskette.

(hm)

Info: Bezugsquelle: Pitt Jörn Brockner, Computer Peripherien, Heidelbergerstr. 6, 8000 München 40, Tel. 0 89/36 8197

# Eine klare Sache

> Zu einem Farbcomputer gehört ein Farbmonitor. Die Fähigkeiten des Commodore 64 in diesem Bereich werden durch den Phönix-Monitor bestens unterstützt.

Anschlußfertige Farbmonitore für Commodore-Computer sind eine Seltenheit. Leider bietet der Video-Chip des Commodore 64 nicht das weit verbreitete RGB-Signal, sondern nur ein Farb-Misch- und Synchronisationssignal an. Viele Farbmonitore werden aber nur mit der RGB-Norm ausgestattet. Andererseits ist ein Monitor eine langfristige Investition, die auch am nächsten oder übernächsten Computer noch rentabel sein soll. Der Phönix-Farbmonitor (Bild) löst dieses Dilemma auf elegante Art: Er bietet sowohl einen RGB-Eingang als auch eine Anschlußmöglichkeit für die Commodore-Computer an. Drei Anschlußbuchsen, je eine für Video-, Audio- und Helligkeitssignal stehen zur Verfügung. Ein RGB-Signal kann über eine DIN-Buchse zugeführt werden.

Zwei Schalter auf der Rückseite dienen der Einstellung des jeweiligen Eingangs-Signals und der Pha-sengebung der Synchronisation. Knapp daneben sind die Einstellpotentiometer für Farbe, Helligkeit, Kontrast und Bildfang. Die Lautstärke des eingebauten Tonteils wird von der Gehäusevorderseite aus geregelt. Die Qualität des Tonteils wird sicherlich den meisten Ansprüchen gerecht, Hifi-Töne dürfen allerdings nicht erwartet werden.

### Formschönes und funktionelles Gehäuse

Oft wurde behauptet, daß Funktionalität und ansprechendes Design ein unvereinbarer Widerspruch seien. Der Phönix-Monitor ist das beste Gegenbeispiel. Sein ansprechendes Äußeres wird durch den mitgelieferten Standfuß geprägt. Er macht den Monitor in jeder wichtigen Richtung beweglich und sorgt für ein entspanntes Arbeiten am Bildschirm. Ob der Monitor nun neben oder hinter dem Computer steht, der Schwenkfuß sichert das optimale Verhältnis zwischen Blickfeld und Bildschirm. Auch der Rest des Monitors kann sich sehen lassen. Die abgerundeten Kanten des Kunststoffgehäuses sprechen das Auge angenehm an. Natürlich zählen bei einem technischen Gerät wie einem Monitor nicht nur seine äußeren Qualitäten, sondern auch seine Leistungsfähigkeit. Hier können dem Phönix fast nur gute Noten gegeben werden. Das Bild ist im Normalfall verzerrungsfrei und bildet die Konturen der verschiedenen Farben deutlich ab.

Lediglich bei krassen, plötzlichen Farbwechseln des gesamten Bildschirms flackerte beim Testgerät das Bild kurz auf. Als sehr gut ist die Schärfe in den Randbereichen des Bildausschnittes zu bezeichnen, der übrigens genau rechteckig dargestellt wird.

Eine Besonderheit ist der auf dem Frontpaneel befindliche Knopf zur Umschaltung auf monochromen Betrieb. Er schaltet den Monitor in eine Bildart, bei der alle Farben als Grüntöne erscheinen. Eine wesentliche Schärfenverbesserung ist mit diesem Trick allerdings kaum erreichbar. Auch die Bandbreite von 7 MHz läßt diesen Monitor nicht gerade eine gute Auflösung erreichen, denn hierzu sollte sie über 15 MHz liegen.

### Zukunftssichere Investition

Obwohl der Monitor mit einem Preis von zirka 900 Mark nicht gerade als »billiger Jakob« bezeichnet werden kann, stellt er eine zukunftssichere Investition dar. Ganz gleich, welcher Computer einmal angeschafft wird, der Phönix-Monitor verhilft ihm durch den Pal- und RGB-Anschluß zu einem klaren Bild.

(Arnd Wängler/rg)

Bezugsquelle: Holmatic, Postfach 1104 06, 2800 Bremen, Tel. 04 21/49 04 64

# C 16 — großer oder kleiner Bruder des C 64?

> Starkes Basic 3.5, aber weniger Speicherplatz als beim C 64 — wo ist der C 16 einzuordnen?

Vorab gesagt: Die Frage, ob es sich um den großen oder den kleinen Bruder des C 64 handelt, läßt sich aber nur mit »beides« beantworten. Er bietet teilweise mehr, teilweise weniger als der fast schon legendäre C 64. Bedauerlich, daß Commodore die Gelegenheit der Neueinführung nicht dazu benutzte, einen wirklich in allen Punkten verbesserten Computer herauszubringen. Dieser vergleichende Bericht soll dem potentiellen Käufer, der zwischen C 16 und C 64 hin- und hergerissen ist, eine kleine Entscheidungshilfe geben.

Der C 16 präsentiert sich im vertrauten Gehäuse, jetzt allerdings in grauer Farbe. Nur beim genauen Hinsehen entdeckt man einige äußerliche Unterschiede zum VC 20 und C 64: Vier separate Cursorsteuertasten liegen oben rechts. Die Funktionstaste 4 ist mit HELP beschriftet, und einige Tasten (%, 1, =, —) liegen an ungewohnter Stelle der QWERTY-Tastatur. Die RESTORE-Taste fehlt, dafür gibt es eine ESC-Taste für 18 Funktionen wie Editieren, Bildschirmfenster, Scrollen etc. Ein seitlich angebrachter RESET-Knopf versetzt den C 16 in den Einschaltzustand und löscht dabei den Speicher. Getrennte Anschlüsse für Fernseher und Monitor sorgen in beiden Fällen für optimale Bildqualität.

Nach dem Einschalten fällt das etwas breitere, hellere Bild angenehm ins Auge. In schwarzer Schrift erscheint auf hellblauem Hintergrund die Meldung
COMMODORE BASIC V 3.5 12277 BYTES FREE.

Damit ist schon der wichtigste Pluspunkt des C 16 erwähnt: das wesentlich erweiterte und verbesserte Basic V 3.5. Nach dem spartanisch einfachen Basic V 2 für den C 64 wird dem Programmierer das Arbeiten durch 21 Kommandos und 50 Anweisungen (beim C 64 nur 7 beziehungsweise 29) ganz wesentlich erleichtert.

Von den neuen Anweisungen seien hier als besonders wichtig PRINT USING, IF...THEN...ELSE und GET-KEY (GET ohne die Leerabfrage) erwähnt. Ganz neu sind einige Grafikanweisungen wie CIRCLE, COLOR, DRAW, LOCATE und PAINT. Für Töne und Musik gibt es die Anweisungen VOL (Lautstärke) und SOUND (Stimme 1 oder 2, Notenwert, Klangdauer). Erleichtert wird auch die Fehlerbehandlung durch TRON, TRAP, RESUME sowie die reservierten Variablen ER und EL, in denen die Nummern des letzten Fehlers und der letzten fehlerhaften Zeile gespeichert werden. DS und DS$ ermöglichen die direkte Abfrage des Fehlerkanales des Diskettenlaufwerks. Nicht nur für den Kenner nützlich ist der eingebaute Monitor, der mit MONITOR aufgerufen werden kann. Die Funktionstasten sind mit Basic-Befehlen belegt.

An den seriellen Ausgang des C 16 lassen sich verschiedene Floppy-Disk-Laufwerke, so auch die vertraute 1541, und die bekannten Drucker anschließen.

Auf dem C 64 geschriebene Programme können nur geladen und ausgeführt werden, wenn sie keine POKE-Befehle und keine in Maschinensprache geschriebenen Teile enthalten. Das ist sehr ärgerlich, aber man ist es von Commodore ja bereits so gewohnt.

Während der »große Bruder« mit 38911 freien Bytes im Arbeitsspeicher den Programmierer sehr verwöhnt, sind es beim C 16 nur noch 12277 Bytes. Dank der fortschrittlichen Speicherverwaltung des C 16 mittels »Banking« stehen allerdings nach Einstecken einer 64-KByte-Erweiterung mehr als 60000 Bytes dem Benutzer frei zur Verfügung. Kritik verdient auch die Tatsache, daß die »alte« Datasette und die »alten« Joysticks nicht mehr angeschlossen werden können. Die Anschlußbuchsen wurden geändert. Dies wurde aber mit entsprechenden Bauanleitungen in der 64'er behoben. Der USER-Port ist zu einem »Memory-Expansions-Schlitz« für Steckmodule geschrumpft.

Sprites können nicht mehr erzeugt werden, und auch der engagierte Musikfreund muß mit dem C 16 Einschränkungen hinnehmen. Kritisch muß noch angemerkt werden, daß das mitgelieferte Bedienungshandbuch trotz vieler schöner Beispiele nur ein Minimum an Information bietet.

Zusammenfassend kann man sagen, daß die Vorteile des C 64 zur Zeit in erster Linie beim höheren Software-Angebot liegen. Auch hinsichtlich der musikalischen Fähigkeiten und natürlich bei den Sprites hat der C 64 die Nase vorn. Die Grafikfähigkeiten beider Computer sind weitgehend identisch, der C 16 verfügt jedoch über 121 Farben, während es der C 64 nur auf deren 16 bringt. Die größte Stärke des C 16 ist jedoch die einfache und komfortable Programmierung. Zusammen mit dem günstigen Preis und der dennoch vorhandenen vielfachen Erweiterungsmöglichkeiten stellt der C 16 wohl den idealen Einsteiger-Computer dar. Der C 64 hingegen hat leichte Vorteile hinsichtlich der Hardware-Eigenschaften, ist aber aufgrund seines Minimal-Basic für den Einsteiger ungeeignet. Er ist aber der ideale Computer sowohl für den Nur-Spieler (und Nicht-Programmierer) als auch für den Maschinensprachespezialisten, der mit Basic wenig im Sinn hat.

(Dieter Hein/ev)

# Verbunden mit der ganzen Welt

> Zur Datenfernübertragung über das Telefonnetz mit dem C 64 ist im Normalrall eine RS232-Schnittstelle nötig. Denn sie ermöglicht erst den Anschluß eines Modems oder Akustikkopplers.

Die RS232-Schnittstelle ist mittlerweile ein Standard für Akustikkoppler und Direktanschlußmodems geworden. Bei Druckern ist sie inzwischen sehr selten geworden. Wir haben deshalb diese Schnittstelle mit einem Telefonmodem getestet und können guten Gewissens sagen: Das Mükra-Interfa-ce arbeitet einwandfrei mit einem Modem oder Akustikkoppler zusammen. Es zeigte während des längeren Betriebs keinerlei Fehlfunktionen oder Wackelkontakte.

Die Mükra-RS232-Schnittstelle ist in einen User-Port-Stecker eingebaut. Auf diese Weise spart man sich die Zuleitung an den C 64. Der Anschluß der RS232-Peripherie erfolgt über ein Kabel mit der für RS232-Schnittstellen genormten D-Sub-Steckverbindung mit 25 Kontaktpunkten.

Die dem Interface beiliegende Kurzanleitung enthält eine Zeichnung, die den Signalfluß zwischen User-Port und RS232-Stecker erklärt sowie ein Listing eines nur 12zeiligen Basicprogramms, mit dem man voll Duplex mit Mailboxen kommunizieren kann.

(M. Kohlen/hm)

Info: Mükra, Schönebergerstraße 5, 1000 Berlin 42, Tel. 0 30/7 52 9150. Preis: 129,-

# Alte Datasette am C 16

> Der neue Datasetten-Anschluß des C 16 ist ein Ärgernis für alle Besitzer einer »alten« Datasette. Mit wenig Aufwand läßt sich jedoch ein Adapter basteln.

Das größte Problem ist die Beschaffung eines geeigneten Steckers für den C 16. Wer keinen solchen auftreiben kann, der kann sich wie folgt selber einen bauen: Benötigt werden sieben IC-Wrap-Stifte als Steckkontakte (in jedem Elektronik-Shop erhältlich), ein Kunststoffring mit einem Innenloch, größer als die Buchse am C 16, aber kleinen Außenmaßen, um nicht den seriellen Port zu verdecken, Tesafilm, ein Zwei-Komponenten-Kleber, eine Nadel, ein Stück Veroboard, das den recorderseitigen Anschluß bildet (ebenfalls im Elektronik-Shop erhältlich). Und so wird's gemacht: Die Recorderbuchse mit mindestens drei Lagen Tesafilm zukleben. Mit der Nadel die Löcher für die IC-Stifte vorstechen (Vorsicht, nicht zu groß!) Dann die Stifte durch die Löcher in die einzelnen Buchsenlöcher einstecken. Nun den Zwei-Komponenten-Kleber anrühren, ruhig etwas dickflüssiger. Als nächstes legen Sie den Kunststoffring auf den Tesafilm mit den Stiften. Nun das Ganze mit einer ersten Schicht Kleber vorläufig fixieren. Seien Sie nicht zu sparsam mit dem Kleber und fixieren Sie auch die IC-Stifte damit. Gut aushärten lassen, dann vorsichtig aus der Buchse herausziehen. Danach die Lötseite noch durch weitere Schichten Kleber sichern. Schon ist der Stecker fertig (Bild 1).

Einfacher ist die Herstellung des Recordersteckers. Hier genügt ein Stück Veroboard mit genau sieben Kontakten, in das, wie in Bild 2 übertrieben dargestellt, ein Schlitz gesägt werden muß.

Als letztes muß die Kabelverbindung zwischen Recorder- und Computerstecker hergestellt werden.

(Peter Schneider/ev)

# Tips und Tricks für C 16/C 116

Die »nur« 2 KByte Speicher im Grafikmodus verleiten dazu, die Technik des Programm-Chaining anzuwenden. Dies bedeutet nichts anderes, als daß ein Programm das nächste nachlädt. Dies kann allerdings zum totalen Chaos führen, wenn das nachgeladene Programm auch nur ein Byte länger als das vorhergehende ist. Dann tauchen Fehlermeldungen wie »FORMULA TOO COMPLEX« während des Listens und ähnliches auf. Ein Editieren des nachgeladenen Programms führt dann schließlich zu einem totalen System-Zusammenbruch nach dem Nichts-geht-mehr-Prinzip. Auch der inzwischen schon relativ bekannte Trick, einen Reset bei gedrückter STOP- und Commodore-Taste auszulösen, um so im Monitor zu landen, mit X wieder herauszugehen und schon ist das Programm wieder da, kann hier nicht mehr helfen. Also aufgepaßt beim Chaining. Ist das Hauptprogramm allerdings länger als das nachzuladende Programm, dann treten keine Schwierigkeiten auf. Es bleiben sogar alle Variablen (auch Stringvariable) erhalten. Im Zweifelsfalle empfiehlt es sich daher, das Hauptprogramm mit REM-Zeilen künstlich zu verlängern.

In diesem Zusammenhang sollte vielleicht erwähnt werden, daß GRAPHIC 0 die Grafik zwar abschaltet, diesen Bereich aber nicht wieder für Basic freigibt. Hier hilft dann nur GRAPHIC CLR, ein im Handbuch nur beiläufig erwähnter Befehl.

Ein Fehler hat sich in den RENUMBER-Befehl eingeschlichen. Befindet sich irgendwo eine Zeile mit einem GOTO-Befehl auf eine illegale Zeile, so zum Beispiel 65535, dann steigt der RENUMBER-Befehl mit SYNTAX ERROR aus, ohne eine Zeilenangabe zu geben.

Zum Schluß noch ein Hardwaretip: Wenn der C 16 mal nicht so tut wie er soll, dann kann das daran liegen, das die Sicherung im Netzteil kaputt ist. Dort ist nämlich eine Sicherung eingebaut, die weniger belastbar als die im C 16 ist und die somit eher »rausfliegt«. Also erst beide Sicherungen (im Computer und im Netzteil) überprüfen, bevor das Gerät in die Werkstatt wandert. Aber Vorsicht bei neuen Computern, die Garantie erlischt durch Öffnen des Gehäuses.

(Peter Schneider/ev)

# Ich glaub, mein Drucker pfeift

> Wer seinen Drucker bisher nur benutzte, um Listings zu Rapier zu bringen, dem zeigt der Print Shop, was so ein Drucker eigentlich alles kann.

Nun gibt's ihn auch für die C 64-Besitzer, den Print Shop. Schon seit einiger Zeit machte er bei den Apple-Besitzern Furore und ist in Amerika gar auf Platz 1 der Software-Hitlisten gelandet.

Print Shop ist, wie der Name schon erahnen läßt, ein Druck-Programm. Es wird aufgrund der grafischen Fähigkeiten ein Matrixdrucker benötigt. Print Shop unterstützt eme derart große Zahl von Druckern, daß wir sie hier nicht alle aufzählen können. Eine eigene Set Up-Option im Programm erlaubt die Anpassung an die verschiedensten Druckertypen, darunter (natürlich) Epson FX-80 und Kompatible (auf einem solchen entstanden unsere Beispielbilder) und viele andere mehr. Besitzen Sie einen recht exotischen Drucker, sollten Sie trotzdem vor dem Kauf nachfragen, ob Print Shop mit diesem zusammenarbeitet.

Auf der Rückseite der Print Shop-Diskette ist sogar eine Version für die Commodore-Drucker 1525/ MPS 801 vorgesehen. Aber um es gleich vorwegzunehmen: So hervorragende Ergebnisse wie mit einem Epson sind hier nicht zu erzielen.

Nun aber zum Programm selbst. Das Handbuch, das zwar nur in Englisch erhältlich ist, ansonsten aber hervorragend gemacht wurde, braucht man wohl nur einmal, um sich die vielfältigen Möglichkeiten vor Augen zu führen. Denn die Benutzerführung mit den zahlreichen Menüs ist nur mit »perfekt« zu bezeichnen.

Bedienungsfehler, die äußerst selten sind, werden mit einer kleinen Melodie beantwortet. Hat man mal einen Gestaltungsfehler gemacht, den man erst einige Menüs später entdeckt, so geht man mit der »Pfeil nach links«-Taste solange zurück, bis der Fehler auftaucht, korrigiert diesen, und tippt dann einfach RETURN, bis man an der Stelle ist, von der man den Weg zurück angetreten hatte. Alle Eingaben bleiben also, solange sie sinnvoll sind, erhalten, um Tipparbeit zu sparen.

Eigentlich nicht notwendig, aber trotzdem vorhanden sind Hilfstexte, die bei Bedarf über CTRL-I abgerufen werden können.

Auffallend ist, daß alle Bildschirm-Ein- und Ausgaben in Proportionalschrift vorgenommen werden. So kann man sich schon früh eine Vorstellung machen, wie der Text später aussehen wird. Der Haken daran ist die doch recht geringe Ausgabegeschwindigkeit. Schnelle Tipper können Print Shop schon einmal überholen, so daß Buchstaben verschluckt werden.

Aber nun zum Hauptsächlichen: Was läßt sich alles drucken?

Das Hauptmenü bietet folgende Optionen: Glückwunschkarten, Schilder, Briefköpfe, Transparente.

Das klingt ein bißchen wenig, aber all diese Optionen sind derart flexibel, daß die tatsächlichen Möglichkeiten praktisch unbegrenzt sind.

Beginnen wir mal mit den Glückwunschkarten. In einem Arbeitsgang werden drei Seiten einer vierseitigen Aufklappkarte bedruckt: Die Vorderseite, die rechte Innenseite und die Rückseite. Durch Falten des ausgedruckten A4-Blattes an den beiden Mittellinien, wird die Karte im Postkartenformat dann vollendet. Auf der Vorder- und Innenseite können jeweils in einem von acht möglichen Zeichensätzen ein beliebiger Text gedruckt werden. Die einzelnen Buchstaben können zusätzlich noch gefüllt, umrandet oder im 3D-Effekt und in zwei verschiedenen Größen gedruckt werden. Das Ganze wird dann mit einem Grafikmuster, entweder einem selbstentworfenen oder einem der 60 mitgelieferten, unterlegt. Dabei ist die Größe des Zeichens sowie seine Position(en) in gewissen Grenzen vom Benutzer bestimmbar. Und wem das immer noch nicht reicht, der kann zwischen acht verschiedenen Umrandungen wählen. Auf der Rückseite der Karte wird nur eine kleine Zeile gedruckt, in der sich der Künstler selbst verewigen kann. Sollte Sie bei derart vielen Möglichkeiten die Kreativität im Stich lassen: Karten zu den verschiedensten Anlässen werden auf der Programmdiskette mitgeliefert, in die nur noch der Name des zu Beglückwünschenden eingesetzt werden muß.

Natürlich ist man hier nicht auf Glückwünsche beschränkt. Einladungen, Danksagungen, Notizzettel und vieles andere mehr sind vorstellbar, da Sie ja die volle Kontrolle darüber haben, was an Text und Grafik zu Papier gebracht wird.

Wer anderen dagegen etwas im vollen A4-Format mitteilen möchte, kann dies mit der Schilder-Option tun.

Sollte Ihnen A4 nicht genügen, können Sie mit der Banner-Option meterlange Transparente ausdrucken. Dies natürlich auch in acht verschiedenen Zeichensätzen, und eingerahmt von Grafiksymbolen. Ausnutzen kann man diese Option, wenn man Freunden imponieren, oder sein Zimmer mit klugen Sprüchen neu tapezieren möchte. Im letzteren Fall sollte man schon mal einige Farbbänder nachkaufen.

Genauso interessant ist auch die Briefkopffunktion (Bild 1). Ein Grafiksymbol, ein großer Schriftzug und drei Zeilen Text sowohl am oberen als auch am unteren Ende des Papiers können gedruckt werden. Zur Schonung des Druckers empfiehlt es sich, das Endergebnis dann zu fotokopieren, damit man für jeden neuen Bogen Briefpapier nicht wieder den Print Shop starten muß. Diese Option läßt sich übrigens auch zum Druck von Visitenkarten zweckentfremden, es bleibt bloß die Frage, wie man entsprechend starkes Papier in den Drucker hineinbekommt.

Der vorletzte und flexibelste Menüpunkt heißt Screen Magic, und läßt sich beim besten Willen nicht ins Deutsche übersetzen. Mit Screen Magic kann man Bilder direkt auf dem Bildschirm entwerfen, und dann eine Hardcopy auf dem Drucker ausgeben. Sinn des Ganzen: Es können die mitgelieferten Kaleidoskope (optische Bilder mit Spiegeleffekt), die auch so zum Anschauen reizen, als Hintergrund für Texte, aber auch selbstentworfene Grafikbilder verwendet werden. Diese dürfen aber nur einfarbig sein, und ab $4000 stehen. Screen Magic ist allerdings kein Zeichenprogramm im Sinne von HI-EDDI: Das Aufbringen von Text und die Kaleidoskope sind, neben dem Ausdruck, die einzigen Fähigkeiten dieser Option. Dies tut ihrer Flexibilität aber keinen Abbruch. Durch das Mischen von Zeichensätzen (Bild 2) und Schriftarten in einer Zeile lassen sich zum Beispiel Monatskalender (Bild 3), oder aber auch besonders auffällige Schilder, allerdings im kleineren Format (ungefähr A5) drucken.

Die wohl wichtigste Option ist aber der Grafik-Editor. Mit ihm kann man, wie schon erwähnt, selber Grafiksymbole in einer Auflösung von 87 mal 51 Punkten entwerfen (bei Commodore-Druckern ist die Auflösung geringer). Wer allerdings vor hat, seinen Briefkopf mit dem eigenen Konterfei zu versehen, sei gewarnt: Ein Zeitaufwand von vier bis fünf Stunden ist durchaus drin, da ein entsprechendes Foto erstmal in Hell-/Dunkel-Werte umgewandelt sein will, sozusagen ein Digitalisieren von Hand. Und auch die Eingabe mit dem Editor dauert ein Weilchen. Er kann zwar mit der Tastatur, einem Joystick oder dem Koala-Pad bedient werden, seine Zeichenfunktionen beschränken sich aber auf das sture Löschen und Setzen von Punkten. Dies ist bei der vorhandenen Auflösung aber noch erträglich. Trotzdem wären Befehle zum Linien zeichnen oder Flächen ausfüllen, wie man sie von anderen Zeichenprogrammen kennt, angebracht. Und noch etwas stört: Es wird nur mit den Farben Schwarz und Weiß gearbeitet, dem späteren Druckergebnis entsprechend. Hat man aber keinen Monitor, sondern »nur« einen Farbfernseher, sind die harten Kontraste äußerst störend, und wenig augenfreundlich. Da kann man den Mini-Cursor schon leicht mal übersehen und einen Punkt falsch positionieren. Selbstverständlich können fertige Kreatio-nen auf Diskette gespeichert oder zur Überprüfung erst einmal ausgedruckt werden. Auch das Verändern der schon vorhandenen Grafiksymbole ist möglich.

Sicherheitshalber soll noch einmal erwähnt werden, daß Print Shop ein völlig eigenständiges Programm ist, und somit keine Texte aus einem Textverarbeitungsprogramm übernommen werden können. Störend ist vielleicht auch, daß, wie bei amerikanischen Produkten leider üblich, keine Umlaute vorhanden sind.

Wenn man Print Shop einige Tage im Test gehabt hat, fällt es leicht, ein Fazit zu ziehen. Bis auf einige Details ist es ein Spitzenprogramm, das den Preis von 140 Mark wert ist. Nicht nur die Idee, die dahinter steckt, sondern auch die Ausführung, das mitgelieferte Material (es liegen 20 Blatt farbiges Druckerpapier sowie Briefumschläge bei) und die Benutzerführung verdienen die Note »sehr gut«.

(Boris Schneider/rg)

Info: Softline, Schwarzwaldstr. 8a, 7602 Oberkirch, Tel. 0 78 02/37 04, Preis: 140 Mark

TODO ASIDE
Epson RX-80/MX-80 & -100,
FX-80 & 100
Star Microtronics 10X/15X
C-Itoh 8510
Legend 880
NEC 8023A
Panasonic KX-P1090/1091
Mannesmann Tally Spirit 80
Blue Chip
Okidata 92/93
Commodore 1525/MPS 801
Print Shop arbeitet mit diesen und allen dazu kompatiblen Druckern zusammen.
TODO /ASIDE

# Basic 64 — ein vielseitiger Basic-Compiler

> Die Stärken dieses neuen Compilers sind ohne Zweifel seine vielen Funktionen. Obwohl es einige Mühe macht, sie alle auszunutzen, kommt aber auch ein Anfänger ohne Probleme mit diesem Compiler zurecht.

Basic 64 konnte in der Ausgabe 2/85 des 64'er nicht berück-sichtigrt werden, da er zu der Zeit noch nicht in einer endgültigen Version vorlag. Wir testeten damals die Compiler Petspeed, Austro Speed, den BASS- sowie den Exba-sic Level II-Compiler. Damit ein Vergleich zu diesen Compilern möglich ist, wurde dieser Test mit den gleichen Testprogrammen und unter den gleichen Voraussetzungen vorgenommen.

Als Meßeinheit diente wieder das Programm EDDI aus der 64'er, Ausgabe 10/84, das eine Länge von 14 Blöcken hat. Wie schon einmal angesprochen, eignet sich dieses Programm deshalb so gut, weil es fast alle Bereiche der Programmierung abdeckt, nicht auf Compiler abgestimmt ist und außerdem einen Fehler aufweist. Dieser Fehler wird beim normalen Programmablauf nicht erreicht und hat auch sonst keinen nachteiligen Einfluß auf die Funktion von EDDI. Es dürfte jedoch interessant sein, wie Basic 64 auf diesen Fehler reagiert.

Mit EDDI wurde die Dauer und Fehlerfreiheit des Compilierens getestet.

Zur Messung der Geschwindigkeit verwenden wir die ebenfalls in Ausgabe 2/85 abgedruckten Benchmarks. Anhand der ermittelten Zeiten können Sie dann feststellen, auf welchen Teilgebieten der Compiler entweder besonders schnell oder langsamer arbeitet (Tabelle 1 und 2).

## Der Basic 64-Compiler

Beginnen wir mit dem Lieferumfang des Compilers. Sie erhalten beim Kauf von Basic 64 einen Ringbuchordner, der ein Handbuch mittleren Umfangs und eine Diskette enthält.

Die Dokumentation erwies sich als gut. Sie führt in alle Funktionen des Compilers ein und erläutert ausführlich die vielen Zusätze, die Basic 64 besitzt.

Wie schon der Austro-Speed-Compiler, so ist auch der Basic 64 ein Zwerg in unserer Testreihe. Das Programm besteht aus ungefähr 90 Blöcken (22,5 KByte), in denen alle Funktionen untergebracht sind, auf die wir gleich noch zu sprechen kommen.

Es handelt sich bei Basic 64 um einen 2-Pass-Compiler, der im gesamten Aufbau etwas an Austro-Speed erinnert.

Die Bedienung erwies sich als sehr einfach und dürfte auch dem Neuling keine großen Schwierigkeiten machen. Wenn man Basic 64 mit den vier anderen Konkurrenten vergleicht, dann läßt sich eine Eigenschaft dieses Programms jedoch nicht verleugnen: Basic 64 ist mit Abstand der vielseitigste Compiler. Er bietet eine Fülle von Einstellmöglichkeiten und direkten Befehlen (Direktiven), so daß er sehr anpassungsfähig ist.

Es ist mit ihm zum Beispiel möglich, zwischen Adreßcode- und Assemblercode-Compilierung zu wählen und beide Modi sogar miteinander zu verbinden.

Weitere Möglichkeiten sind zum Beispiel freie Verschiebbarkeit des CompiIats im Speicher, Nutzung von über 60 KByte Basic-Speicher, modifizierte Integer-Arithmetik und Simulation von »ON ERROR GOTO«-Befehlen.

Eine Eigenschaft, die Basic 64 ebenfalls stark von seinen Konkurrenten abhebt, ist sicherlich die Behandlung von Programmen, die während eines Programmablaufs nachgeladen werden (Overlay).

Für solche Overlay-Pakete besitzt Basic 64 einen speziellen Modus, der sogar Warm-Overlay, also Nachladen von Programmteilen ohne Löschen der Variablen erlaubt. Es wird so eine hohe Kompatibilität zum Basic V2.0 des Commodore 64 gewahrt.

Der einzig einschränkende Faktor zum Interpreter besteht in der Tatsache der Dimensionierung. Auch Basic 64 erlaubt, wie die meisten anderen Compiler, keine variable Dimensionierung (DIM A(N)), was durch die spezielle Variablenbe-handlung bei Compilern bedingt ist.

Tritt eine solche Dimensionierung jedoch auf, wird der Benutzer nach der Größe des Feldes gefragt und diese eingesetzt. Hierbei ist zu beachten, daß auch der folgende Aus-druck

A = 10000 : DIM N(A)

eine variable Dimensionierung darstellt, obwohl A eindeutig definiert wurde.

Es ergibt sich ein recht guter Gesamteindruck, was die vielseitige Einsetzbarkeit dieses Compilers angeht. Bei Basic 64 fehlt deshalb auch die Verarbeitung von Erweiterungen nicht, die hier sogar speziell angewählt werden können.

Als Erweiterungen »versteht« Basic 64: Supergrafik 64 (und 64 + ), Simons Basic, Exbasic Level II und Basic 4.0.

Befehle dieser Erweiterungen werden vom Compiler, wie schon von den anderen Testkandidaten, im Non-Compiled-Code angelegt und dem jeweiligen Interpreter dann zur Ausführung übergeben.

## Basic 64 im Test

Nun kommen wir zu unseren Testergebnissen.

Zum Compilieren von EDDI benötigte Basic 64 ungefähr 6,30 Minuten (5,55 im Adreßcode-Modus). Er ist damit nach Austro-Speed der zweitschnellste Compiler.

Damit die Voraussetzungen für einen Vergleich zwischen Basic 64 und den anderen Compilern gegeben sind, wurde das Programm EDDI im Assemblercode-Modus com-piliert.

Die Länge des Compilats lag mit 40 Blöcken im Durchschnitt und bietet keinen Grund zur Beanstandung (im Adreßcode-Modus sind es wie beim Austro-Speed nur 32 Blöcke). Positiv fiel auch auf, daß während des Compilierens kein Diskettenwechsel notwendig ist.

Der Fehler in Zeile 1070 wurde von Basic 64 in Pass 2 erkannt, ohne daß jedoch nachteilige Folgen für EDDI daraus entstanden wären. Der Compiler arbeitete weiter und lieferte ein vollkommen funktionsfähiges Compilat.

In Tabelle 1 sind alle Testergebnisse noch einmal zusammengefaßt.

In Tabelle 2 sehen Sie die Ergebnisse des Benchmark-Tests. Hier zeigt Basic 64 durchschnittliche Werte, die in etwa denen des Austro-Speed entsprechen.

Es muß an dieser Stelle der Vollständigkeit halber jedoch noch erwähnt werden, und das gilt auch für die Compiler-Tests in der Ausgabe 2/85, daß die Geschwindigkeiten des Benchmark-Tests unter Umständen ein unklares Bild liefern können. Die Testprogramme sind nämlich generell nicht an einen Compiler angepaßt und können demzufolge nicht dessen spezielle Eigenschaften ausnutzen. Durch optimierende Eingriffe in Programme und durch Anweisungen an die Compiler können deshalb in der Regel noch höhere Leistungen erzielt werden.

## Basic 64 im Überblick

Basic 64 zeigte in diesem Test Eigenschaften, die durchweg als positiv zu sehen sind. Die Dokumentation ist sehr ausführlich und gibt dem Leser viele Informationen über die Arbeitsweise dieses Compilers.

Der Compiler selbst ist sowohl für Anfänger (laden, starten, fertig) als auch für diejenigen mit viel Programmiererfahrung geeignet. Der Erfahrene wird viele Möglichkeiten finden, seine Programme auf die Stärken des Compilers hinzutrimmen. Dabei wird er unterstützt durch die vielen wählbaren und einstellbaren Funktionen des Basic 64.

Die Geschwindigkeitstests ergaben durchschnittliche Werte, die in etwa denen des Austro-Speed entsprechen. Durch kleine Änderungen im Basic-Programm und durch Wahl anderer Basic 64 Funktionen kann die Geschwindigkeit jedoch noch gewaltig erhöht werden, so daß in günstigen Fällen sogar die Zeiten des Petspeed überboten werden können.

Insgesamt gesehen also viel Leistung für 99 Mark.

(Karsten Schramm/gk)

# Texte gut im Griff

> Haben Sie es satt, ständig Tippfehler zu verbessern oder gar ganze Seiten von neuem zu schreiben, dann sollten Sie Ihre Texte mit dem Computer bearbeiten.

Um sich mit dem Computer das Tippen von Texten zu erleichtern, benötigt man neben dem Computer mindestens einen Massenspeicher, einen Matrixdrucker und ein Textverarbeitungsprogramm. Haben Sie die Hardware schon gekauft, kommt noch mal die Qual der Wahl: das Programm. In der Marktübersicht finden Sie die

## Was ist zu beachten?

wichtigsten, allgemeinen Kriterien für Textverarbeitungsprogramme. Ausführliche Tests und Beschreibungen von Textprogrammen können Sie in diversen Ausgaben des 64'er nachlesen. Eine Übersicht finden Sie im Jahresinhaltsverzeichnis.

### Druckerprobleme

Die Verträglichkeit mit dem vorhandenen Drucker ist sicherlich das wichtigste Kriterium. Commodore-Drucker, die keinen deutschen Zeichensatz haben, stellen einige Anforderungen an die Programme, denn diese Zeichen müssen im Grafikmodus an den Drucker geschickt werden. Andere Fabrikate haben in der Regel keinen seriellen Bus und können daher nur über ein spezielles Interface am C 64 angeschlossen werden. Da sich über die Verträglichkeit Software-Interface-Drucker keine allgemein gültigen Regeln aufstellen lassen, sei gesagt, daß die Anpassung des Textprogrammes an das Interface um so komplizierter werden kann, je mehr Funktionen das Interface hat.

### Allgemeine Anforderungen

Die Arbeitsgeschwindigkeit des Programms ist von großer Bedeutung für eine ernsthafte Anwendung. Programme, die so langsam sind, daß die Bildschirmanzeige dem Eintippen nachhinkt, sollte man mit Vorsicht genießen.

Für Rundschreiben ist es wichtig, daß Dateien von Adreßverwaltungen gelesen werden können, damit man die Anschriften nicht von Hand tippen muß. Will man sich nicht auf ein bestimmtes Adreßverwaltungs-programm beschränken, sollte das Textverarbeitungsprogramm jede sequentielle Datei lesen können.

Besitzt Ihr Drucker einen deutschen Zeichensatz, sollte das Textverarbeitungsprogramm auch auf dem Bildschirm Umlaute und das »ß« darstellen können. Für teure Drucker, die selbstdefinierte Zeichen erlauben (Epson FX-80), ist es wichtig, daß das Programm eine ladbare Tabelle für ASCII-Codes hat. Auf diese Weise können Sie zum Beispiel mathematische Zeichen drucken. Kann der Drucker Fettdruck, Sub- und Superscript (Hoch-und Tiefstellung von Zeichen) und andere Schriftarten wie Elite oder Proportionalschrift, dann sollten diese Funktionen innerhalb des Textverarbeitungsprogramms ansprechbar sein. Um die Druckart zu ändern, müssen in den Text Steuercodes für den Drucker eingebaut werden. Einige Programme verlangen dazu die Eingabe teils recht langer Sequenzen, andere haben eine Tabelle, in der die benötigten Codes einmal definiert werden und, auf ein Steuerzeichen im Text hin, selbst die richtige Code-Sequenz senden.

Die Eingabe des Textes kann auf mehrere Arten erfolgen:

### — zeilenorientiert

Es kann immer nur eine Zeile eingegeben und verbessert werden. Eine Textzeile geht dabei meist über zwei Bildschirmzeilen, hat also 2x40 = 80 Zeichen.

### — bildschirmorientiert

Der gesamte Bildschirm kann zur Eingabe und Korrektur verwendet werden. Mit den Cursor-Tasten kann an jede beliebige Stelle im Text gefahren werden. Die Zeilenlänge umfaßt 40 oder 80 Zeichen. 80 Zeichen werden durch horizontales Verschieben des Bildschirminhaltes dargestellt (horizontales Scrolling). Der Text wird erst beim Druck formatiert.

### — druckorientiert

Der Text am Bildschirm sieht so aus wie später das Druckbild. Mehr als 40 Zeichen pro Zeile werden auch hier nur durch horizontales Scrolling möglich.

### Formatierung

Die Formatierung regelt das Aussehen des Drucks. Linksbündig oder linker Randausgleich bedeutet, daß alle Zeilen an der gleichen Stelle beginnen, aber unterschiedlich lang sind. Das entspricht dem normalen Schriftbild (Flattersatz). Rechtsbündige Formatierung macht genau das Gegenteil und hat dadurch eine auffallende Wirkung. Der Blocksatz gleicht die Abstände in den Zeilen so aus, daß der linke und rechte Schriftrand völlig gerade ist.

### Erleichterungen

Textblöcke kopieren, verschieben, löschen und das Nachladen von Textteilen kann eine Menge Tipparbeit ersparen. Mit der Funktion »Suchen und Ersetzen« läßt sich beispielsweise schnell »DM« gegen »$« ersetzen.

Die aufgeführten Leitungsmerkmale sollen Ihnen den Standard eines Textverarbeitungsprogrammes zeigen. Wenn Sie komplizierte Texte zu bearbeiten haben, mit vielen Hoch-, Tiefstellungen, Unterstreichungen oder Schriftarten, sollten Sie das Programm in Hinsicht auf Zuverlässigkeit und Anwenderfreundlichkeit genau unter die Lupe nehmen.

(hm)

# Malkasten ade!

> Aus der inzwischen doch recht ansehnlichen Masse der Zeichenprogramme ragt »Blazing Paddles« heraus.

Hat man Blazing Paddles das erste Mal in den Händen, denkt man unweigerlich: »Schon wieder ein Zeichenprogramm!«

Doch diese Meinung schlägt schnell in Begeisterung um, denn Blazing Paddles für den C 64 verfügt über Fähigkeiten, von denen andere Zeichenprogramme nur träumen können.

Das fängt schon bei der verwendbaren Hardware an: Neben den »Standard«-Zeichengeräten Joystick und Koala-Pad, werden die schon im Namen erwähnten Paddles, Lichtgriffel sowie der Trackball und seine kleinen Kollegen, die Mäuse, unterstützt.

Und hier findet sich auch gleich einer der wirklich wenigen Kritikpunkte: Mit einem Lichtgriffel, verwendet wurde der ebenfalls in dieser Ausgabe getestete Tech-Sketch-Lightpen, waren keine befriedigenden Ergebnisse zu erzielen. Als geradezu ideal erwies sich aber das Arbeiten mit dem Trackball. Meiner Meinung nach lassen sich damit präzisere Ergebnisse als mit dem Koala-Pad erzielen.

Hat man Blazing Paddles geladen, und angegeben, welches Zeichengerät angeschlossen ist, wird man mit einem farbenfrohen großen Menü begrüßt. Der mittlere Teil ist zu diesem Zeitpunkt allerdings noch leer, da dort immer ein Ausschnitt des aktuellen Bildes gezeigt wird.

Auf diesem Menü tauchen dann viele bekannte Funktionen auf, die wir schon von anderen Zeichenprogrammen kennen. Im folgenden wird deswegen nur auf die Besonderheiten von »Blazing Paddles« eingegangen. Zu diesen Funktionen sei nur kurz erwähnt, daß die Geschwindigkeit enttäuschend ist.

## Farben mischen

Schauen wir uns mal kurz das Farb-Menü an, das schon eine Überraschung bietet: Es lassen sich nämlich Farben »mischen«. Dies bedeutet nichts anderes, als das sich Farbpunkte zweier verschiedener Farben in einer Matrix stets abwechseln. Doch trotz dieser Einfachheit lassen sich erstaunliche Effekte erzielen. Negativ dabei: Füllt man eine unregelmäßige Fläche mit einer Mischfarbe, läßt sich das einige Zeichenschritte später nicht mehr rückgängig machen. Beim Umfärben dieser Fläche stößt man dann auf die Schwierigkeit, daß ein einzelner Punkt von vier Punkten anderer Farbe umschlossen ist, und somit schon eine eigene abgeschlossene Fläche bildet.

Über dem Aufrufpunkt des Fill-Befehls steht verheißungsvoll das Wort »Spray«, illustriert von einer Sprühdose. Und tatsächlich: Hiermit lassen sich Effekte erzielen, als ob tatsächlich mit einer Sprühdose gearbeitet wurde. Insbesondere Farbübergänge lassen sich recht einfach zaubern. Nach zwei Wochen Sprühdosenbetrieb weiß ich nicht mehr, wie ich früher ohne eine solche ausgekommen bin.

Aber Blazing Paddles kann noch mehr. Einzelne Bildausschnitte, treffenderweise Windows genannt, können aus dem Bildschirm ausgeschnitten, abgespeichert, wieder geladen und in andere Bilder einkopiert werden. Leider können diese Windows nicht, wie beispielsweise bei Paint Magic, vergrößert oder verkleinert werden. Außerdem kann man diese Windows nicht so fein positionieren, wie es die Auflösung des C 64 zulassen würde. In X-Richtung kann ein Window um jeweils 4, in Y-Richtung um 8 Punkte versetzt werden.

## Graffity am Bildschirm

Weitere interessante Menüpunkte sind die Text- und die Shape-Option. Texte können in vier verschiedenen Zeichensätzen in das Bild eingefügt werden. Dadurch, daß der Text nach dem Schreiben nochmal neu positioniert werden kann, sind Zentrierungen, oder konstante Zeilenabstände sehr einfach zu verwirklichen. Anstelle von Buchstaben können aber auch vorgefertigte grafische Gebilde, die schon erwähnten Shapes, verwendet werden. Zwei Haken hat die Geschichte aber: Was da an Shapes mitgeliefert wird, ist recht kläglich, vergleicht man es mit der Qualität des übrigen Programms. Ein paar Tiere, Verkehrsmittel, Pflanzen und Waffen, können höchstens einen bescheidenen Grundstock für eine Shape-Samm-lung bilden. Und wer nun glaubt, dem durch Entwurf eigener Shapes abhelfen zu können: Dies ist leider bisher nicht vorgesehen.

Auf dem Menü ist ein ganz kleines Kästchen mit einem Fragezeichen vorhanden. Nach Anwahl dieses Kästchens erscheint der Schriftzug »Insert Editor Disk«. Die Anleitung hüllt sich hierzu in Schweigen. Wer seinen Shape-Bestand aufstocken will: Schon jetzt sind neue Shapes und Zeichensätze nachkaufbar, die dann in den beiden entsprechenden Optionen verwendet werden können.

Nicht vergessen werden soll hier aber die vorbildliche Peripherie-sprich Disketten- und Druckerunterstützung.

## Vorbildliche Unterstützung der Peripherie

Im Diskettenuntermenü kann man nicht nur einfach Bilder, Windows, Zeichensätze und Shapes laden oder speichern, sondern auch wieder löschen oder umbenennen. Auch das Formatieren einer Diskette und die Anzeige eines Directory ist vorgesehen.

Die Ausgabe von Hardcopies kann ebenfalls direkt von Blazing Paddles aus geschehen. Unterstützt werden hierbei Commodore 1525/ MPS 801, Epson- und Gemini-Druk-ker. Die Farben auf dem Bildschirm werden sogar in Graustufen übersetzt. Auch dies eine nicht alltägliche Option.

Ein echter Programmfehler liegt allerdings im Zoom-Modus vor! Es war mir während der Testzeit nicht möglich, im Zoom-Modus die Zeichenfarbe zu ändern, was laut Anleitung auf Tastendruck möglich sein sollte. Und mehrere Male gelang es nur durch Ausschalten des Computers den Zoom-Modus zu verlassen. Das Bild war dann natürlich futsch.

Ansonsten aber erwies sich Blazing Paddles als das leistungsfähigste Zeichenprogramm, das es zur Zeit gibt.

(Boris Schneider/rg)

Info: Softline, Schwarzwaldstr. 8a, 7602 Oberkirch, Tel. 0 78 02/37 07, Preis: 169 Mark

# Aztec Basic — von jedem etwas

> Wer eine leistungsfähige Befehlserweiterung für den C 64 sucht, die mit Simons Basic konkurrieren kann, der hat sie mit diesem Programm gefunden.

Aztec Basic ist eine neue Sprach-Erweiterung, die vor allem Grafik- und Spieleprogrammierern zugedacht ist, denn der Großteil der Befehle besteht aus Spritehilfen, HiRes- und Farbprogrammierkits sowie Musikbefehlen. Aber auch an den Programmierer ernsthafter Anwendungen wurde gedacht.

## Toolkit-Funktionen

Aztec Basic bietet die schon zum Standard gewordenen Programmierhilfen wie RENUM, FIND, TRACE, DEL, OLD, AUTO, DUMP und DIR. Diese Funktionen helfen vor allem den Programmierern, die gerade an der Arbeit sind und auf Fehlersuche gehen müssen.

## Extended Basic

Unter diese Kategorie fallen Befehle, die für alle Programme nützlich sind und sich nirgends so richtig einordnen lassen. Bekannt dürften solche Befehle aus Erweiterungen wie Exbasic oder GBasic sein. Da gibt es zum Beispiel den Befehl INSTR zum Suchen von Strings innerhalb anderer Strings oder SWAP zum Vertauschen zweier Variablen. Befehle für kontrolliertes Zugreifen auf Zeilennummern (Restore Zeilennummer und kontrolliertes Gosub) sind ebenfalls vorhanden. Texte können außerdem mit Hilfe des CENTRE-Befehls zentriert ausgegeben werden. PRINT AT ermöglicht es, Texte auf beliebige Bildschirmstellen zu PRINTen, ohne Steuerzeichen einsetzen zu müssen.

Solche Befehle eignen sich hervorragend für die Programmierung von Anwendungen (zum Beispiel Textverarbeitungen)

## Strukturiertes Programmieren

Aztec Basic stellt für Anhänger der strukturierten Programmierung so komfortable Befehle wie REPEAT, UNTIL, WHILE und WEND, LOOR ENDLOOP und EXITIF zur Verfügung. Ebenso lassen sich einzelne Unterprogramme mit Namen definieren (DEFPROC) und auch aufrufen (PROC Name = GOTO Unterroutine). Schade ist nur, daß nicht auch die Möglichkeit besteht, lokale Variable zu benutzen und so die Strukturierung wirklich voll auszunutzen.

## Grafik

Die HiRes-Grafik bietet zwar keine besonders aufregende Geschwindigkeit, erfüllt aber voll ihren Zweck. Außer dem Setzen und Löschen von Punkten sowie dem Zeichnen von Linien gibt es noch Möglichkeiten, ausgemalte Kästchen auf den Bildschirm zu zaubern oder einen beliebigen Teil der Grafik zu invertieren. Interessant ist auch der kleine Anhauch eines Turtle-Grafik-Befehlssatzes, der allerdings kaum Verwendung in Programmen finden wird.

Als sehr angenehm erweist sich die Arbeit mit Sprites. Kein einziges Detail dessen, was man mit Sprites alles anstellen kann, wurde vergessen. Die sehr einfach zu erstellenden Sprites lassen sich beispielsweise invertieren, drehen, spiegeln oder beliebig untereinander vertauschen.

## Musik

Durch verschiedene Befehle lassen sich alle Soundregister des SID-Chips ansprechen. Als Noten werden Buchstaben oder auch Frequenzangaben angenommen. Das Tempo der Musik kann frei gewählt werden. Einzelne Melodien lassen sich außerdem in Stringvariablen abspeichern und mit PLAY A$ wieder aufrufen. Das geht natürlich auch mit der Interrupt-Methode.

## Sonstiges

Außer den oben genannten Fähigkeiten besitzt Aztec Basic noch verschiedene Funktionen. Wer will, kann in Hex oder Binär programmieren. Statt SYS 64738 geht nun ein SYS $FCE2.

Umrechnungsfunktionen zwischen den verschiedenen Zahlensystemen existieren ebenfalls.

Weitere Möglichkeiten dieser Basic-Erweiterung sind die freie Belegung der Funktionstasten oder das Generieren eigener Zeichensätze. Auch an Joystick- und Tastaturabfragebefehle wurde gedacht. Der interessanteste Aspekt an Aztec Basic ist der Einsatz der Interrupt-Technik.

Anwendungvon Interrupt-Technik bedeutet — vereinfacht erklärt — die Möglichkeit, verschiedene Programmabläufe nebeneinander laufen zu lassen. Man kann beispielsweise Musikstücke interruptgesteuert abspielen lassen, das heißt: Einmal definiert, läuft die Melodie weiter, während das Programm schon dabei ist, eine Grafik aufzubauen.

Auch die Bewegung von Sprites ist per Interrupt ansteuerbar, Kollisionsabfragen arbeiten nach dem gleichen Prinzip: Unabhängig vom Lauf des Programms wird bei einer Kollision zur angegebenen Zeilennummer ein GOSUB oder GOTO ausgeführt.

Als für Spiele sehr nützlich erweist sich EVERY: In bestimmten Zeitintervallen wird ein bestimmter Befehl oder ein Unterprogramm aufgerufen.

## Dokumentation

Über die Beschreibung können wir leider noch nichts Genaues sagen, da in der Redaktion nur eine Vorabversion mit einer noch nicht vollständigen Dokumentation vorhanden war. Laut Angaben des Herstellers wird aber eine ausführliche Anleitung mitgeliefert, sowohl in englischer als auch in deutscher Sprache.

## Unerreicht beim Preis

Ein Konkurrent für andere Befehlserweiterungen wird Aztec Basic sicher sein. Mit seinen 116 neuen Befehlen liegt es in einer Leistungsklasse, die sich etwa unter den Spitzenreitern Simons Basic und GBasic befindet. Der Preis ist jedoch unerreicht: Die Diskette kostet 69 Mark, die Kassette etwa 10 Mark weniger.

(M. Kohlen/gk)

Info: Aztec Software: Howard Dutton, Auf der Heide 18, OT Rohden, 3253 Hess, Oldendorf 5.

# Ein modemes Abenteuer — Mailboxen in Deutschland

> Kommen Sie mit uns auf die Reise durch Deutschlands Mailboxen. Einer Reise ins Abenteuer mit Computer und Akustikkoppler. Unser Mailboxtest zeigt Ihnen, wie aufregend das legale Stöbern in fremden Computern ist.

Wer einmal eine Reise macht, der kann etwas erzählen. So hieß es schon vor 100 Jahren. Wir haben uns auf die Reise begeben und Deutschlands Mailboxen für Sie besucht. Unser ganzes Reisegepäck bestand aus einem C 64, einem Epson CX-21-Akustikkoppler und natürlich dem Telefon. Zuverlässiger Reisebegleiter war auf jeder Etappe das in Ausgabe 1/85 getestete Terminal 64-Programm. Machen wir uns auf den Weg, steigen Sie ein! Erstes Ziel unserer Reise liegt in Süddeutschland, denn dort wollen wir uns die Informationen zur Planung der weiteren Reiseroute holen. Sie fragen, wie das gemeint ist?

## Nummern aus der Mailbox

Nun, wo könnte man besser Mailboxnummern herbekommen, als aus einer Mailbox. Starten wir unseren ersten Versuch. Das Terminalprogramm und der Akustikkoppler sind auf die Standardparameter (Tabelle 1) eingestellt und empfangsbereit. Den Telefonhörer am Ohr, wählen wir die Nummer der MCS-Mailbox in Karlsruhe. Verbindung hergestellt.

Kaum zu glauben, wie aufregend es sein kann, auf das Zustandekommen einer Verbindung zu warten. Schon bei früheren Tests hatten wir feststellen müssen, daß oft viele Anläufe notwendig sind, um eine freie Leitung zu bekommen. Um so größer ist dann die Freude, aber auch die Hektik, wenn der Computer auf der anderen Seite abhebt und sein Carrier-Signal sendet. Dann heißt es schnell sein und den Telefonhörer in den Akustikkoppler einsetzen. Es hat funktioniert! Wir sind drin.

Mit einem freundlichen Titelbild begrüßt uns MCS-Karlsruhe und bietet uns ein reichhaltiges Menü seiner Informationsmodule an. Im Modul Telebox finden wir unseren vorläufig weiteren Fahrplan, eine umfangreiche Liste deutscher Mailboxen. Als besonderer Service sind darin alle mit einem C 64 betriebenen Mailboxen mit einem Stern gekennzeichnet. Welche Überraschung, die überwiegende Mehrzahl aller Nummern trägt diesen Stern. Der C 64 ist mittlerweile nicht nur auf der empfangenden Seite der Datenfernübertragung dominierend, er beweist seine Leistungsfähigkeit auch als Host-Computer (Sende-Computer). Insgesamt gibt es in Deutschland mittlerweile schon mehr als 60 Mailboxen. Sie unterteilen sich in solche, die rund um die Uhr erreichbar sind und solche, die nur einige Betriebsstunden am Tag haben. Wir haben uns bei unserer Reise auf immer erreichbare Mailboxen konzentriert. Alle in der Übersicht (Tabelle 2) aufgeführten Mailboxen haben wir in tagelanger Wählarbeit für Sie besucht. Die dort veröffentlichten Telefonnummern waren zum Testzeitpunkt richtig. Sollte sich allerdings seitdem eine Nummer verändert haben, können wir dafür natürlich keine Verantwortung übernehmen. Wichtige Begriffe zum Thema Mailbox sind in Tabelle 3 aufgeführt.

## Das neue Hobby — Mailbox-Betreiber

Warum gibt es eigentlich Mailboxen und warum nehmen es manche Computerbesitzer auf sich, mindestens zwei Tage in der Woche, wenn nicht gar jeden Tag vor ihrer Mailbox zu sitzen? Geld verdienen läßt sich mit einer Mailbox in den seltensten Fällen. Der Sysop (= System Operator) der Decates-Box sagte einmal, daß er schon froh wäre, wenn die Mailbox sich selber tragen würde. Meistens müssen die Betreiber einer Mailbox aber Geld investieren, denn soll das ganze legal sein, bedarf es der Installation durch die Post. Diese weigert sich aber beharrlich, Geräte, die sie nicht in einem langwierigen Verfahren getestet und für gut befunden hat, anzuschließen. Deshalb mieten viele Mailbox-Betreiber für eine monatliche Abgabe von 50 Mark und eine einmalige Anschlußgebühr von 80 Mark ein Postmodem.

## Besser als Btx

Neben kommerziell genutzten Mailboxen, die sich als preiswerten und aktuellen Werbeträger sehen, wird die Mehrzahl der Mailboxen privat betrieben. Computer-Clubs, Universitäten, Studenten und Privatpersonen haben diese neue Form des Informationsaustausches für sich entdeckt. Unter dem Sammelbegriff Mailbox ist somit ein weit verbreitetes, komfortables und vor allem aktuelles Informationsmedium entstanden. Längst gehören Mailboxen mit nur zwei oder drei Menüpunkten der Vergangenheit an. Der Ideenreichtum der Programmierer macht einige Mailboxen interessanter als das vielzitierte und teure Btx. Die Merkmale einer guten Mailbox sind in Tabelle 4 zusammengefaßt. Private Initiative hat hier heute schon die Zukunft Wirklichkeit werden lassen. Unserem Postminister möchte man sagen: »Schauen Sie mal rein, Herr Schilling! — So sieht ein preiswertes, flexibles und kundenfreundliches Informationssystem aus.«

## Interessante Angebote

Natürlich sind die meisten der heute verfügbaren Informationen noch an das Thema Computer gebunden. Auf unserer Reise haben wir aber auch einige andere interessante Angebote gefunden. Da möchte beispielsweise ein Herr aus Hamburg seinen Wagen verkaufen. Mit einem Kostenaufwand von wenigen Mark an Telefongebühren erreicht er mögliche Interessenten von Flensburg bis Garmisch, indem er sich in verschiedenen Mailboxen unter der Rubrik Suche/Biete einträgt. Oder die Studentengruppe aus Dortmund, die für ihre Examensfeier noch Teilnehmer (weiblich bis 30 Jahre) sucht. Alles läßt sich natürlich nicht in einer Mailbox unterbringen, denn kaum ein Sysop, der nicht eine mehr oder weniger starke Zensur der Einträge macht. Abgesehen von ungesetzlichen oder beleidigenden Mitteilungen, wird das auch deswegen notwendig, weil es einigen Beiträgen an geistiger Reife mangelt. Mitteilungen wie »Ich war auch da« oder »Ratet mal, wer das schreibt?« verbrauchen Speicherplatz, der den ernstgemeinten Mitteilungen dann fehlt.

Das Klagelied der Mailbox-Betreiber über die Fehler der Neulinge in diesem Medium will nicht verstummen. Es ist zwar ein Vorrecht des Anfängers, den einen oder anderen Fehler zu machen. Trotzdem sollte sich jeder Neuling schrittweise in das neue Medium einarbeiten. Fast alle Mailboxen helfen ihm dabei: mit einer mehr oder weniger komfortablen Help-Funktion, die über die wichtigsten Eigenschaften der betreffenden Mailbox informiert. Zu den Informationen einer Help-Funktion gehören neben den Kommandos für das Anhalten der Datenübertragung auch Befehle zum Überspringen einzelner Nachrichten, dem Rufen des Sysops und dem Beenden der Verbindung. Die Decates-Box stellt ihren Gästen sogar eine Prüfungsfrage, die, wenn falsch beantwortet, automatisch das Hilfsmenü startet.

## Das Nord-Süd-Gefälle

Mittlerweile hat uns unsere Entdeckungsreise durch verschiedene Städte gebracht. Dabei sind zwei Dinge aufgefallen: Die Mehrzahl aller Mailboxen befindet sich im norddeutschen Raum, zudem gleichen sich viele Mailboxen in ihrem Konzept. Warum der Norden noch dominiert, obwohl sich die Elektronikbranche in Süddeutschland konzentriert, ließsich nicht klären, wohl aber die Ähnlichkeit einiger Mailboxen. Sie entstammen allesamt der gleichen »Schmiede«, dem Krefelder Info-Service. Für 198 Mark bieten die Krefelder ihre Mailbox-Soft-ware an. So entwickelten sich auch in Süddeutschland einige interessante Mailboxen, beispielsweise die E.I.S.-Box, die in der Nähe von Stuttgart zu erreichen ist. Ähnlich dem Btx-System ist diese Box in verschiedene Seiten unterteilt. Jede Seite hat eine Nummer und kann durch diese aufgerufen werden. Zeit- und geldsparend ist bei dieser Box die Möglichkeit, mit Control X das fast eine Minute beanspruchende Impressum (Titelbild) zu überspringen. In der E.I.S.-Box hat man (noch) die Chance, mit wenigen Versuchen eine freie Leitungzu erwischen. Nach Angaben des Sysop sind bislang erst 20 bis 30 Anrufe in der Woche zu verzeichnen.

Die guten und vielbesuchten Mailboxe im Ruhrgebiet und in Norddeutschland verlangen da schon etwas mehr Geduld.

## Kontakte leicht gemacht

Möchte man direkt mit dem Sysop sprechen, hat man in der E.I.S.-Box dazu Gelegenheit. Bei den »Stars« unter den Mailboxen (Decades, WDR-Computerclub) erreicht man den Sysop erheblich seltener. Vielbesuchte Boxen reagieren auf Gäste auch schon mal etwas ungeduldig. Anders der Betreiber der S.I.S.-Box, schon kurz nach dem Aufrufen der Console meldete er sich. In einem freundlichen Dialog beschrieb er uns die Schwierigkeiten, aber auch die Freuden, die er mit seiner Mailbox hat. Hier entdeckten wir ein wesentliches Kriterium für das Betreiben einer Mailbox: Es gibt kaum ein Medium, mit dem schneller Kontakte geschlossen werden. Ausgehend vom obligatorischen »Du« kommt man sich über viele Kilometer hinweg, verbunden durch Draht und Elektronik, schneller näher als bei anderen Gelegenheiten — ein erstaunliches Phänomen! Einzig gebremst durch die Telefongebühren wird gefachsimpelt und Erfahrungsaustausch betrieben. Nicht selten werden auch persönliche Treffs abgemacht.

## Die vorbildliche Mailbox

Auch der Sysop der MCS-Box in Karlsruhe, einer weiteren K.I.S.-Tochter, nimmt sich bereitwillig der Fragen seiner Besucher an. Er erleichtert damit nicht nur dem Neuling das Kennenlernen seiner Box. Und es lohnt sich. Ebenfalls im Btx-Stil aufgebaut, glänzt diese Box durch Übersichtlichkeit und handfeste Informationen. In sinnvollen Abkürzungen wie »AM« für allgemeine Mailbox oder »PM« für persönliche Mitteilungen wird ein Untermenü angeboten, welches durch eine gute Help-Funktion gekrönt ist. Sie führt zu einem Hauptmenü mit acht bis zehn Modulen, die sich nach dem Eintippen der entsprechenden Kennziffer mit ihrem Menü melden. Als Beispiel einer gepflegten Box versucht der Sysop zwar, so viel Informationen wie möglich bestehen zu lassen. Bei einigen unsinnigen Mitteilungen erlaubt er sich allerdings eine Zensur. Zwar hilfreich, aber dennoch schmerzlich ist die Abschiedsmeldung der MCS-Box. Statt einem lapidaren »tschüs« rechnet die MCS-Box die Kosten der Verbindung auf den Pfennig genau aus.

## Eine lohnende Reise

Kehren wir zurück und betrachten wir das Ergebnis. Natürlich konnten hier nicht alle deutschen Mailboxen beschrieben werden. Wir wollen Ihnen auch nicht den Reiz nehmen, selbst auf die Reise zu gehen und Neues zu entdecken. Sicher ist, daß fast jede Woche neue Mailboxen hinzukommen und die Auswahl zwischen den verschiedenen Modulen in allen Mailboxen immer reichhaltiger wird. Damit ist auch sicherge-stellt, daß man öfter mal einen Anschluß bekommt. Uns hat die Reise Spaß gemacht. Fast wie im Krimi wächst die Spannung von einer Mailbox zur anderen. Gut unterhalten durch flott geschriebene Mitteilungen, versorgt mit den neuesten Programmen, einigen Kauf- und Verkaufsabsichten und vor allem den neuesten Informationen aus der Computerszene, kehren wir von unserer Reise zurück. Es hat sich gelohnt, auch wenn ein Postbeamter sein Gehalt einen Monat lang nun fast vollständig von uns erhält.

(Arnd Wängler/Gerd Wirth/aa)

TODO Tabelle 3

**Akustikkoppler**: Gerät zum Senden und Empfangen von Daten. Die Daten werden in akustische Frequenzen umgesetzt und mit einer Geschwindigkeit von 300 bis 1200 Baud (siehe unten) über das Telefonnetz übertragen.

**Answer/Originate**: Wenn zwei Computer im Vollduplexbetrieb miteinander kommunizieren, muß sich ein Computer im Originate-(zum Beispiel die Mailbox) und ein Computer im Answer-Modus befinden. Im Originate-Modus wird eine Trägerfrequenz von 200 Hertz auf das Signal aufmoduliert.

**Baud**: Maßzahl für die Geschwindigkeit der Datenübertragung, gemessen in Bit pro Sekunde.

**Datenbits**: Die für die Informationsübertragung genutzten Teile eines Bytes.

**Duplex-Betrieb**: Es wird zwischen dem Simplex- (nur senden), dem Halbduplex- (senden und empfangen im Wechsel) und dem Vollduplexverfahren (senden und empfangen zur gleichen Zeit) unterschieden.

**Gesamtzeitlimit**: Ein Gesamtzeitlimit ist das Zeitkonto eines Benutzers. Erreicht ein Mailbox-Benutzer sein Gesamtzeitlimit, trennt der Mailboxcomputer die Verbindung. Es soll damit verhindert werden, daß einzelne Benutzer die Mailbox stundenlang blok-kieren.

**Host-Computer**: Der Computer, auf dem eine Mailbox (beziehungsweise Datenbank) betrieben wird.

**Mailbox**: Eine Mailbox ist eine Art elektronischer Briefkasten. Sie unterteilt sich in verschiedene Leistungsmodule. Eine Mailbox ist über das normale Telefonnetz zu erreichen. Es wird zwischen drei Kategorien unterschieden:

1. Öffentliche Mailboxen (Zutritt für jedermann)
2. Private Mailboxen (Zutritt nur für eingetragene Benutzer)
3. Gemischte Mailboxen (öffentlicher und privater Bereich).

Alle drei Kategorien können sowohl kommerziell als auch nichtkommerziell sein. Im kommerziellen Bereich dienen Mailboxen oft zur Aufnahme von Bestellungen.

**Stop-Bit**: Markiert das Ende eines Zeichens bei der seriellen Datenübertragung. Die Empfangsstation wird wieder in den Wartezustand versetzt.

**Sysop**: System-Operator. Betreiber oder Aufsicht führendes Personal am Mailbox-Computer.

**Timeout**: Die Zeit, die eine Mailbox auf eine Eingabe des Benutzers wartet, bevor sie annimmt, daß der Benutzer aufgelegt hat. Die Verbindung wird dann aufgelöst.

**Übertragungsprotokoll**: Mit diesem Protokoll werden die Regeln festgelegt, die dem Übertragungsverfahren zugrunde liegen. Erst wenn beide Computer manuell oder automatisch auf das gleiche Übertragungsprotokoll eingestellt sind, kann eine sinnvolle Datenübertragung beginnen.

/TODO Tabelle 3

TODO Tabelle 4

### Eine Auswahl aus dem Leistungsangebot einiger Mailboxen:

### Unterprogramme für:

— Allgemeine Mail
— Private Mail
— Programmbibliothek
— Meckerkasten
— Unterhaltung
— Suche/Biete
— Kontakte
— Mailboxnummern
— Console (Sysop rufen)
— Neuigkeiten
— Termine, Treffs, Ausstellungen
— Clubnachrichten
— Tricks & Tips
— HELP-Funktionen
— Datex-P-Nummern
— Gewerbliche Anzeigen
— Verzeichnis der eingetragenen Benutzer
— Beschreibung der Übermittlungsparameter
— Hackers-Corner
— Pinwand (für Kurzmitteilungen)
— Telefonkostenberechnung
— Biorhythmus
— Grafikseiten
— Top-Secret (nur für einen ganz engen Benutzerkreis)
— Anzeige der Uhrzeit und des Datums
— Impressum
— Sysop ruft Benutzer
— Anzeige der Restzeit
— »the last One«-Anzeige des letzten Anrufers

### Merkmale einer guten Mailbox:

1. Geschwindigkeit
2. Übersichtlichkeit
3. Kurzmenüs (Hauptmenü nur auf Wunsch)
4. System-Operator erreichbar
5. Stoppt zur Datensicherung
6. Rückkehr in das Menü jederzeit möglich
7. Anhalten der Datenübertragung
8. Überspringen einzelner Nachrichten
9. Abbruch der Verbindung jederzeit möglich
10. Einfaches Login
11. Zensur nur, wo unumgänglich
12. Automatische Parametereinstellung
13. Auf gängige Terminalprogramme abgestimmt
14. Rund um die Uhr erreichbar
15. Such-undSortierfunktion
16. Ständige Verbesserung
17. Gestaffeltes Gesamtzeitlimit
18. Umschaltbar zwischen verschiedenen Computertypen (ASCII-Modus, CBM-Modus)
19. Variable Zeilenlängen (80 Zeichen, 40 Zeichen)
20. Btx-ähnlich aufgebaut
21. Ausführliches Impressum (Parameter) auf Wunsch
22. Wenig Störungen durch schlechte Hardware-Ausstattung der Box
23. Datenübertragung wird nicht gestoppt, wenn die Mailbox Daten sichert
24. Anzeige der Anrufernummer

/TODO Tabelle 4

# Sprachen für Computer

> Warum braucht man überhaupt eine Programmiersprache ? Welche Sprache ist tür welchen Zweck geeignet ? Welche Sprachen gibt es für Commodore-Computer ? Der folgende Artikel gibt Auskunft.

Wer sich eine Stereo-Anlage oder einen Video-Recorder zulegt, muß in der Regel nur die Funktion einiger wichtiger Tasten kennenlernen, um damit umgehen zu können. Bei einem Computer sieht das schon etwas anders aus. Zwar muß der zukünftige Programmierer sich auch hier als erstes mit allen Tastenfunktionen vertraut machen, aber wenn er diese Phase mit Mühe und Not und schlechtem Handbuch hinter sich gebracht hat, beginnen erst die eigentlichen Probleme: Er muß eine Programmiersprache lernen, nämlich Basic.

Doch in vielen Fällen bleibt es nicht dabei. Nach einer Zeit der Euphorie, in der man glaubt, alles in Basic programmieren zu können, stellt man schnell einige Schwächen dieser Sprache fest: Basic-Programme sind langsam, der Aufruf von Unterprogrammen über Zeilennummern statt über Namen führt ebenso wie das Fehlen von Strukturbefehlen zur schlechten Lesbarkeit, und schließlich macht die Vielfalt der verschiedenen Basic-Dialekte es fast unmöglich, Programme von anderen Com-putersystemen ohne großen Änderungsaufwand zu übernehmen. Es bleibt also nur der Umstieg auf eine andere Progammiersprache.

Über diesem Punkt, beginnt die Programmierer-Gemeinde sich zu spalten: Die eine Gruppe fühlt sich vom Begriff »Maschinensprache« wie magisch angezogen und geht daran, die Schwächen von Basic in mühsamer Byte-für-Byte-Arbeit zu umgehen. Die andere Gruppe sieht sich nach echten Alternativen zu Basic um und stößt dabei mit einiger Sicherheit auf Begriffe wie »Pascal«, »Forth« oder »Logo«.

## Wozu braucht man eine Programmiersprache?

Wenn wir uns mit anderen Menschen unterhalten wollen, benötigen wir eine Sprache. Genauso benötigt man auch für die Kommunikation mit — m einem gewissen Sinne — »intelligenten« Maschinen eine gemeinsame Basis, eine Sprache. Diese Sprache dient allerdings in erster Linie nicht zur Unterhaltung, sondern um dem Computer Anweisungen zu erteilen, um ihn zu programmieren.

Män unterscheidet grob zwischen den maschinennahen Programmiersprachen (Assembler) und den höheren Programmiersprachen wie Basic, Pascal oder Fortran. Während die Assemblersprachen jeweils eng an eine bestimmte CPU (Central Processing Unit, oder Zentralprozessor) gebunden sind, zeichnen sich die höheren Programmiersprachen neben ihrer besseren Lesbarkeit vor allem durch ihre Prozessorunabhängigkeit aus. Im Idealfall sollte es so sein, daß zum Beispiel ein auf einem Apple geschriebenes Basic-Programm auch ohne Änderungen auf einem C 64 laufen sollte.

Natürlich funktioniert das in der Praxis nicht — zumindest bei Basic. Hierfür gibt es zwei Gründe. Zum einen existiert eine Vielzahl verschiedener Basic-Dialekte, das heißt vom Standard abweichende Basic-Ver-sionen. Zum anderen gibt es in Basic die Möglichkeit, mittels PEEK, PO-KE oder SYS direkt auf die Maschinenebene zuzugreifen, was wegen unterschiedlicher Hardware der einzelnen Computer auch unterschiedliche Folgen zeigt. Gerade dieser Zugriff auf die Maschinenebene wird aber von den auch im engeren Sinne höheren Programmiersprachen tunlichst vermieden, damit die Programme »portabel«, also auf andere Computer übertragbar bleiben. Insofern ist Basic um einiges näher an der Maschinenebene als die meisten anderen Sprachen.

## Compiler und Interpreter

Jeder Computer hat eine Maschinensprache, das ist die Sprache, die sein Zentralprozessor direkt versteht. Diese »Sprache« besteht unglücklicherweise nur aus Folgen von »0« und »1«, ist also für einen Menschen einigermaßen schwer verständlich. Eine Ebene höher stehen da schon die Assemblersprachen, bei denen es für jeden Befehl der Maschinensprache eine Klartext-Abkürzung gibt. Spezielle Programme, selbst auch »Assembler« genannt, übersetzen diese mit »Mne-monics« bezeichneten Abkürzungen in die Maschinensprache.

Doch auch in dieser Form ist das Programmieren noch ein sehr mühseliges Geschäft. Außerdem sind solche Assembler-Programme nicht oder nur sehr schwer auf andere Computersysteme übertragbar.

Anfang der fünfziger Jahre kam daher folgerichtig das Konzept der »höheren Programmiersprachen« (siehe Bild) auf. Eine Hochsprache unterscheidet sich in wesentlichen Punkten von der Assembler-Sprache. Die Programme sind maschinenunabhängig, können also problemlos auf den verschiedensten Computern laufen. Außerdem sind sie für einen Menschen wesentlich besser nachzuvollziehen und zu lesen, was die Fehleranfälligkeit drastisch senkt. Allerdings werden diese Vorteile mit einem Nachteil erkauft: Es gibt keinen Prozessor, der eine solche Hochsprache direkt ausführen könnte; die Sprache ist der Maschine einfach »zu hoch«.

Doch dieses Problem läßt sich leicht lösen. Alles was man braucht, ist ein Übersetzer, der die Hochsprache in die Maschinensprache übersetzt, und damit dem Computer zur Verarbeitung zugänglich macht. Der Übersetzungsvorgang selbst folgt dabei festen Regeln, was nichts anderes bedeutet, daß es einen Algorithmus (vereinfacht gesagt eine Rechenanleitung) dafür gibt. Jeder Algorithmus kann aber programmiert werden, und somit ist der Vorgang der Übersetzung automatisierbar. Die entsprechenden Übersetzungsprogramme heißen »Compiler«. Natürlich benötigt man für unterschiedliche Computersysteme (mit verschiedener Maschinensprache) auch unterschiedliche Compiler. Das Compiler-Programm selbst wie auch der erzeugte Maschinencode sind je nach CPU unterschiedlich, das übersetzte Programm tutje-doch völlig unabhängig vom Computersystem immer das gleiche, nämlich genau das, was durch das Hochsprachen-Programm vorgegeben ist.

Daneben gibt es, besonders auf Mikrocomputern verbreitet, eine zweite Art der Bearbeitung einer höheren Programmiersprache. Der C 64 beispielsweise hat als CPU einen 6510-Prozessor, der an sich weit davon entfernt ist, auch nur ein paar Brocken Basic zu beherrschen. Dennoch kann man mit dem Computer ganz normal in Basic arbeiten. Das Programm muß nicht erst übersetzt werden, sondern es wird so, wie es ist, einfach interpretiert. Damit ist nichts anderes gemeint, als daß der Basic-Interpreter des C 64 einfach einen Super-Prozessor simuliert, der Basic als Maschinensprache hat. Bei dieser Simulation wird fortwährend Zeichen für Zeichen so interpretiert, wie es der hypothetische Basic-Prozessor tun würde.

Natürlich ist dieses Vorgehen nicht besonders ökonomisch. Beije-dem Programmlauf muß der Interpreter ja wieder Zeichen für Zeichen durchsehen, was er damit anfangen kann. Der Compiler hingegen übersetzt das Programm nur einmal und wird anschließend nicht mehr gebraucht, da nun reiner Maschinencode vorhanden ist.

Zu Anfang des Computerzeitalters war Rechenzeit kostbar, und so ist es kein Wunder, wenn in den fünfziger Jahren ausschließlich Compiler entwickelt wurden. Interpreter kamen erst mit höheren Prozessorleistungen in Mode.

## Der erste Schritt — Fortran

Aus dem Bedürfnis nach einfacher Programmierung und Übertragbarkeit der Programme entstand 1952 die erste höhere Programmiersprache der Welt, nämlich Fortran. 1954 gab es bereits eine in wesentlichen Punkten verbesserte und ausgereifte Version, Fortran II, das über lange Jahre Standardsprache auf Großrechenanlagen war und sich auch heute noch — inzwischen als Fortran V — regen Zuspruchs erfreut.

Der Name Fortran steht für **FOR-**mula **TRAN**slator (Formelübersetzer), und genau dafür ist die Sprache auch entwickelt worden. Ihre Stärke liegt damit in der Programmierung mathematischer und naturwissenschaftlicher Formeln. Neben den bekannten Zahlentypen Integer (ganzzahlig) und Real (Fließkommazahlen) gibt es in Fortran daher noch den Typ Double Precision für das Rechnen mit doppelter Genauigkeit, sowie den vor allem in der Elektrotechnik sehr wichtigen Typ der »komplexen Zahlen« (Complex). Letzterer Datentyp steht aber wegen des intern zu treibenden Aufwands für komplexe Berechnungen in den meisten Mikrocomputer-Versionen nicht zur Verfügung.

Fortran ist eine streng zeilen- und formatorientierte Sprache und erlaubt in der Regel nur einen Befehl pro Zeile. Wie in Basic, das übrigens im Jahre 1965 aus Fortran hervorgegangen ist, muß viel mit dem Befehl GOTO hin- und hergesprungen werden, jedenfalls beim weitverbreiteten Fortran IV. Die neueste Version, Fortran V nimmt der Sprache mit Strukturen wie IF...THEN... ELSE...ENDIF etwas von ihrer Ursprünglichkeit.

Fortran gibt es unter CP/M für fast alle Mikrocomputer mit Z80-CPU. Für den C 64 ist die Sprache derzeit noch nicht erhältlich.

Nur wenige Jahre nach der Entwicklung von Fortran kamen zwei weitere wichtige Programmiersprachen auf, Algol und Cobol.

Mit Algol (**ALGO**rythmic **L**anguage) sollte in erster Linie mathematisch-theoretische Probleme angegangen werden. Die Sprache hat nie auch nur im entferntesten die Verbreitung von Fortran gefunden, ist aber dennoch sehr bedeutsam als »Stammvater« einer ganzen Generation von hochentwickelten, blockorientierten Sprachen, deren vorläufige Krönung die Sprache Ada darstellt.

Cobol (**CO**mmon **B**usiness **O**riented **L**anguage) wurde im Jahre 1959 für kaufmännische Anwendungen entwickelt. Eine der Zielsetzungen für die Entwicklung war der Wunsch (oder besser die Fiktion), daß auch Nicht-EDV-Fachleute in der Lage sein sollten, die Programme wirklich lesen zu können.

Aus dieser Zielsetzung entstand die wahrscheinlich schlechteste Programmiersprache aller Zeiten, die zu allem Unglück auch noch die am meisten verbreitete für den kommerziellen Einsatz wurde, und der erst in neuester Zeit mit der Verbreitung der Heimcomputer in Basic ein Konkurrent erwuchs.

Cobol-Programme simulieren natürliche (englische) Sprache. Die Basic-Zeile »IF X>0 THEN A = B/X« sieht in Cobol folgendermaßen aus: IF X GREATER THAN 0 DIVIDE B BY X GIVING A

Bei so einer Sprache wird natürlich aus jeder mathematischen Formel ein völlig unüberschaubares Gebilde. Hinzu kommt noch die merkwürdige Eigenschaft von Cobol, den Programmierer als Precompiler einzusetzen. Da gibt es als Vorspann zum eigentlichen Programm, der »Procedure Division«, eine sogenannte »Data Division«, in der vom Programmierer (!) festgelegt werden muß, wieviel Speicherplatz für eine Variable verwendet werden soll. Auch das Umcodieren von der internen Darstellung einer Variablen zur Ausgabe auf Bildschirm oder Drucker muß hier genau bestimmt werden.

Wenn Cobol dennoch eine so weite Verbreitung gefunden hat, dann liegt das in erster Linie an der ausgeprägten Fähigkeit, große Datenmengen in Dateien zu organisieren und zu verwalten, eine im kaufmännischen Bereich sehr wichtige Aufgabe. Für alle anderen Anwendungsbereiche muß die Sprache allerdings als hoffnungslos ungeeignet bezeichnet werden.

Wer trotz aller Warnungen in Cobol einsteigen möchte, der hat im Kleincomputerbereich derzeit nur unter CP/M die Möglichkeit dazu.

Aus dem Bestreben, eine einheitliche Sprache zu entwickeln, welche alle Vorzüge der damals wichtigsten Sprachen Fortran, Algol und Cobol in sich vereinen sollte, entstand Mitte der sechziger Jahre die Sprache PLi/1 (Programming Language 1). Leider wurde das Ziel nicht vollständig erreicht. Zwar vereinigt PL/1 Eigenschaften aller drei Sprachen in sich, aber nicht unbedingt die besten. PL/1-Programme wirken in der Regel aufgebläht und dennoch merkwürdig unzusammenhängend und unstrukturiert. Je nach persönlichem Programmierstil kann ein PL/l-Programm wie in Fortran, Algol oder Cobol geschrieben aussehen — im schlimmsten Falle auch wie ein Gemisch aus allen dreien. Eine fast unüberschaubare Anzahl an Schlüsselworten trägt zur Verwir-rungjedes Programmierers bei. Böse Zungen ordnen die Sprache denn auch eher den Problemen als den Lösungen zu. PL/1 ist unter dem Betriebssystem CP/M für Heimcomputer verfügbar.

## Pascal

Nach der Vorstellung dieser altehrwürdigen, aber immer noch weitverbreiteten Sprachen kommen wir nun zu einem modernen Klassiker unter den Programmiersprachen. Die Rede ist von Pascal, das 1971 von Niklaus Wirth an der ETH Zürich auf der Grundlage von Algol entwickelt worden ist. Pascal ist übrigens ausnahmsweise keine Abkürzung, sondern die Sprache erhielt ihren Namen zu Ehren des französischen Mathematikers und Philosophen Blaise Pascal, der im 18. Jahrhundert lebte.

Wie der Vorgänger Algol ist auch Pascal eine stark standardisierte Sprache. Der ursprüngliche »Wirth-Standard«, der noch immer den meisten Pascal-Versionen zugrunde liegt, regelt sehr genau, welche Sprachelemente erlaubt sind, und was sie bewirken.

Als Alternative existiert seit einiger Zeit das sogenannte USCD-Pascal, entwickelt in Kalifornien, das den im Wirth-Standard nicht vorgesehenen Datentyp »String« sowie entsprechende Funktionen dazu vorsieht. Der Unterschied zwischen Wirth- und USCD-Pascal ist ansonsten minimal. Die Übertragbarkeit von Pascal-Programmen wird dadurch jedenfalls kaum berührt, weil man sich in Pascal bei Bedarf einfach neue Datentypen definieren kann. Hat man keinen Datentyp »String« zur Verfügung, dann schreibt man einfach:

TYPESTRING = ARRAY[1..80]OF CHAR;

Der Typ »Char« ist in Pascal vordefiniert und repräsentiert jeweils ein einzelnes Zeichen. Mit der obigen Pascal-Zeile wurde der (neue) Datentyp »String« als Feld aus maximal 80 »Char«-Elementen definiert. Man kann jetzt in diesem Sinne weitermachen und mit Stringvariablen arbeiten. Das geht über die — in Pascal immer obligatorische — Variablen-vereinbarung:
VAR ALPHA: STRING;

Damit wurde eine Variable Alpha vereinbart, die vom Typ String sein soll.

Auf diese Art und Weise kann der Vorrat an Datentypen fast beliebig erweitert werden, ein Konzept, das in Pascal zum ersten Mal konsequent realisiert wurde und seither aus modernen Programmiersprachen nicht mehr wegzudenken ist.

Pascal ist wegen seiner Leistungsfähigkeit und wegen seines logischen und konsistenten Aufbaus als Ausbildungssprache für angehende Programmierer oder Informatiker sehr beliebt.

Die Sprache erzieht zum strukturierten Programmieren und, mehr noch, zum strukturierten Denkansatz bei der Problemlösung. Ein solcher Ansatz ist bei der Entwicklung größerer Programme ein nicht zu unterschätzender Vorteil.

Pascal gibt es in mehreren Versionen für den C 64 und unter CP/M.

Eine Marktübersicht finden Sie in einer der nächsten Ausgaben.

(ev)

# Amazon — Das besondere Adventure

> Amazon ist das erste aus einer Reihe von Abenteuerspielen, die gemeinsam mit bekannten Romanautoren produziert wurden. Was dahinter steckt, ist beachtlich.

Michael Crichton (Autor von Romanen wie »The Andromeda Strain«, »Congo« und »The first great Train Robbery 1855«), der normalerweise seine Bücher immer gleich verfilmt, tat diesmal etwas ganz anderes. Er schrieb weder ein Buch noch drehte er einen Film: Er setzte sich mit dem Programmierer Stephen Warady und dem Film-Grafik-Illustrator David Durand zusammen. Nach zwei Jahren Arbeit kam dann das Adventure Amazon (99 Mark) dabei heraus.

Ziel des Spiels für den C 64 ist es, die verlorene Stadt »Chak« zu finden, dort einen sagenumwobenen Schatz herauszuholen und damit wieder heimzukommen. Das Ganze spielt sich im Amazonasgebiet ab, das von wilden Eingeborenen und tückischen Guerrilleros besiedelt ist.

Amazon kann auf drei verschiedenen Schwierigkeitsgraden gespielt werden, was bei Abenteuerspielen unüblich ist. Da das Spiel mit guter Grafik, Soundeffekten, Rätselaufgaben und auch joystickgesteuerter Action vollgepackt ist, benötigt es vier Diskettenseiten. Bemerkenswert ist die aufwendige Verpackung mit ihren vielen kleinen Beilagen, darunter auch durcheinandergewürfelte Lösungshinweise für Anfänger, die man mit Hilfe einer Decodierungstabelle erst entschlüsseln muß — damit man nicht aus Versehen schummelt. Um unnötige Raterei zu vermeiden, legt Tellarium (früher Trillium) übrigens zu jedem ihrer Produkte eine Wortschatzliste bei. Wer noch Näheres über die Tellarium-Adventures erfahren will, der sollte die Mai-Ausgabe von Happy-Computer lesen.

(M. Kohlen/rg)

Quelle: Fun-Tastic Videospielversand, Tannhäuserplatz 22, 8000 München 81, Preis: 99 Mark

# Epson bedruckt Ostereier

> Auch der Osterhase sollte mit der Zeit gehen. Wozu in mühseliger Kleinarbeit die Ostereier von Hana bemalen, wenn man sowohl Computer als auch Drucker zur Verfügung hat. Ein neuartiger Umrüstsatz für Epson-Drucker macht's möglich.

Ärgert Sie nicht auch jedes Jahr wieder das zeitraubende und mühevolle Bemalen der Ostereier von Hand? Dazu kommt noch in den meisten Fällen nur ein wenig professionelles Ergebnis zustande. Grund genug für unseren Leser Jürgen Kruse, sich Gedanken über die Entwicklung eines speziellen Hardwarezusatzes zum Epson-Farb-drucker JX-80 zu machen, mit dem es möglich sein könnte, direkt auf der unbehandelten Eierschale zu drucken. Nach monatelanger Tüftelei und vielen Rückschlägen (»Wir haben uns wochenlang von Rührei ernährt«) liegt nun das Ergebnis vor (siehe Bild).

Der Hardware-Bausatz besteht im wesentlichen aus zwei Teilen: Da ist einmal eine aus Metallschienen geformte doppelte Eierführung (Double Egg — Double Density), die in ein Kunststoffgehäuse integriert ist. Dieses Gehäuse stellt nicht nur die feste Verbindung zum Drucker her, sondern garantiert auch ein sanftes Nachgleiten der Ostereier zur neuen, speziell geformten Druckwalze. Diese Walze besteht aus einer weichen Kautschukmasse, um größtmögliche Schonung der Eier zu gewährleisten. Zwei Mulden dienen zur Aufnahme der Eier (Größenklasse 3 bis 5), die durch ein viermaliges Line Feed (CHR$(10)) in Druckposition gebracht werden. Um die Spezialwalze einbauen zu können, muß allerdings vorher die gesamte Papierführung des Epson-Druckers ausgebaut werden. Das hört sich komplizierter an, als es dann tatsächlich ist. Es sind im wesentlichen nur einige Schrauben zu lösen, um den gesamten Mechanismus einfach herausheben zu können. Eine bebilderte Umbauanleitung liegt jedem Bausatz bei.

Die Bedienung der Hardware ist einfach und setzt keine Fachkenntnisse voraus. Die Eier werden nacheinander auf die dafür vorgesehenen Metallschienen gelegt. Der im Bild zu erkennende gelbe Spezialschieber zur Eientnahme wird bis zum Anschlag nach links geschoben. Bei ausgeschaltetem Drucker wird jetzt mit dem Drehgriff die Walze in die Ausgangslage gebracht (Eiermulden zeigen genau nach oben). Jetzt den Drucker einschalten und durch leichten Zug am mittleren Metallbügel des Eieraufsatzes die ersten beiden Eier in die Druckmulden gleiten lassen. Achtung! Die Anschlagstärke der Drucknadeln muß unbedingt auf die Minimum-Position eingestellt sein, da es sonst — insbesondere bei dünnschaligen Eiern aus Legebatterien — zu ernsthaften Problemen kommen kann.

Alles weitere steuert jetzt der Computer über entsprechende Treibersoftware (siehe Listing). Diese Treibersoftware übernimmt nicht nur die Ansteuerung des Druckers, sondern ermöglicht in Verbindung mit einem Joystick auch den Entwurf hübscher Muster direkt am Bildschirm. Das Programm verwendet keine Epson-spezifischen Steuerzeichen und läuft daher auch aufjedem Commodore-Drucker. Es empfiehlt sich, das Programm zunächst auf einem nicht umgerüsteten Drucker mit normalem Papier auszuprobieren, um sich ersteinmal mit den einzelnen Funktionen vertraut zu machen.

Der Umrüstsatz ist vorerst leider nur für Epson JX-80 und FX-80 / RX-80 erhältlich. Versionen für den MPS-802 und den Printer-Plotter 1520 sind jedoch in Vorbereitung. Der Bausatz wurde von Jürgen Kruse in Kleinserie aufgelegt und ist zum Preis von 170 Mark erhältlich. Im Preis enthalten ist eine ausführliche Einbauanleitung und je ein rotes, grünes und blaues Farbband für bunte Ostereier. Interessenten wenden sich bitte an die Redaktion, die im übrigen auch an Erfahrungsberichten, insbesondere beim Betrieb mit weichgekochten Eiern, interessiert ist.

(Jürgen Kruse/Arnd Wängler/ev)

# C 16/116-Listings gesucht

Der neue Commodore C 16/116 ist inzwischen schon in größeren Stückzahlen verkauft worden. Gehören Sie vielleicht zu den Käufern der ersten Stunde und haben deshalb schon Erfahrungen damit sammeln können? Oder haben Sie vielleicht schon interessante Programme für diesen Computer entwickelt?

Dann sollten Sie einmal zur Schreibmaschine (beziehungsweise zur Textverarbeitung) greifen und eine möglichst ausführliche Programmbeschreibung erstellen. Anschließend werfen Sie den Drucker an, um ein Programmlisting zu erzeugen und kopieren dann das Programm auf einen Datenträger (Diskette oder Kassette).

Zum Schluß entwerfen Sie noch ein kurzes Anschreiben, auf dem Sie bitte unbedingt Name, Anschrift und Telefonnummer vermerken und (ganz wichtig!) auch erwähnen, für welchen Computer das Programm geschrieben wurde und welche Erweiterungen und zusätzliche Geräte notwendig sind.

Auf den Briefumschlag, in den Sie diese Unterlagen stecken, schreiben Sie bitte neben Ihrem Absender noch folgenden Text:
An die Redaktion 64’er
Markt&Technik Verlag AG
Hans-Pinsel-Straße 2
8013 Haar bei München

Ein oder zwei Tage, nachdem Sie den Brief zur Post gebracht haben, kommt er bei uns in der Redaktion an. Wir freuen uns über die Zusendung, testen das Programm und entscheiden über die Veröffentlichung.

So ist allen geholfen: Unsere Leser finden ständig interessante Programme in ihrem 64’er Magazin, wir Redakteure haben Arbeit und Sie bekommen bares Geld — 100, 200, 300 oder auch 2 000 Mark.

# xBasic 64: eine Super-Bask-Enweiterung

> Schon oft wurden Basic-Erweiterungen veröffentlicht, die aber immer nur einen bestimmten Bereich bevorzugten. xBasic 64 dagegen umfaßt das gesamte Spektrum des C 64 und stent insgesamt 44 neue Befehle zur Verfugung.

XBasic 64 wurde für den Commodore 64 ohne besondere Peripherie geschrieben. Lediglich die Diskettenbefehle und die Hardcopy-Funktion benötigen die entsprechenden Geräte (Device 8 und 4).

xBasic 64 belegt den Speicher von $8000-$9310. (Näheres hierzu siehe Speicherbelegung im Innenteil, Seite 59ff).

xBasic 64 stellt Befehle für die Grafikprogrammierung, die Tonerzeugung, die Programmerstellung und Fehlersuche, das strukturierte Programmieren und die labelabhängige Verzweigung zur Verfügung.

In Tabelle 1 eine Übersicht über die von xBasic 64 bereitgestellten Befehle.

Insgesamt besitzt xBasic 64 mehr als 40 neue Befehle.

## Befehlserklärung:

### 1. Grafikbefehle

### 1.1. Hochauflösende Grafik (320 x 200)

**HRG** Syntax: HRG x,y
Effekt: Der Computer wird in den hochauflösenden Modus versetzt. Es werden die Punktfarben x und die Hintergrundfarbe y gesetzt.

**TEXT** Syntax: TEXT
Effekt: Der Computer wird wieder in den Textmodus (40 x 25 Positionen) zurückgeschaltet. TEXT wird bei jeder Programmunterbrechung und nach Beendigung eines Programms ausgeführt.

**GCOLOR** Syntax: GCOLOR (pf,hf,rf)
Effekt: Punktfarbe pf (0 bis 15), Hintergrundfarbe hf (0 bis 15) und Rahmenfarbe rf (0 bis 255) werden gesetzt.

**SET** Syntax: SET (x,y)
Effekt: Es wird ein Bildpunkt an die durch x (0 bis 319) und y (0 bis 199) festgelegte Koordinate gesetzt. Bei einer Bereichsüberschreitung wird 2INCORRECT XY VALUE gemeldet.

**INVERS** Syntax: INVERS x,y
Effekt: Es gilt das unter SET Gesagte, jedoch wird der Punkt mit den Koordinaten x/y.

**REVERS** Syntax: REVERS
Effekt: Der gesamte Grafikschirm wird invertiert.

### 1.2 Blockgrafik (40 x 25 Positionen) FILL

Syntax: FILL s, z, lx, ly, char
Effekt: Füllt einen rechteckigen Bildschirmbereich mit dem Zeichen char (Bildschirmcode) aus. Dabei ist s die Spalte und .z die Zeile der linken oberen Ecke des Rechtecks, lx ist die Länge in der Horizontalen und ly in der Vertikalen. Liegt das Rechteck nicht vollständig im zugelassenen Bereich, wird ?RANGE TOO LARGE angezeigt.
**PAINT** Syntax: PAINT s, z, lx, ly, col Effekt: Dieser Befehl wirkt fast wie der zuvor genannte, jedoch wird hier der Bereich mit der Farbe col angefüllt.
**BORDER** Syntax: BORDER col
Effekt: Der Bildschirmrahmen erhält die Farbe col.
**PAPER** Syntax: PAPER col
Effekt: Der Bildschirmhintergrund nimmt die Farbe col an.
**INK** Syntax: INK col
Effekt: Alle folgenden Bildschirmausgaben erfolgen in der Farbe col.
**AT** Syntax: AT PRINT (x,y) Ausdruck Ein in Anführungszeichen stehender Text oder der Wert einer Variablen wird auf dem Bildschirm ab Spalte x und Zeile y ausgegeben.

### 1.2.1. User defined graphics (UDG)

xBasic 64 gestattet auch die Erstellung eines eigenen Zeichensatzes. Dieser liegt ab $C800. Wird in diesem Modus gearbeitet, so verschiebt sich das Video-RAM nach $C400 (dez. 50176).
**CHRCOPY** Syntax: CHRCOPY
Effekt: Der Commodore-Zeichen-satz wird an die oben erwähnte Stelle kopiert.
**RAM** Syntax: RAM
Effekt: Der Commodore 64 wird auf den kopierten Zeichensatz umgestellt.
**CREATE** Syntax: CREATE char, bl, b2, b3..., b8
Effekt: Mit diesem Befehl wird dem Zeichen char im neuen Zeichensatz ein anderes Bitmuster zugewiesen, welches durch die Bytes bl bis b8 festgelegt ist.

Alle folgenden Befehle sind auch auf Sprites anwendbar. Darüber entscheidet der erste Parameter. Ist er 0, so bezieht sich der Befehl auf die UDG, ist er 1, wirkt er auf die Spritegrafik.

**CHANGE** Syntax: CHANGE 0, char, bnr, b oder CHANGE 1, sbl, x, y, b Effekt: UDG — Das Zeichen mit dem Code char wird verändert. Das Byte mit der Nummer bnr (0 bis 7) wird durch das Byte b ersetzt.

Sprites — Der Sprite-Datenblock mit der Nummer sbl wird verändert. Das Byte, das im Block durch x und y maskiert ist, wird durch b ersetzt.
**MOVE** Syntax: MOVE 0, char 1, char 2 oder MOVE 1, sbl 1, sbl 2
Effekt: UDG — Das Zeichen mit dem Code char 2 erhält das Bitmuster von char 1.
Sprites — Der Spritedatenblock sbl 1 wird nach sbl 2 kopiert.
**OVER** Syntax: OVER 0, char 1, char 2 oder OVER 1, sbl 1, sbl 2
Effekt: UDG — Das Zeichen mit dem Code char 1 wird mit dem Bitmuster von Char 2 verflochten.
Sprites — Die Bitmuster von sbl 1 und sbl 2 werden verknüpft, wobei das Ergebnis in sbl 2 steht.
**NEGATE** Syntax: NEGATE mod, nr Effekt: Das Zeichen im neuen Zeichensatz mit der Nummer nr (mod = 0) oder das Sprite mit der Nummer nr (mod = 1) wird invertiert.

### 1.3. Spritegrafik SPRITE

Syntax: SPRITE snr, x, y sbl, col, mod
Effekt: Das Sprite mit der Nummer snr (0 bis 7) wird an der durch x (0-511) und y (0 bis 255) festgelegten Position auf den Bildschirm gebracht. Es hat die Farbe col und bezieht sein Bitmuster aus sbl. Ist mod 0, so wird das Sprite im HRG-Modus, ist mod 1, wird es im Multicolormo-dUS dargestellt.
**MOBEX** Syntax: MOBEX snr,ex,ey

Effekt: Das Sprite mit der Nummer snr wird expandiert. Bei ex gleich 1 wird es in X-Richtung expandiert, bei ey gleich 1 in Y-Richtung.
**MULTI** Syntax: MULTI col1,col2

Effekt: Es werden die beiden zusätzlichen Farben col1 und col2 für Multicolorsprites festgelegt.
**CLEAR** Syntax: CLEAR oder CLEAR snr
Effekt: lm ersten Fall werden alle Sprites vom Bildschirm gelöscht, im zweiten nur das Sprite mit der Nummer snr.

### 1.4.	Sonstige Grafikbefehle

**HCOPY** Syntax: HCOPY

Effekt: Es wird eine Hardcopy vom Textschirm im Groß-/Gra-fikmodus erzeugt (Gerätenummer 4).

### 2.	Befehle für die Tonerzeugung

**VOL** Syntax: VOL lt

Effekt: Setzt Lautstärke It (0-15) für alle 3 Stimmen.
**WAVE** Syntax: WAVE st,wf,fl

Effekt: Für die Stimme st (T3) wird die Wellenform wf (16,32,64 oder 128 gesetzt, fl schaltetdie Stimme ein (fl = 1) oder aus (fl = 0).
**ENVELOPE** Syntax: ENVELOPE st,an,ab,ha,au

Effekt: Setzt die Hüllkurve für Stimme st. Die Parameter an (Anschlag), ab (Abschwellen), ha (Halten) und au (Ausklingen) dürfen im Bereich von 0 bis 15 liegen.
Anmerkung: Wird bei WAVE eine ungültige Wellenform angegeben, so meldet xBasic 64 »?NOT EXISTING WAVE«

### 3.	Programmierhilfen

**HELP** Syntax: HELP

Effekt: Es werden alle von Exbasic 64 verstandenen Befehle aufgelistet.
**MEMORY** Syntax: MEMORY

Effekt: Die momentane Speicheraufteilung wird angezeigt (Programm, Variable etc.).
**DUMP** Syntax: DUMP

Effekt: Alle Variable und deren Inhalt werden ausgegeben (Real,lnteger=%,Strings=$,Funktionen=*).
**START** Syntax: START

Effekt: xBasic 64 wird neu initialisiert. Das derzeitig im Speicher befindliche Programm kann mit RESCUE gerettet werden.
**RESCUE** Syntax: RESCUE

Effekt: Zurückholen eines Programms nach NEW oder START.
**RENUMBER** Syntax: RENUMBER stz,sw

Effekt: Das im Speicher befindliche Basic-Programm wird neu durchnumeriert. Dabei ist stz die erste Zeile des »neuen« Programms und sw die Schrittweite. Wird der für Zeilennummern erlaubte Bereich überschritten, so wird die erste nicht mehr unterzubringende Zeile mit der Nummer 0 belegt und »?ILLEGAL LINENUMBER« ausgegeben.

### 4. Diskettenbefehle

**DIR** Syntax: DIR

Effekt: Das Directory der momentan eingelegten Diskette wird angezeigt, ohne das im Speicher befindliche Programm zu löschen.
**ERROR** Syntax: ERROR

Effekt: Tritt ein Diskettenfehler auf, so wird mit diesem Befehl die Fehlernummer, der Fehlertext, der Sektor und die Spur geholt, in der der Fehler auftrat. Das Ganze wird durch Kommata getrennt ausgegeben.

### 5. Befehle für strukturiertes Programmieren

**REPEAT...UNTIL**
Syntax: REPEAT (beliebigeAnweisungen) UNTIL(Bedingung)

Effekt: Die Anweisung(en) zwischen REPEAT und UNTIL werden solange ausgeführt, bis die Bedingung hinter UNTIL erfüllt ist. Die Befehle dürfen in zwei Zeilen stehen.

Es dürfen maximal 32 REPEAT...UNTIL-Schleifen geschachtelt werden. Ansonsten erfolgt die Meldung »?TOO MANY RE-PEAT..UNTIL«. Ein UNTIL ohne vorhergehendes REPEAT führt zu dem Fehler »?UNTIL WITHOUT REPEAT«.
**JUMP** Syntax: JUMP Label

Effekt: Es erfolgt ein Sprung zum Label (Label). Dieses muß in einer PROCEDURE-Zeile stehen. Ein JUMP ohne nachfolgendes Label verursacht den Fehler ?»?MISSING LABEL«. Wird versucht, zu einem nicht existierenden Label zu verzweigen, wird ?»?PROCEDURE NOT FOUND« gemeldet.
**PROCEDURE** Syntax: PROCEDURE Label

Effekt: Markiert eine Zeile als Labelzeile. Der Befehl selbst wird wie ein REM behandelt. Deshalb dürfen vor und hinter PROCEDURE keine anderen Statements stehen.
**CALL...SUBEND** Syntax: CALL Label...SUBEND

Effekt: Hierbei handelt es sich um eine Art GOSUB...RE-TURN. Jedoch wird hier nichtzu einerZeilennummer, sondern zu der durch Label gekennzeichneten Labelzeile gesprungen. Bei SUBEND springt das Programm dann auf das Statement, das unmittelbar hinter dem entsprechenden CALL steht. Auch hier gilt: maximal 32 CALL..SUBEND-Aufrufe schachteln, sonst gibt’s einen ?TOO MANY CALL...SUBEND-Fehler.
Ein SUBEND ohne CALL gibt »7SUBEND WITHOUT CALL«.
**EXIT** Syntax: EXIT Zeilennummer

Effekt: Mit diesem Befehl kann beliebig oftaus einem Unterprogramm ohne RETURN herausgesprungen werden. Das Programm verzweigt zu der hinter EXIT angegebenen Zeilennummer. Fehlt sie, so wird ein ?MISSING LINENUMBER-Fehler ausgegeben.
**BRANCH** Syntax: BRANCH Zeilennummer

Effekt: Ermöglicht ein Verlassen eines Unterprogrammes ohne SUBEND. Ansonsten gilt das bei EXIT Gesagte.

xBasic 64 ermöglicht außerdem das Setzen des DATA-Zeigers auf eine bestimmte Zeilennummer mit RESTORE. Auch Variable sind als Ausdruck zugelassen. Das gleiche gilt auch für GOTO und GOSUB.

Ein Nachteil von xBasic 64 ist, daß ein xBasic 64-Befehl bei einer IF...THEN-Anweisung durch einen Doppelpunkt vom THEN getrennt werden muß.
Beispiel:

100 IF A=SIN(45) THEN:EXIT 500

### Zur Beachtung:

Verwechseln Sie bei den Spritebefehlen nicht Spritenummer und Spritedatenblocknummer. Die Spritenummer bezieht sich auf die auf dem Schirm darstellbaren Sprites, während sich die Spritedatenblocknummer auf den Datenblock bezieht, aus welchem die Sprites ihre Bitmuster beziehen können. Die Spritenummer darf im Bereich von 0 bis 7 liegen, während die Datenblocknummer Werte von 0 bis 511 annehmen kann. Achten Sie jedoch darauf, daß die im freien RAM liegenden Blöcke vor dem Überschreiben geschützt werden. Die Blöcke 0 bis 10 bitte nicht benutzen!

Der Spritepointer kann natürlich nur die Blöcke 0 bis 255 adressieren. Um auf die anderen Blöcke zugreifen zu können, müssen diese erst mit MOVE in den entsprechenden Bereich geschoben werden.

xBasic 64 arbeitet mit drei verschiedenen Video-RAMs. Das »normale« Video-RAM ab $0400, das HRG-Video-RAM, das als Farb-RAM dient, ab $C000 und das Video-RAM bei Gebrauch der UDG ab $C400.

Weiter belegt xBasic 64 die Bereiche $8E00-8E7F als RE-PEAT...UNTIL-Stack und $8E80-8EFF als CALL...SUBEND-Stack.

## Programmtechnische Details

Zur Initialisierung bedient sich xBasic 64 eines weitverbreiteten Verfahrens: Damit der Commodore 64 ein ROM-Modul beim Einschalten erkennt, muß dieses ab Adresse $8004 das Kennwort »CBM80« enthalten. Die beim Einschalten angesprungene RESET-Routine ruft ihrerseits eine Routine auf, die den erwähnten Speicherbereich nach dem Wort durchsucht. Wird es gefunden, so springt der Computer in der Programmausführung an eine Adresse, die in den Speicherstellen $8000 und $8001 abgelegt ist. Durch Einstecken einer ROM-Kassette am Expansionsport wird der Eingang EXROM auf 0 gesetzt. Dadurch wird der 64er auf ROM umgestellt. Ist EXROM gleich 1, so wird bei einem RESET einfach der RAM-Bereich ab $8004 auf das Kennwort untersucht. Und genau hier setzt xBasic 64 ein. Es enthält nämlich an dieser Stelle das geforderte Kennwort. Der Computer springt also nicht auf den im ROM stehenden Vektor ($A000), sondern auf den von xBasic 64 bereitgestellten ($8000). Dieser zeigt auf eine eigene RESET-Routine. Diese kopiert zum Beispiel das Basic-ROM in das darunterliegende RAM. Nun werden die Veränderungen an den Routinen GOTO, GOSUB und RESTORE vorgenommen. Also Maschinenprogrammierer Vorsicht! In Verbindung mit xBasic 64 ist der Bereich von $A000 bis $BFFF tabu!

Oberhalb von xBasic 64 ist der für Maschinenprogramme freie Teil nur der Bereich von $9000 bis $9FFF.

xBasic 64 besitzt einige neue Fehlermeldungen. Die entsprechende Routine liegt ab $8184. Sie wird mit der Nummer der Fehlermeldung im Akku angesprungen. Sie holt sich dann die Adresse der Fehlermeldung aus einer Tabelle ($8DE0).

Geben Sie einmal folgendes ein:
POKE 780,2:SYS 33156

Sie müßten die Meldung »7ILLEGAL LINENUMBER ERROR« erhalten. Das ist die Fehlermeldung mit der Nummer 2. Die Nummern 0 bis 12 werden von xBasic 64 belegt, die restlichen sind jedoch für eigene Fehlermeldungen frei.

Für die Befehle REPEAT...UNTIL und CALL...SUBEND benutzt xBasic 64 zwei Stacks. Auf diesen Stacks wird beim Aufruf von REPEAT oder CALL die momentane Zeilennummer und der Programmzeiger abgelegt.

Die Befehle UNTIL und SUBEND holen diese Werte wieder zurück. Jeder Stack hat seinen Pointer, der auf die Elemente im Stack zeigt. Die beiden Pointer liegen bei $07E8 (RU-Stack) und $07E9 (CS-Stack). Die beiden Stacks liegen ab $8E00 (RU) und 8E80 (CS).

Mit den von xBasic 64 zur Verfügung gestellten Routinen sollte es keine Schwierigkeit sein, eigene Befehle einzubauen. Mit dem entsprechenden Algorithmus und den Routinen Koordinaten holen und Punkt setzen, ist es bestimmt nicht sehr kompliziert, eine LINE-Routine oder andere Grafikbefehle zu implementieren (siehe auch Tabelle 1).

(Stephan Blietz/gk)

TODO ASIDE

Die Eingabe von xBasic 64
xBasic 64 muß mit dem MSE eingegeben werden, den Sie ebenfalls in diesem Heft finden oder bereits aus den vorhergehenden 64’er-Ausgaben kennen. Nach dem Abtippen speichern Sie das Programm auf jeden Fall vor dem ersten Test.
xBasic 64 läßt sich mit LOAD ”Name”,8,1 von der Diskette (oder LOAD von der Kassette) laden und mit SYS 64738 (!) starten.

/TODO ASIDE

# 64 — Tastaturänderung

> Wenn Sie die Tastaturbelegung auf Ihrem C 64 ändern möchten, gibt es eine einfache Methode, um jeder beliebigen Taste eine andere Bedeutung zu geben.

Wie Sie sicher schon wissen, ist der Checksummer, der in jedem 64’er abgedruckt ist, eine wichtige Hilfe bei der Eingabe der Listings. Da bei diesem Programm das Basic-ROM und das Betriebssystem ins RAM kopiert werden, kann man die Tastaturbelegung ganz einfach ändern.

Wollen sie zum Beispiel die Y-Taste und die Z-Taste vertauschen, so sind dazu lediglich zwei POKE-Befehle notwendig:
**POKE 60289+25,ASC(”Z”):POKE 60289+12,ASC(”Y”)**

Wie Siejede andere Taste umbelegen, sehen Sie aus der folgenden Tabelle:
**POKE 60289+ X ,ASC(” gewünschtes Zeichen ”);** ergibt Tasten ohne Shift
**POKE 60354+ X ,ASC(” gewünschtes Zeichen ”);** ergibt Tasten mit Shift
**POKE 60419+ X ,ASC(” gewünschtes Zeichen ”);** ergibt Tasten mit C=
**POKE 60536+ X ,ASC(” gewünschtes Zeichen ”);** ergibt Tasten mit CTRL

(Helmut Pilz/gk)

# Ohne gutes Werkzeug geht es nicht: SMON Teil 5

> Dies ist der letzte Teil unserer SMON-Serie mit der versprochenen Zugaba Die zirka noch freien 500 Byte sollen mit einem kleinen Diskettenmonitor gefüllt werden. Parallel zur Serie über die »Geheimnisse der Floppy« wollen wir Ihnen außerdem an einigen Beispielen zeigen, was man mit so einem Disk-Monitor alles anstellen kann.

Nun sind 500 Byte nicht gerade viel—sie entsprechen etwa 10 Zeilen Basic — und das stellte uns vor einige Probleme. Wir haben schließlich auf allen Komfort verzichten müssen: Deshalb gibt es keine Directory-Ausgabe, keine Übermittlung von Disk-Kommandos ä la DOS 5.1 und was dergleichen schöne Dinge mehr sind. Niemand kann Sie allerdings davon abhalten, solche Programme gleichzeitig mit SMON zu verwenden. Sollte SMON dabei im Wege sein, können Sie ihn ja seit der letzten Ausgabe auf einen anderen Speicherbereich verschieben. Wir haben also nur solche Befehle eingebaut, die Basic-Befehlser-weiterungen nicht bieten und die für den Maschinensprach-Programmierer von besonderem Interesse sind. Glücklicherweise sind gerade für solche Zwecke im SMON ja bereits reichlich Routinen vorhanden, die wir benutzen können, etwa Eingabe-Routinen oder Hexdump von Speicherbereichen.

### Die Befehle des Disk-Monitors

Da das Arbeiten mit dem Disk-Monitor besondere Aufmerksamkeit verlangt (nach Murphys Gesetzen führen Fehleingaben in der Regel zu unlesbaren Disketten), wird er mit einem eigenen Kommando eingeschaltet. Leider waren alle halbwegs sinnvollen Buchstaben (»D« wie Diskette oder »F« wie Floppy) schon vergeben, deshalb haben wir uns für ein schlichtes »Z« wie Zuversicht entschieden.

### —Z schaltet den Disk-Monitor ein.

Die Rahmenfarbe ändert sich auf Gelb, der gewohnte ».« am Anfang einer Zeile ändert sich in »*«. Dies alles hat den Zweck, Ihnen deutlich zu machen, daß es jetzt ernst wird. Intern wird jetzt das Basic abgeschaltet, weil der Disk-Monitor einen 256 Byte großen Puffer benötigt. Dieser liegt von $BF00—$C000 im RAM unter dem Basic, weil er dort am wenigsten stören kann.

### READ: R (Track Sektor)

Liest einen Block von der Diskette in den Computer. Track und Sektor müssen als Hexzahlen eingegeben werden. Die erste Zeile des Blocks wird ausgegeben. Da wir dazu normale SMON-Routinen verwenden, steht als Speicheradresse $BF00. Das »BF« können Sie vorerst ignorieren. Die weitere Ausgabe des Hexdump erfolgt anders als gewohnt mit der Taste »SHIFT«. STOP bricht die Ausgabe ab. Sie können die Hexbytes überschreiben und damit ändern. Eine dauerhafte Änderung erfolgt aber erst beim Zurückschreiben auf die Diskette (siehe Befehl »W«). Geben Sie nur »R« ohne Track und Sektor ein, wird der logisch (!) nächste Block eingelesen.

### MEMORY-DUMP: M

Zeigt den gerade im Puffer befindlichen Block nochmals auf dem Bildschirm an.

Genau wie beim R-Befehl können Sie die Ausgabe mit »SHIFT« und »STOP« steuern und Änderungen vornehmen.

### WRITE: W (Track Sektor)

Schreibt einen Block aus dem Puffer auf die Diskette zurück. Ähnlich wie bei »R« kann die Angabe von Track und Sektor entfallen. Es wird dann der Track und Sektor des letzten R-Befehls benutzt. Das ist in fast allen Fällen auch der richtige.

### ERROR: @

Liest den Fehlerkanal aus, gibt ihn aber nur aus, wenn wirklich ein Fehler vorhanden war. (»00, OK, 00, 00« wird unterdrückt.)

### EXIT: X

Verläßt den Disk-Monitor und springt in den SMON zurück. Dabei wird die Rahmenfarbe auf Blau zurückgeschaltet und es erscheint wieder der ».« am Anfang der Zeile. Das Basic wird wieder eingeschaltet. Wollen Sie nun mit SMON-Kommandos auf den Puffer zugreifen, müssen Sie Basic wieder abschalten ($36 in Speicherstelle $0001).

Die folgenden Beispiele sollen Ihnen die Arbeit mit dem Disk-Monitor verdeutlichen.

Achtung! Benutzen Sie unbedingtzum Üben eine Diskette, die Sie nicht mehr brauchen!

Weder wir noch der Verlag haften dafür, wenn Ihr Lieblingsprogramm oder die mühsam erstellte Adreßdatei unwiederbringlich dahin sind. Daß das sehr sehr schnell gehen kann, wissen wir aus eigener Erfahrung ...

Am besten machen Sie von einer Ihrer Diskette eine Kopie, die Sie zum Üben benutzen können.

## Reparatur eines gelöschten Files

Sicher ist Ihnen das auch schon passiert: Sie wollen Ihr Programm mit Namen »Schrott« löschen, geben als Abkürzung »S:S*« ein und merken in dem Moment, in dem Sie »RETURN« drücken, daß auf der Diskette auch alle Versionen von »SMON« waren, außerdem auch noch »Springvogel«, »Soccer« etc. Verzweifeln müssen Sie nur, wenn auch diese letzte SMON-Version mit dem Disk-Monitor dabei war. Ansonsten behalten Sie die Ruhe und verfahren Sie wie im folgenden beschrieben.

Laden Sie alsojetzt SMON, legen Sie Ihre »Übungsdiskette« (!) ins Laufwerk und löschen Sie eins der ersten Programme mit dem üblichen Scratch-Kommando. Nun starten Sie SMON und drücken »Z«. Der Bildschirm ändert seine Farbe wie beschrieben, und am Anfang der Zeile erscheint der »*«. Jetzt geben Sie ein:

### R 12 00

Auf dem Bildschirm erscheint die erste Zeile der BAM, die bei jeder Diskette auf Track 18, Sektor 0 abgelegt ist. Die ersten beiden Bytes enthalten »12 01« und geben damit den logisch nächsten Block an. In diesem Falle wäre das der erste Block des Directory. Wenn Sie mit »SHIFT« die Bildschirmausgabe fortsetzen, erkennen Sie etwa in der Mitte den Diskettennamen. Lassen Sie die Ausgabe durchlaufen, bis wieder der »*«erscheint. Nun geben Sie »R« ohne weitere Angaben ein. Damit erhalten Sie den Koppel-Block, also Track 18, Sektor 1, den ersten Directory-Block. (Natürlich hätten Sie auch gleich »R 12 01« eintippen können, aber wir wollen ja zeigen, wie die Befehle funktionieren.)

In diesem Block stehen die ersten acht Programme Ihrer Übungsdiskette, auch der Name des soeben gelöschten ist dabei.

Trotzdem ist dieses Programm tatsächlich gelöscht und erscheint nicht mehr, wenn Sie sich das Directory anzeigen lassen. Vergleichen Sie den Eintrag des gelöschten Programms mit den anderen, fällt auf, daß 3 Byte vor Beginn des Namens bei allen anderen »82« steht (sofern es sich um Programmfiles handelt), bei dem gelöschten aber »00«. Die Reparatur ist nun denkbar einfach: Sie brauchen lediglich die »00« mit »82« zu überschreiben. Einen Haken hat die Sache allerdings noch. Beim SCRATCHEN sind die vom Programm belegten Blöcke in der BAM als frei gekennzeichnet worden und jeder neue Eintrag würde das als gelöscht gekennzeichnete File endgültig überschreiben. Um das zu verhindern, müssen Sie nach erfolgter Reparatur die Diskette validieren (von Basic aus mit Kommando: OPEN 1, 8, 15, ”V”). Dabei wird die BAM neu erzeugt und korrigiert.

## Schützen eines Files

Da wir gerade dabei sind, wollen wir unser repariertes gelöschtes File gleich ein für allemal gegen Löschen schützen. Diese Möglichkeit des Diskettenoperationssystems (DOS) ist zwar nicht im Handbuch beschrieben, funktioniert aber trotzdem ausgezeichnet. Laden Sie dazu nochmals die erste Seite des Directory mit R 12 01

und ändern Sie die »82« vor dem Fileeintrag in »C2«. Geben Sie »W« ein, um die Änderung auf Diskette zu schreiben. Verlassen Sie nun SMON mit »X« und lassen Sie sich ein Directory anzeigen. Das geschützte File ist mit einem » > « gekennzeichnet. Versuchen Sie nun, dieses Programm mit dem Scratch-Kommando zu löschen. Es geht nicht! Zum »Entriegeln« brauchen Sie nur das »C2« wieder in »82« zu ändern. Der »>« im Directory verschwindet und das File ist nicht mehr geschützt.

## Schützen einer Diskette

Wollen Sie eine ganze Diskette vor versehentlichem Löschen oder Formatieren schützen, gibt es die Möglichkeit, die Löschschutzkerbe abzukleben. Es geht jedoch auch anders. **Achtung! Die im folgenden beschriebene Prozedur läßt sich nicht mehr rückgängig machen, auch nicht mit dem Disk-Monitor!**

Nehmen Sie also eine Diskette, die Sie anschließend »hart formatieren« können (also mit Eingabe einer ID). Starten Sie nun den Disk-Monitor und lesen Sie die BAM mit »R 12 00« ein. Das dritte Byte enthält »41«. Diese »41« ist ein Kennzeichen für das DOS der 1541- oder 4040-Floppy. Ändern Sie diese Bytes durch Überschreiben in »45« und speichern Sie die Änderung mit »W« auf die Diskette zurück. Verlassen Sie nun SMON und versuchen Sie, etwas zu löschen. Ergebnis siehe oben. Versuchen Sie auch, die Diskette »weich«, also zum Beispiel mit OPEN 1,8,15,”N:TEST” zu formatieren. Auch das ist jetzt nicht mehr möglich. Aber es kommt noch besser: Starten Sie noch einmal den Disk-Monitor und versuchen Sie, die Änderung durch Zurückschreiben der »41« an Stelle der »45« rückgängig zu machen.

Auch das ist nicht mehr möglich, wir hatten Sie bereits gewarnt! Es bleibt lediglich die Möglichkeit, die Diskette »hart«, zum Beispiel mit OPEN 1,8,15,”N:TESTTE”
zu formatieren. Sollten Sie nun entgegen allen Warnungen doch Ihre Master-Diskette gegen Schreibzugriffe gesichert haben, verraten wir Ihnen ausnahmsweise, wie Sie den Eingriff trotzdem rückgängig machen können. Dazu überlisten wir das DOS des 1541-Laufwerkes, indem wir ihm vorgaukeln, es hätte eine Diskette im Normalformat vor sich. Wir verwenden den Memory-Write-Befehl, mit dem wir in die Speicherstelle 0101 (Zero-Page Adresse) des 1541-RAM einfach ein »A« schreiben. Der CHR$-Code des »A« ist 65, oder in hexadezimaler Schreibweise 41. Erinnern Sie sich? Dieser Wert stand ursprünglich im dritten Byte des Tracks 18, Sektor 0. Mit folgendem kleinen Programm umgehen wir einfach die DOS-Kenn-zeichnung und wir können die Diskette wieder normal beschreiben. Am sinnvollsten ist es, sofort den SMON zu starten, das vorher in 45 abgeänderte Byte wieder in 41 zu verwandeln und abzuspeichern. Die Diskette kann dann wieder zum Lesen und Schreiben verwendet werden. Hier nun das kleine Programm:
10 OPEN 1,8,15
20 PRINT#1, ”M-W”CHR$(1)CHR$(1)CHR$(1)CHR$(65)
30 CLOSE1

## Ändern des Diskettennamens oder der ID

Wir haben bereits oben gesehen, daß in Spur 18, Sektor 0 einer Diskette etwa in der Mitte der Diskettenname gespeichert wird. Dieser Name kann durch einfaches Überschreiben geändert werden; er darf bekanntlich bis zu 16 Zeichen enthalten. Hat Ihr neuer Name weniger Buchstaben als der alte, müssen Sie die Lücken mit »A0« und nicht mit »20« als Leerzeichen ausfüllen. Dies gilt vor allem, wenn Sie mit dieser Methode Filenamen ändern wollen. Das geht natürlich im Prinzip genauso wie eben beschrieben. Hinter dem Diskettennamen ist in Spur 18, Sektor 0 die ID abgelegt. Sie wird beim Formatieren vorje-den Sektor in einen sogenannten Header geschrieben und dient dem DOS zur Identifikation der Diskette. Zusätzlich wird sie noch in der BAM gespeichert, damit sie beim Laden eines Directory mit angezeigt werden kann. Nun ist es grundsätzlich nicht möglich, die ID im Header eines Sektors ohne Formatieren zu ändern, wohl aber die Eintragung in der BAM und damit die ID, die im Directory angezeigt wird. Genau wie beim Namen ist dies durch einfaches Überschreiben in der BAM möglich.

## Ändern eines Filetyps

Wenn Sie einmal versucht haben, ein sequentielles File, etwa eine Datei, mit LOAD zu laden, werden Sie gemerkt haben, daß dies nicht möglich ist. Das DOS behauptet einfach, ein solches File existiere nicht und der Rechner meldet »FILE NOT FOUND«. Viele Spiele zum Beispiel legen die »Hall of Fame« oder Highscore-Liste als sequentielle Datei ab. Mit dem Disk-Monitor ist es nun aber möglich, den Filetyp im Directory zu verändern. Erinnern Sie sich an die »82«, die im Directory vor jedem Filenamen steht. Bei sequentiellen Files steht dort »81«. Was zu tun ist, werden Sie sich denken können. Na klar, die »81« wird in »82« geändert, und schon ist die Datei ohne weiteres ladbar, natürlich wieder erst nach dem Zurückschreiben mit »W«.

Sinnvoll ist dies natürlich nur von SMON aus (mit Eingabe einer Ladeadresse). Mit »M« oder »K« können Sie dann die Datei ansehen und natürlich auch ändern. Vergessen Sie nicht, die geänderte Datei nach dem Zurückschreiben wieder in ein sequentielles File zu verwandeln. Verblüffen Sie Ihre Freunde doch mal mit einem auf diese Weise »errungenen« Highscore. Die Anerkennung Ihrer Umwelt ist Ihnen sicher.

## Ändern der Startadresse eines Programms

Wir haben uns bisher auf Manipulationen in der BAM oder im Directory beschränkt. Wollen wir in einem Programm selbst Änderungen vornehmen, müssen wir etwas tiefer in die »Geheimnisse der Floppy« eindringen. So ist es bisweilen interessant, die Startadresse eines Maschinenprogramms zu kennen oder zu ändern. Dazu gehen wir folgendermaßen vor: Zunächst suchen wir mit »R 12 01« und eventuell weiteren Folgesektoren (12 04,12 07...) den Fileeintrag im Directory. Die beiden Bytes hinter der »82« direkt vor dem Programmnamen geben an, in welcher Spur und in welchem Sektor das Programm startet. Wenn dort zum Beispiel »0A 04« steht, beginnt das Programm in Spur 10, Sektor 4. Lesen Sie nun diesen Block mit »R 0A 04« ein. Die ersten beiden Bytes dieses Blocks zeigen auf den nächsten Block des Programms, die beiden nächsten Bytes enthalten die Startadresse in der üblichen Low-Highbyte-Reihenfolge. Zum Ändern der Startadresse überschreiben Sie die Bytes mit der neuen und speichern den Block mit »W« auf die Diskette zurück.

## Die Zusammenarbeit mit SMON

Mit all diesen Beispielen sind die Möglichkeiten des Disk-Monitors noch lange nicht erschöpft. Sie sollten Ihnen als Anregung für eigene Experimente dienen. Üben Sie aber unbedingt so lange, bis sie alle Kommandos aus dem »FF« (oder dezimal 255) beherrschen. Sie ersparen sich damit unnötigen Ärger und durchweinte Nächte. Besonders interessant ist es, von SMON aus auf den Puffer zuzugreifen und die SMON-Befehle auf den Puffer anzuwenden. Erwähnen möchte ich nur die Möglichkeit, Programme für das DOS direkt zu assem-blieren und in einem bestimmten Sektor ablegen zu können, die Find-Routinen oder das »K«-Kommando für Textänderungen. Da der Puffer im RAM unter dem Basic liegt, muß Basic in solchen Fällen abgeschaltet werden. Ändern Sie dazu mit dem »M«-Befehl in Speicherstelle 0001 die »37« in »36«.

Haben Sie die Arbeit mit SMON beendet, können Sie mit »Z« in den Disk-Monitor schalten und den Pufferbereich mit »W« (Spur, Sektor) abspeichern.

## Die Ausgabe von Diskettenfehlern

Beim Arbeiten mit dem Disk-Monitor werden sämtliche Fehler vom Laufwerk direkt, auch ohne Eingabe von »@«, ausgegeben, zum Beispiel »ILLEGAL TRACK OR SECTOR«, wenn Sie mit »R« einen Block lesen wollen, den es gar nicht gibt. Einen Fehler hat das Programm allerdings, den wir nicht verschweigen wollen. Der letzte Block eines Files enthält als Koppeladresse »00 FF«. Da es einen solchen Block nicht geben kann, »weiß« das DOS, daß es am Ende angelangt ist. Versuchen Sie aber, den nächsten Block (Spur 0, Sektor 255!!) mit »R« zu lesen, erscheint als Fehlermeldung nicht, wie es sein müßte, »ILLEGAL BLOCK OR SECTOR«, sondern »SYNTAX ERROR«. Das ist zwar eigentlich unerheblich, sollte aber erwähnt werden. Der Fehler liegt in der Routine, die unsere Zahleneingaben in das richtige Diskettenformat wandelt. Es fehlte einfach der Platz im Programm für eine »korrekte« Umwandlung, wir mußten uns mit einer »Sparroutine« behelfen.

Abschließend noch ein SMON-Trick, den wir einem aufmerksamen Leser verdanken. Für eine Directory-Ausgabe fehlte der Platz im SMON. Es geht aber hilfsweise so: Laden Sie das Directory zum Beispiel mit
**L ”$” 8000**
an einen freien Speicherplatz. Mit »M« oder »K« können Sie jetzt das Directory »lesen«. Damit sind alle wichtigen Funktionen für den Umgang mit der Diskette im SMON enthalten.

## Hinweise zum Abtippen

Mit dem neuen »MSE« dürften nun wirklich keine Fehler beim Abtippen mehr auftreten — nur noch ein letztes Mal, nämlich beim Abtippen von »MSE«. Starten Sie dann MSE und geben Sie als Start- und Endadresse die beiden Zahlen im Kopf des SMON-Listings an, also $CE09 als Start und $CFFA als Ende. Nach Beendigung der Tipperei speichern Sie den fertigen Programmteil auf Diskette oder Kassette ab. Nun müssen wir noch den neuen Teil in SMON »einbinden«. Dazu laden Sie Ihren alten »SMON $C000« und starten ihn. Noch ein Tip an dieser Stelle: Wenn Sie SMON mit »X« verlassen, um ins Basic zurückzuspringen, wird in aller Regel bereits Ihre erste Eingabe von Basic aus mit einem
**»OUT OF MEMORY ERROR«**
quittiert.

Beim Laden von SMON setzt das Betriebssystem nämlich die Zeiger für das Basic-Programmende auf das SMON-Ende, also irgendwo in den $C...-Bereich.

Damit ist aber jede weitere Eingabe von Basic-Zeilen unmöglich und führt zu dem oben angegebenen Fehler. Das ist nebenbei auch der Grund, wenn der SMON-Befehl »B« zum Erzeugen von DATA-Zeilen einmal nicht funktionieren will. Abhilfe schafft ein simples »NEW« unmittelbar nach dem Laden von SMON. SMON selbst bleibt dabei unbeeinträchtigt, denn er liegt ja nicht im Basic-Bereich. SMON ist also jetzt ordnungsgemäß geladen und kann mit »SYS 49152« wie gewohnt gestartet werden. Laden Sie nun den neuen Teil mit
**L ”SMON TEIL 5”**
ohne Eingabe einer weiteren Adresse. Damit steht er automatisch an der richtigen Stelle. Jetzt müssen wir SMON noch klarmachen, daß er über den neuen Befehl »Z« zum Aufruf unseres Disk-Monitors verfügt. Geben Sie dazu
**M C020**
ein, brechen Sie mit STOP ab und ändern Sie die »00« nach »58« (Speicherstelle $C026) in »5A«. Das ist der ASCII-Wert für »Z«. Zum Einbinden der Startadresse des Disk-Monitors geben Sie
**M C060**
ein, unterbrechen mitSTOP und ändern die ersten beiden Nullen (Speicherstelle $C061/$C062) in »08 CE«. Die Startadresse ist $CE09, SMON braucht aber bekanntlich die um 1 erniedrigte Adresse in der Form Lowbyte-Highbyte.

Der Disk-Monitor ist damit integriert und der nunmehr komplette SMON kann mit
**S ”SMON $C000” C000 CFFA**
abgespeichert werden.

## Noch einmal: SMON verschieben

Sicher haben Sie nach der Beschreibung im letzten Heft SMON-Versionen für andere Speicherbereiche hergestellt und auch zum Laufen gebracht. Durch den neuen Teil ergeben sich für die Verschiebung einige Veränderungen. Daher beschreiben wir noch einmal, wie sich ein »SMON $9000« herstellen läßt.

1. Wir beginnen mit<br>W C000 CFFA 9000<br>da SMON jetzt ja etwas länger geworden ist.
2. Nun folgt die Umrechnung der absoluten Adressen:<br>V C000 CFFA 9000 920B 9FD2
3. Die Änderung der Einsprungadressen bleibt so wie beschrieben, nur ist jetzt eine Adresse (für »Z«) hinzugekommen.
4. Bei den Befehlen mit unmittelbarer Adressierung (zum Beispiel LDA #CC) hat sich gar nichts geändert.
5. Neu hinzugekommen ist aber eine Sprungtabelle für den Disk-Monitor. Ähnlich wie in Punkt 3 beschrieben, müssen Sie sechs Adressen ändern. Geben Sie dazu<br>M CFD8 CFE4<br>ein und überschreiben Sie in jedem 2. Byte das »C« mit »9«.

Das war’s. Wir glauben, wir haben am Anfang dieser Serie nicht zu viel versprochen: Wenn Sie alle fünf Folgen durchgearbeitet haben, liegt Ihnen mit SMON jetzt ein Maschinenmonitor mit wirklich außergewöhnlichen Leistungsmerkmalen vor, der wohl jedem Vergleich standhält

Viele Leser haben SMON zum Einstieg in die Maschinensprache genutzt, und das war auch unser Ziel. Natürlich werden Sie, vor allem wenn Sie noch Anfänger sind, nicht sofort alle Möglichkeiten von SMON ausnutzen können; eine Weile werden Sie mit Disassembler und Memory-Dump vollauf beschäftigt sein. Aber je tiefer Sie mit SMON in die Maschinensprache eindringen, desto mehr werden Sie seine Fähigkeiten zu schätzen wissen.

Wir werden in einer der nächsten Ausgaben der 64’er noch einmal auf Fragen aus dem Leserkreis, die sich bei der Arbeit mit SMON ergeben haben, eingehen. Vielleicht haben Sie auch noch Verbesserungsvorschläge oder Tricks im Umgang mit SMON entdeckt. Haben Sie aber bitte Verständnis, wenn wirnichtaufjedeZuschriftantworten können. Wirhaben inzwischen schon mehrere hundert (!) schriftliche oder telefonische Anfragen bekommen, und auch für uns ist die Computerei nur ein Hobby, nicht mehr und nicht weniger.

(N. Mann/D. Weineck/gk)

# Schachmeister erweitert

> »Schach-Profis« werden bei dem Listing »Schachmeister« wohl schon festgestellt haben, daß noch nicht alle Regeln des königlichen Spiels berücksichtigt waren. Dies ändert sich nun.

Als Schachspieler (ich habe bereits über 100 Meisterschaftspartien gespielt) fand ich die Anwendung des Monats »Schachmeister«aus 11/84geradezu ideal fürdieLeute, dieih-re Partien statistisch aufführen. Ich selbst habe mich gleich daranbegeben, meine Partien abzuspeichern. Leider stellten sich gleich mehrere Unvollkommenheiten des Programms heraus, die für einen ernstzunehmenden Schachspieler unentbehrlich sind. Als erstes die Sache mit dem Remis! Ein Remis kann durch mehrere Möglichkeiten entstehen:

1.	durch Übereinkunft der Spieler
2.	durch ein Patt (wenn ein Spieler nur noch die Möglichkeit hat, den König zu ziehen, dieser aber dann immer im Schach stehen würde),
3.	wenn eine Stellung dreimal vorkommt,
4.	wenn innerhalb von 50 Zügen kein Bauernzug gemacht wurde.

Ich verweise hier für diese und für die noch kommenden Ergänzungen auf die internationalen Schachregeln. Zur Schreibweise im Programm:
DATA E5E6R (=REMIS, steht für Übereinkunft der Spieler),
DATAB6B7P (=PATT)
DATA C4C5W (=dreimal wiederholte Stellung)
DATA A1C1Z (=50-Züge-Regel)

Nun zum Tauschen auf der Grundlinie. Es geht wirklich nicht an, nur den Dametausch zu berücksichtigen. Sicher kommt das am häufigsten vor, aber wer berühmte Partien eingeben will, der kommt mit Sicherheit mal an die Stelle, wo der Bauer zum Beispiel in einen Springer umgewandelt wird. Folgende Erläuterung zum Tausch auf der Grundlinie:
DATA A7A8T (= Bauer in einen Turm)
DATA B7B8H (= Bauer in einen Springer (Horse))
DATA C7C8L (= Bauer in einen Läufer)

## »En-passant«-Regel berücksichtigt

Sehr wichtig ist auch die sogenannte »en-passant«-Regel. Jch habe schon oft die Erfahrung gemacht, daß viele Neu-Schachspieler, manchmal sogar auch welche, die schon zwei bis vier Jahre Schach spielen, diese Regel nicht kennen. Sie waren regelrecht erstaunt, wenn ich diesen Zug angewandt habe und wollten mir nicht glauben, daß jene Regel wirklich existiert. Diese Regel ist keine besondere Definition für Meisterschaftskämpfe, sondern sie ist eine Grundregel wie jeder andere Zug auch. Ich will hier deshalb das »en-passant«-Schlagen noch einmal erklären: Diese besondere Form des Schlagens kanri Verwendung finden, wenn ein Bauer aus der Ausgangsstellung in der zweiten Reihe zwei Felder vorwärts neben einen gegnerischen Bauern zieht. Dieser gegnerische Bauer kann nun den anderen Bauern so schlagen, als ob dieser nur ein Feld vorwärts gegangen wäre. Wenn der umgangene Bauer nicht sofort en-passant schlagen will, kann er es später nicht mehr tun.

En-passant bedeutet zu deutsch: Schlagen im Vorbeigehen. In der einzugebenden Partie wird dieser Zug mit einem »V« gekennzeichnet. Beispiel: DATA G4H3V

Das Programm muß, um die erläuterten Erweiterungen zu besitzen, durch die im Listing angegebenen Zeilen ergänzt beziehungsweise ersetzt werden.

(Heiko Becke/rg)

# Funktionen im Netz

> 3-D-Funktionsdiagramme sehen nicht nur gut aus, sie liefern auch viele Informationen über mathematische Funktionen.

Mit diesem Programm können Sie Kurven als 3-D-Netzgrafi-ken zeichnen lassen, in Abhängigkeitvon zwei Variablen X und Y. Die Geschwindigkeit, mit der das Maschinenprogramm die notwendigen Bildpunkte berechnet und auf den Bildschirm bringt, läßt die »Kurvendiskussion« zu einem Vergnügen werden. Vor dieses haben die Götter aber bekanntlich die Arbeit gesetzt: Zuerst ist nämlich der umfangreiche Lader mit dem MSE abzutippen. Das Maschinenprogramm selbst ist etwa 2 KByte lang und belegt den Bereich von $C000-$C77F. Es verträgt sich deshalb nicht mit Erweiterungen wie DOS 5.1 und Simons Basic. Für den Aufbau der Grafik wird der gesamte RAM-Bereich von $COOO-$FFFF gebraucht Der gesamte Basic-Speicher mit 38 KByte bleibt also erhalten. Braucht man zusätzlich eigene Grafikroutinen, wie Hardcopy und Beschriftung, müssen diese in den Basic-Speicher gelegt und das Ende des Basic-RAMs herabgesetzt werden. Das Basic-Ende wird durch den lnhaltderSpeicherzellen 55 (Low-Byte) und 56 (High-Byte der Endadresse) festgelegt.

Die Funktionen des Zeichenprogrammes werden durch SYS-Befehle in Bild 1 gestartet.

TODO BILD1
NEU=49152 EIN=49241
AUS=49252 GSV=49271
GLD=49333 ROT=50316
XY=50672
Adressen der Befehle
SYS NEU, Farbe — löscht Hires-Grafik, setzt Farbe, initiali-siertTabellen. Farbe = 16xPunktfarbe + Hintergrundfarbe SYS EIN — schaltet Grafikmodus ein
SYS AUS — schaltet Grafikmodus aus
SYS GSV, »Name«, 8 oder 1 — speichert Grafik ab. Da die Grafik unter dem Betriebssystem liegt (ab $E000), wird sie erst nach $A000 kopiert und von dort aus abgespeichert. SYS GLD, »Name«, 8 oder 1 — lädt Grafik mit beliebiger Startadresse
Bild 1. Einsprung-Adressen und deren Funktionen

Sehr elegant wurde die Übergabe von Parametern, wie Definitionsgrenzen und Linienanzahl, an das Maschinenprogramm gelöst. Die einzelnen 3-D-Routinen holen sich die jeweils benötigten Werte aus bestimmten Variablen und der Kurvenfunktion, die Sie im Basic-Programm definieren müssen, bevor Sie mit SYS ROT oder SYS XY die Berechungs- und Zeichenroutine aufrufen. Auf welche Art das Programm eine Funktionsgrafik zeichnet, wird nun gezeigt.

## Einfachste Parameterübergabe

Stellen Sie sich einen großen, leeren Raum vor. Auf dem Fußboden sei ein Raster von sagen wir 10x10 Linien gezeichnet. Auf jeden Kreuzungspunkt wird ein Stab mit einer bestimmten Länge gestellt. Die Stablänge entspricht dabei der Höhe eines Funktionswertes an dieser Stelle. Sind alle Stäbe aufgestellt, verbindet man die oberen Enden der Stäbe ebenso wie die unteren und erhält wieder ein Netz. Dieses Netz kann im Gegensatz zum unteren geschwungen sein und stellt die erwünschte dreidimensionale Funktionsgrafik dar. Das Problem der 3-D-Grafik besteht eigentlich aus zwei:
1. Das Berechnen der Funktionswerte (Stablängen)
2. Das Zeichnen des oberen Netzes, wobei Linien die »hinter einem Berg« liegen, nicht gezeichnet werden sollen.

### Berechnung der Funktionswerte

Nach dem Aufruf mit ROT oder XY berechnet das Programm die benötigten Funktionswerte. Sie müssen dem Programm nur sagen, welche Funktion es berechnen soll. Dazu definieren Sie in einem Basic-Programm einfach die gewünschte Funktion mit DEF FNR(EGAL) und geben einige Parameter an. Das 3-D-Programm holt sich dann selbsttätig die Informationen aus den angelegten Variablen. Das Zeichenprogramm kann, wie bereits erwähnt, auf zwei Arten aufgerufen werden. Mit SYS XY werden X und Y variiert und der dazugehörige Z-Wert (Stablänge) berechnet. Der Vektor vom Ursprung zu einem Kreuzungspunkt auf dem ein Stab steht wird mit dem Satz von Phythagoras berechnet: r2 = x2 + y2. SYS ROT variiert nur X und kann deshalb nur für Funktionen mit einer Variable verwendet werden. In der obigen Gleichung ist Y=X, was bedeutet, daß das Programm in Y-Richtung die gleichen Werte wie in X-Richtung durchläuft um einen 3-D-Effekt zu bekommen. Dies führt zu einer rotationssymmetrischen Figur. Es reicht deshalb aus, nur ein achtel der Figur zu berechnen und dieses dreimal zu spiegeln. Andere Variablen als X werden als Konstanten betrachtet. Die ROT-Routine benötigt neben der Funktion noch die Parameter in Bild 2 und einige Angaben zur Lage der Grafik am Bildschirm. Wenn Sie die beiden Demo-Programme (SYS ROT und SYS XY) abtippen und dort Ihre Funktionen einsetzen, brauchen Sie sich um die folgenden Parameter nicht zu kümmern: Sie werden in diesen Programmen entsprechend Ihren Angaben berechnet.

TODO BILD2
NN% = Anzahl der Netzlinien in X-und Y-Richtung KK% = NN%/2+0,5; halbe Linienanzahl. Mit 0,5 wird gerundet.
DD = Faktor für Funktionswert
PP = Faktor für Argument
Bild 2. Parameter für SYS ROT

Mit NN% sagen Sie der Routine, aus wievielen Linien das Netz bestehen soll, sowohl in X- und Y-Richtung. KK% teilt der Routine mit, wieviel Linien das in jede Richtung sind; gerechnet von der Mitte des Bildschirms.

DD ist der Maßstab in dem gezeichnet wird. DD gibt an, wie-viele Bildpunkte ein Funktionswert von 1 »hoch sein« soll. DD=80 heißt, daß ein Funktionswert von 1 auf dem Bildschirm eine Höhe von 80 Punkten (Pixels) hat.

PP ist der Faktor für den positiven Grenzwert der Funktion. Es gilt: PPxKK%=X<sub>max</sub>. Dabei ist zu beachten, daß nach Phythagoras das Argument in den Ecken um Wurzel 2 größer ist als in X-Richtung (Diagonale eines Quadrates).

Bei SYS XY werden X und Y variiert. In der Funktionsdefinition DEF FNR(EGAL)=SIN(X)*A*COS(Y) werden X und Y verändert; A bleibt während aller Berechnungen konstant und hat den zuletzt zugewiesenen Wert. Die formale Variable EGAL kann nach Lust und Laune benannt werden.

TODO BILD3
FF — Abstand zwischen zwei X-Linien LL — Abstand zwischen zwei Y-Linien X — Startwert von X (Xmjn)
YY — Startwert von Y (Ymin)
Bild 3. Parameter für SYS XY

Die XY-Routine benötigt anstelle des Funktionsarguments PP einige Angaben (Bild 3).

In der Netzgrafik werden nur sichtbare Linien gezeichnet. Für Interessierte der Algorithmus dazu:

## Der Zeichen-Algorithmus

Die Grafik muß von vorne nach hinten gezeichnet werden. Zu jeder Bildschirmspalte muß die Y-Koordinate des höchsten und des tiefsten Punktes gemerkt werden. Soll nun ein Punkt gezeichnet werden, so wird überprüft, ob er zwischen diesen Grenzen liegt. Wenn ja, dann liegt er logischerweise »hinter« der Geraden, die die beiden Extrempunkte verbindet und ist nicht sichtbar. Liegt er nicht auf der Geraden, wird er gezeichnet und als neuer Extremwert gespeichert.

### Parameter für SYS ROT und SYS XY

Damit die Lage der Netzgrafik auf dem Bildschirm verändert werden kann, sind noch weitere Parameter nötig, die an das Maschinenprogramm übergeben werden müssen. Mit diesen Angaben kann der Aufsicht- und der Drehwinkel der Grafik festgelegt werden. Mit Änderung des Drehwinkels können Sie die Grafik in XY-Richtung um den Startpunkt P (Bild 4) drehen. Und zwar bis zu 45° im Uhrzeigersinn bis zu 90° im Gegenuhrzeigersinn. Der Aufsichtswinkel liegt im Bereich von 0-90 °. Bei 90 ° sehen Sie genau von oben auf das Netz.

Die Lage des Ursprung-Punktes P0 bestimmen Sie durch Angabe von XX% und YY% (0,0 ist oben links am Bildschirm). Den Drehwinkel können Sie leider nicht direkt in Grad angeben, sondern nur in Form von vier dazu proportionalen Verschiebungsfaktoren, AA%, EE%, BB% und CC%, die vonein-anderabhängig sind. Bild 5 zeigt Ihnen die Wirkung dieser Faktoren AA% und EE% die für die Y-Verschiebung zuständig sind. In den beiden Demo-Listings sehen Sie, wie die Winkelangabe Grad in diesen Faktor umgerechnet werden.

Eine Zusammenfassung der Parameter zeigt Bild 6.

TODO BILD 6
XX% — X-Koordinate des Ursprungs
YY% — Y-Koordinate des Ursprungs
AA%, EE% Verschiebungsfaktoren in Y-Richtung
BB%, CC% Verschiebungsfaktoren in X-Richtung
Bild 6. Parameter für die Lage der Grafik am Bildschirm. Die Demo-Programme berechnen alle Faktoren aus Ihren Angaben für Aufsichts-, Drehwinkel, Linienzahl und Variablengrenzen.

### Allgemeines

1.	Die Linienzahl der Netzgrafik ist auf 60 begrenzt, da die Koordinaten eines jeden Gitterpunktes in einer Tabelle abgespeichert werden. Bei mehr Linien kann die Tabelle solche Ausmaße erreichen, daß das Maschinenprogramm überschrieben wird. Abgesehen davon wird die Bildschirmdarstellung bei mehr als 30 Linien ziemlich unansehnlich. Zu spitze Extremwerte sollten durch eine Verkleinerung der Variable DD sowie durch Erhöhung der Linienzahl verringert werden.
2.	Befindet sich in der Funktion FNR ein Schreibfehler, wird die 3-D-Routine beendet. Da der I/O-Bereich während der Arbeit des Maschinenprogramms abgeschaltet ist, kann keine Fehlermeldung ausgegeben werden. RUN-STOP/RESTORE ist nötig.
3.	Sind die Berechnungen abgeschlossen, wird vor dem Zeichnen der Grafik der Grafikmodus eingeschaltet.

Nun genug der langen Erklärung. Am Besten ist es immer noch, ein wenig mit den Demo-Programmen herumzuprobieren. Wichtige Parameter sind, neben denen die abgefragt werden, noch DD, die Längen LX und LY und die Mittelpunktskoordinaten MY und MX. Durch MY kann die gesamte Grafik am Bildschirm rauf und runter bewegt werden. Bild 7 wurde mit der SYS XY-Routine gezeichnet. Solche Funktionsgraphen können Sie mit dem Demoprogramm auch erzeugen. Probieren Sie einfach mal verschiedene Funktionen aus. Das Bild kann sich schon erheblich ändern, wenn Sie die Parametergrenzen einer Funktion wechseln.

(Martin Rogge/hm)

# Supergrafik III

> Klein, aber oho! Dreidimensionale Grafiken sind auch mit der Grundversion des VC 20 möglich.

Das vorliegende Programm ist eine Anwendung des im 64’er, Ausgabe 11/84, Seite 73 abgedruckten Programms »Supergrafik II« für hochauflösende Grafik (200 x 256 Punkte) auf dem VC 20. Es ermöglicht die Darstellung dreidimensionaler Funktionsgrafiken auf dem Bildschirm.

Eine kurze Erläuterung der 3-D-Technik:
Der Graph einer Funktion zweier Variablen in einem X-Y-Z-Dia-gramm ist in grafischer Darstellung ein gekrümmtes Flächenstück. Das Problem besteht nun darin, diese Fläche im Raum auf den zweidimensionalen Bildschirm abzubilden.

Das Programm verwendet den 1. Oktanten eines rechtshändigen dreidimensionalen Koordinatensystems, dessen Y-Z-Ebene (Projektionsebene) parallel zum Bildschirm verläuft. Die Länge der Achsen beträgt zehn Einheiten.

Vor dem eigentlichen Programmlauf werden in Zeile 1 die räumlichen Koordinaten des gedachten Auges A(XA;YA;ZA) und in Zeile 300 die gewünschte Funktion eingegeben. Eine Änderung des »Augpunktes« A führt zu einer anderen Perspektive. Die Projektion besteht nun darin, daß ein Punkt des Graphen, der nicht in der Y-Z-Ebene liegt, in diese vom Augpunkt A aus projiziert wird. Der VC 20 ermittelt die Koordinaten des projizierten Punktes und bringt diesen auf den Bildschirm (Bild 1).

Die relevanten Punkte des Funktionsgraphen werden gewonnen durch Wahl eines Punktes (X,Y,0) auf einem 10 x 10 Gitternetz in der X-Y-Koordinatenebene und Berechnung der Z-Koordinate mit Hilfe der Funktionsgleichung. Dies ergibt die plastische Wirkung, vergleichbar mit dem Schatten eines Gitternetzes auf dem Funktionsgraphen (Bild 1).

Einen recht reizvollen Eindruck (Bild 2) gewinnt man alternativ, wenn die Koordinaten X und Y zufällig per RND-Funktion ausgewählt werden. Dazu ist die Programmzeile 250 zu ersetzen durch:

250 X = 10 * RND(1): Y = 10*RND(1):GOSUB 300:GOTO 250

Die Programmzeilen 260 und 280 können dann gelöscht werden.

Um Speicherplatz zu sparen, wurde auf Kommentare im Programm und Grundsätze zur übersichtlichen Programmmierung bewußt verzichtet.

(Rudolf Dörr/ev)

# Tips & Tricks gesucht

Jeder Computer und jedes Programm hat seine speziellen Schwachstellen und Unzulänglichkeiten. Allerdings ist kaum ein Programmierer oder Anwender auf Dauer bereit, sich damit abzufinden. Wo auch sorgfältigste Lektüre von Handbüchern nicht weiterhilft, da wird so manche Stunde experimentiert, um eine Lösung zu finden (die oft in einer Basic-Zeile Platz hat).

Wir suchen solche Tips und Tricks, um sie allen Lesern zugänglich zu machen. Schließlich ist es wenig sinnvoll, sich wochenlang mit Problemen herumzuschlagen, die andere bereits gelöst haben.

Wenn Sie also interessante Tips für den Umgang mit Computer, Floppy, Drucker oder sonstiger Hardware haben, wenn Sie bei kommerzieller Software einige Kniffe kennen, die nicht in der Anleitung stehen, oder wenn Sie interessante Problemlösungen statt in vier Seiten Listing in ein oder zwei Basic-Zeilen untergebracht haben, dann sollten Sie uns auf jeden Fall einmal schreiben.

Bitte geben Sie genau den Computertyp und die Gerätekonfiguration oder die Software an, und senden Sie Ihren Tip oder Trick an die
Redaktion 64’er
Markt&Technik Verlag Aktiengesellschaft
Hans-Pinsel-Str. 2
8013 Haar bei München

# Neues vom Hypra-Load: Hypra-Perfekt

>> Es ist uns schon fast zur lieben Gewohnheit geworden, Ihnen das Hypra-Load in ständig verbesserter Form vorzustellen. Wir hoffen, daß wir die neueste Version nicht zu Unrecht »Hypra-Perfekt« genannt haben.

Hypra-Load ist zweifellos eines der interessantesten Programme, die jemals für den Commodore 64 verfügbar waren. Die zahlreichen Leserzuschriften und Telefonanrufe zu diesem Thema belegen die überwiegend positive Resonanz eines weiten Leserfeldes. Trotzdem muß zugegeben werden, daß auch ein gutes Programm noch verbessert werden kann. Mit Hypra-Perfekt haben wir nun eine Version entwickelt, die Ihnen hoffentlich ebenso gut gefällt wie uns.

Da eine reine Diskettenversion zwar die einfachste, aber leider nicht die kompatibelste Lösung ist, haben wir die Form des Kernal-ROMs gewählt. Das heißt, das Betriebssystem des Computers wird durch Austausch des Kernal-Speicherbau-steins verändert. Als neuer Programmträger dient ein 2764-EPROM, dessen Inhalt mit dem nachfolgend abgedruckten Programm erzeugt wird. Wie das vonstatten geht, ist mit wenigen Worten erklärt. Das Betriebssystem (auch Kernal genannt) des Commodore 64 befindet sich im Speicherbereich von 57344 ($E000) bis 65535 ($FFFF). Es hat damit genau die Länge von 8 KByte. Das gesamte Kernal (Assemblerlisting) abzudrucken würde natürlich den Rahmen des Heftes sprengen. Ein kompletter Abdruck ist auch gar nicht notwendig, denn es werden ja nur bestimmte Teile des Betriebssystems verändert.

Das abgedruckte Programm kopiert dazu zunächst in den Speicherbereich 24576 ($6000) bis 49151 ($7FFF). Wer einen anderen Speicherbereich verwenden möchte, muß die Leseschleife in Zeile 30 und den Offset (OF) in Zeile 15 verändern. Soll das Kernal beispielsweise im Speicherbereich ab $5000 stehen, lautet die Zeile 30:
30 FOR I = 5*4096 T07*4096-1 POKE I, PEEK(I+OF): NEXTI

Der Offset beträgt in diesem Fall 36864. Nach dem Kopieren befindet sich im Speicher ein genaues Abbild des Kernal-ROMs. Der nächste Schritt, der automatisch vom Programm ausgeführt wird, ist das Verändern der einzelnen Speicherstellen. Der gesamte Vorgang läuft automatisch ab, bis unser neues Kernal im Speicher steht. Am besten ist es, den Speicherbereich von $6000 bis $8000 nun mit einem Monitor abzuspeichern. Wer im Besitz eines EPROM-Programmiergerätes ist, sollte nicht lange warten und das neue Kernal auf ein 2764-EPROM brennen.

Bis hierhin war eigentlich alles relativ einfach, jetzt aber kommt die schwierigste Hürde auf dem Weg zum neuen Betriebssystem. Ein Adaptersockel muß eingebaut werden, denn leider sind die Pin-Belegungen des Original-ICs und die des 2764 nicht identisch. Solche Sockel kann man entweder kaufen (beispielsweise Roßmöller MR 2764) oder aber selbst bauen. Bild 1 zeigt, welche Pins des 24poligen Sockels mit denen des 28poligen verbunden werden. Das Ganze sieht nach der Fertigstellung wie ein kleiner Doppeldeckerbus mit überhängendem Dach aus. Im oberen Stockwerk dieses »Busses« nimmt nun der 2764 mit unserem neuen Betriebssystem Platz. Die 24 Pins des unteren Fahrwerks finden im (hoffentlich gesockelten) U4-Steckplatz des Computers ihre Heimat. Das überhängende Dach zeigt, zusammen mit der EPROM-Kerbe, in Richtung des User-Ports.

Sollte sich (was sehr erfreulich wäre) der Computer mit geändertem Farbbild, aber sonst gewohnter Anzeige melden, haben Sie es geschafft. Ihnen steht nun eine recht leistungsfähige Variante des Hypra-Load zur Verfügung. Drucker, Plotter und weitere Laufwerke können jetzt beim Laden eingeschaltet bleiben. Die Funktionstasten sind belegt (Bild 2) und eine etwa sechsfache Ladegeschwindigkeit wird erreicht. Der Directory zerstört ein im Speicher befindliches Programm nicht mehr. Um die Kompatibilität zu fertigen Softwareprodukten so hoch wie möglich zu machen, wurde eine Umschaltautomatik mitprogrammiert. Sie schaltet auf langsame Ladegeschwindigkeit um, wenn ein schnelles Laden nicht möglich ist. Sollte dennoch einmal ein Programm nicht funktionieren, ist noch lange nichtallerTage Abend. Die Speicherzelle 2, die zum Steuerregister umprogrammiert worden ist, schaltet die einzelnen Funktionen des Hypra-ROMs aus und an. Je nachdem, welcher Wert hier hineingeschrieben wird, schaltet sich eine Funktion nach der anderen aus. Im einzelnen bewirken:

POKE 2,32 = Funktionstasten abschalten
POKE 2,64 = Directory wird normal geladen (mit Programmverlust)
POKE 2,128 = Abschalten des Fast-Load-Modus
POKE 2,0 = Zurücksetzen in den Einschaltzustand
TODO

Natürlich sind auch Kombinationen möglich, beispielsweise:
**POKE 2,32 + 64.**

Alles in allem müßte das neue Hypra-ROM mit beinahe 99 Prozent aller erhältlichen Programme funktionieren. Was nicht geht, ist der Betrieb eines Datenrecorders; es sei denn, das neue Kernal wird auf einer Umschaltplatine in den Computer gesteckt. Solche Platinen werden von verschiedenen Herstellern angeboten und bieten Platz für zwei oder mehr Betriebssysteme, die über einen Drehschalter anwählbar sind. Prinzi-piellgenügtesaber, bei Bedarf auf das Original-Kernal zurückzugreifen. Übrigens: Wer sich sein Kernal in einer individuellen Farbkombination brennen möchte, braucht lediglich die Farbwerte in Zeile 50 bis 70 zu ändern. Und nun viel Freude mit »Hypra-Perfekt«.

(Arnd Wängler/Ernst Schöberl/gk)

# Print-List

> Ein kurzes Programm, das nicht nur formatierte Listings mit Seitenzahlangabe und Überspringen der Perforation bei Endlospapier druckt. Es erklärt auch, was »programmierter Direktmodus« ist.

Seit kurzem bin ich stolzer Besitzer eines MPS 801. Eine der ersten Anwendungen war das Drucken von Listings, was einerseits die Fehlersuche in Programmen enorm erleichtert und andererseits eine perfekte Datensicherung darstellt. Doch schon beiListings, die länger als eine Druckseite waren, begann der Ärger: Die Perforation wurde bedruckt oder der Ausdruck war eine endlose Papierschlange, die ich nicht trennen durfte; nach einigen Tagen hätte ich nicht mehr gewußt, welche Seite zu welchem Listing gehört.

Schließlich habe ich ein Unterprogramm geschrieben, das meiner Meinung nach recht brauchbar ist, um die angeschnittenen Probleme ein für allemal zu beseitigen. Die Routine wird dem zu listenden Basic-Programm angehängt und mit RUN 63974 gestartet. Das Anhängen des Unterprogramms geschieht am besten mit einer MERGE-Routine wie im 64’er, Ausgabe 4/84. Beachten Sie dabei bitte, daß die letzte Zeilennummer in Ihrem Programm nicht größer als 63973 sein darf.

Nach dem Start des Unterprogramms können Sie eine Überschrift eingeben, die dann mit einer Seitenangabe aufjeder Listingseite erscheint. Zusätzlich wird die Perforation des Endlospapiers übersprungen, indem nach jeweils 60 Zeilen ein Seitenvorschub ausgelöst wird. Gelistet wird nur bis zur Zeilennummer 63973, damit die Routine selbst nicht im Listing erscheint.

## Direktmodus im Programm

Im wesentlichen besteht Print-List darin, daß zunächst die Nummer der ersten Basic-Zeile und dann der Linkpointer (64’er, 2/85) der nächsten Zeile ermittelt wird. Dies geschieht insgesamt 60mal. Danach steht die Zeilennummer der 60. Zeile fest und es können mittels des CMD- und LIST-Befehls die ermittelten 60 Zeilen ausgedruckt werden. Dazu werden die Befehle CMD und LI8T von, bis in die erste Bildschirmzeile gedruckt und die ASC-Werte der Befehle »Cursor home«, »Return«, GOTO 63995 und »Return« in den Tastaturpuffer gePO-KEt (Zeile 63993). Da nach der PRINT-Anweisung zum Druck von CMD und LIST ein END steht (Zeile 63994), gibt der Computer sein READY und wartet auf eine Eingabe im Direktmodus. Erschautdazu ständig in Speicherzelle 198 nach, wieviel Tasten gedrückt und noch nicht bearbeitet wurden. In diesem Fall sind es zehn. Die ASC-Codes der Tasten selbst werden im Speicher bei den Adressen 631 bis 640 gepuffert, das heißt zwischengespeichert bis der Computer sie verarbeiten kann. Ist der Puffer voll — in 198 steht 10 — registriert der Computer einfach keinen Tastendruck mehr. Holt der C 64 Daten aus dem Tastaturpuffer, erniedrigt er den Pufferzeiger in Speicherzelle 198.

Das Programm Print-List sorgt nun dafür, daß der C 64 nach dem END die Anweisungen »Cursor Home« (ASC=19) und Wagenrücklauf (Carriage Return, ASC = 13) findet, was bewirkt, daß die Befehle in der ersten Zeile ausgeführt werden. Sind CMD und LIST abgearbeitet, werden die Kommandos im Tastaturpuffer bis zum nächsten Wagenrücklauf (13) ausgeführt. Die ASC-Werte, die der Computerjetzt findet, sind 71 und 207, die Abkürzung des GOTO-Befehls, gefolgt von den Werten der einzelnen Ziffern der Zeilennummer 63995 und einem Carriage Return (13). Das Unterprogramm wird dadurch wieder mit GOTO 63995 aufgerufen. Solange, bis die ermittelte Zeilennummer größer als 63973 ist.

Mit etwas Probieren können Sie auf ähnliche Weise Basic-Programme nachladen, ohne daß Sie auf verschiedene Zeiger acht geben müssen. Sie müssen dazu nur LOAD »na-me«, 8 in die erste Bildschirmzeile schreiben und mit CHR$(19) den Cursor in die »Home«-Position zu bringen. Findet der Computer dann nach einer END-Anweisung ein Carriage Return im Tastaturpuffer, wird das gewünschte Programm geladen. Wiederholen Sie das Spiel mit RUN, so startet das Programm noch »von selbst«.

(Peter Zuser/hm)

# Befehlserweiterung für den C 64

> Neue BasioAnweisungen zur Bildschirmsteuerung und für maskierte Dateneingaben: TAB (X,Y) I CHR$ (!) / INPUT (!), ” ....

Die vorgestellten Zusatzbefehle wurden ursprünglich zur Unterstützung eines kleineren Dateiprogramms entwickelt. Natürlich sind — besonders für die Bildschirmsteuerungen — andere Einsatzmöglichkeiten denkbar. Im Handbuch des C 64 finden Sie im Anhang F eine Tabelle der ASCII- und CHR$-Codes. Da einige Zeichen nicht belegt sind, bietet es sich an, diesen die neuen Steueranweisungen zuzuordnen.

Tabelle 1 zeigt die neuen CHR$-Codes.

Sicherlich haben Sie schon einmal die Erfahrung gemacht, daß Freunde bei selbstgeschriebenen Programmen erstaunlich schnell die STOP-Taste finden. Die »Treffsicherheit« steigt dabei mit zunehmender Unkenntnis über Computer. Mit den letzten vier—in der Tabelle aufgeführten — CHR$-Codes können die STOP-Taste und die STOP-RESTORE-Funktion ein- und ausgeschaltet werden.

Aber Vorsicht: Das folgende Beispielprogramm kann nach RUN nicht wieder unterbrochen werden.
10 PRINT CHR$(12);CHR$(16)
20 GOTO 20

Nur durch RESET oder ROSOF (Reset On Switch On ofF) kann der Computer zurückgeholt werden; das Programm ist jedoch in beiden Fällen verloren.

Nebenbei beziehen sich die neuen CHR$-Codes nur auf den Bildschirm. Da viele Drucker nicht in der Lage sind, einen einmal ausgedruckten Text beispielsweise nach links zu verschieben, werden die neu belegten CHR$-Codes unverändert an die Schnittstelle weitergegeben.

Die nächste Erweiterung betrifft den TAB-Befehl. Folgt zwischen den Klammern nur eine Angabe, so wird die Befehlsführung weiterhin dem Commodore-Basic überlassen. Falls der Klammerausdruck zwei Koordinaten (erst X, dann Y) enthält, wird TAB durch das Maschinenprogramm ausgeführt. Der Cursor wird in diesem Fall auf die Bildschirmkoordinaten X, Y gesetzt. Der Befehl »PRINT TAB (0,0);”TEST”« schreibt beispielsweise »TEST« an den oberen linken Bildschirmrand.

Als weitere Neuerung kann der INPUT-Befehl nun durch Angabe einer Feldbreite »maskiert« werden. Das funktioniert folgendermaßen: Der maskierte INPUT-Befehl wird durch eine Längenangabe — in Klammern — gekennzeichnet. Falls beispielsweise eine Eingabe auf zehn Zeichen begrenzt werden soll, muß die Anweisung wie folgt lauten: »10 INPUT (10),”EINGABE”; E$«.

Die Feldgrenzen können anschließend nicht mehr überschritten werden. Außerdem unterdrückt das Programm die Eingaben HOME, CLR HOME, CURSOR UP/DOWN sowie das Anführungszeichen. Die Tasten DELete und INST verändern nur die Maske; also in dem Beispiel die ersten zehn Positionen hinter dem Text »EINGABE«.

## Bildschirmmasken ohne Probleme

Zusätzlich kann in dem Feld eine Maske unterlegt werden. Hierzu das folgende Testprogramm:
10 PRINT ”12345678......TEST";CHR$(7);
20 INPUT (10), "EINGABE”; D$
30 D$ = LEFT$(D$,10) : PRINT D$

Der PRINT-Befehl schreibt zuerst die Zahlen 1-8, dann zehn Punkte (als Maske) und zuletzt das Wort »TEST«. Durch CHR$(7) folgt anschließend ein RETURN auf der Bildschirm-Zeile. Der Text »EINGABE« des INPUT-Befehls überschreibt dann die Zahlen 1 bis 8 und das Ergebnis sieht wie folgt aus: EINGABE?.........TEST

Falls Sie nun einige Zeichen eingeben und anschließend mit der DEL-Taste löschen, werden am Maskenende neue Punkte »nachgeschoben«. Das Wörtchen >TEST< bleibt jedoch unverändert, da sich die Eingaben DEL und INST nur auf die Eingabemaske beziehen. Nach RETURN wird die Maske (mit SPA-CEs) gelöscht. In der Zeile 30 muß der String zuletzt auf die Maskenlänge begrenzt werden, da das Wort »TEST« ebenfalls in die Variable übernommen wurde.

Nachdem Sie jetzt wissen was das Programm macht, brauchen Sie »nur« noch das Basic-Ladeprogramm einzugeben. Die Daten sind als Hexadezimalwerte aufgeführt. Bei dem letzten Wert handelt es sich um die Prüfsumme der entsprechenden Zeile. Nach »RUN« meldet das Programm beispielsweise »Zeile 1009 PRUEFSUMMENFEHLER«, so daß Sie genau erfahren, in welcher DATA-Zeile Sie das Maschinenprogramm »umgeschrieben« haben.

Das Programm wird mit SYS 49152 gestartet. Die neuen Funktionen stehen dann sofort zur Verfügung.

(Heino Velder/ev)

# Reverse Hardcopy MPS 801/ VC 1515/ GP 100VC

In der Ausgabe 10/84 des 64’er Magazins veröffentlichten wir eine Hardcopy-Routine für die Drucker MPS801, VC 1515 und GP 1OOVC. Folgende Zeilen sollten geändert werden, um einen reversen Ausdruck zu erreichen:
470 DATA9,128,32,0,197,70,151,144,223,165,176,105,6,133,176,144,2,230,177
620 IF B<>45343 THENPRINT"FEHLER IN DATENZEILE!"
630 FOR I=50432 TO 50437:READ A:POKE I,A:NEXT
640 DATA 73,127,32,210,255,96

(Dipl.-Ing, Reinhard Zinn/rg)

# Hardcopy mit einer Zeile

> Dieser Einzeiler gibt den Text einer Bildschirmseite des C 64 auf einem MPS 801 aus. Ganz ohne PEEKs, POKEs und SYS-Befehle. Trotzdem überrascht das Programm mit einer hohen Druckgeschwindigkeit.

Mittlerweile existiert eine Vielzahl von Hardcopy-Routinen für die verschiedenen Drucker und Bildschirmformate. Ich kannte aber bisher kein Druck-Programm, das universell einsetzbar ist, keine POKEs und PEEKs braucht und auch nicht in Maschinensprache geschrieben ist Diese Eigenschaften weist dieser Einzeiler (Zeile 9 des Listings) auf. Das »Programm« enthält nur Basic-Befehle.

Die Programmidee basiert auf der Tatsache, daß der Bildschirm des C 64 wie eine Datei behandelt werden kann. Ähnlich wie der Drucker die Adresse 4 hat und die Floppy mit Adresse 8 angesprochen wird, ist dem Bildschirm die Geräteadresse 3 zugeordnet; fest vom Betriebssystem. Mit OPEN 2,3 wird die Bildschirmdatei eröffnet und mit INPUT#2 oder GET # 2 der Inhalt der Datei gelesen. Beim INPUT #-Befehl ist, wie bei jedem anderen INPUT zu beachten, daß die Anweisung bei einem Kommaodereinem Doppelpunktabgebrochen wird. Aus diesem Grund habe ich den INPUT- durch den GET-Befehl ersetzt. Eine GET Schleife liest ab der aktuellen Cursorposition sämtliche Zeichen als ASCII-Code. Die gelesenen Codes addiert man darauf in einer Variablen. Zum Beispiel durch die Anweisung A$=A$+B$, bei der immer wieder ein neues B$ zu A$ addiert wird. Eine einfache Sache sollte man meinen, aber die Schwierigkeiten beginnen erst an dieser Stelle. GET liest nämlich immer als letztes Zeichen einer Zeile grundsätzlich ein Carriage Return, CHR$(13). Egal, welches Zeichen sich dort befindet. Ferner ist der 80-Zeichen-Editor des C 64 zu beachten, der bei diesem Vorhaben zusätzliche Schwierigkeiten bereitet: Eine Zeile besteht trotz der 40-Zeichen-Darstellung auf dem Bildschirm innerhalb des C 64 aus 80 Zeichen. Denken Sie nuran die Eingabevon langen Programmzeilen. Nach dem Öffnen der Bildschirmdatei wird Zeichen für Zeichen gelesen, beginnend in der oberen linken Bildschirmecke. Dabei werden in einem Schleifendurchgang immer zwei Zeichen geholt und den Variablen A$ und B$ zugeordnet. Ist A$ gelesen, wird mittels der DELete-Funktion, CHR$(20), der restliche Zeileninhalt um eine Stelle nach links geschoben, um das letzte Zeichen einer Zeile eindeutig zu erkennen. Nach dem Einlesen von B$ wird durch die INSert-Funktion, CHR$(148), der ursprüngliche Zeilenzustand wieder hergestellt. Danach wird der ASCII-Code in den beiden Variablen an den Drucker gesandt. Durch ständige, schnell ablaufendeZeilenverschiebung ist deutlich sichtbar, wo der Computer jeweils »arbeitet«; ein brauchbarer Nebeneffekt.

Ein Einzeiler kann natürlich kein perfektes Programm sein. Deshalb sollten auch die Nachteile herausgestellt werden: Die Routine kann keine reversen Zeichen auf dem Drucker darstellen. Reverse Zeichen werden normal gedruckt. Innerhalb des Textes, von dem eine Hardcopy angefertigtwerden soll, dürfen keine Anführungsstriche, CHR$(34), vorkommen. Da der Code 34 innerhalb eines Programms recht selten vorkommt, ist diese Einschränkung aber nur von geringer Bedeutung. An- ^ ders in Programmlistings, die aber meistens mit OPEN1,4: CMD1:LIST gedruckt werden.

Der Einzeiler ist dafür gedacht, als Unterprogramm Daten auszudrucken; einfach vom Bildschirm weg.

### Tips zur Eingabe

Das reverse »t« steht für DELete, CHR$(20). Um diesen Code in der erforderlichen Form eingeben zu können, bedarf es eines kleinen Tricks: An der gewünschten Stelle tippt man zu-erstzwei aufeinanderfolgende Anführungszeichen »”« ein. Danach drückt man einmal Cursor-Links, damit der Cursor über dem zweiten Anführungszeichen steht und einmal INSert und DELete. Mit Cursor-Rechts geht man in die ursprüngliche Schreibposition zurück. Beachten Sie dabei bitte, daß das re-verse »t« nur im Moment der Zeilenerfassung sichtbar ist. Nach LIST wird dieser Code vom Editor nicht gezeigt, sondern ausgeführt. Was zu der verstümmelten Version PRINT”; führt. Die anderen beiden revers dargestellten Steuerzeichen sind Cursor-Links, CHR$(157) und INSert, CHR$(148). Nach dem ersten Anführungszeichen drücken Sie dazu Cursor-Links und anschließend INSert. Sollten Sie mit der Eingabe der Steuerzeichen Probleme haben, können Sie sie durch CHR$()-Befehle ersetzen. Sie benötigen dann allerdings mindestens zwei Zeilen.

Die Zeile 4 dient lediglich zum Füllen des Bildschirms für Demo-Zwecke. Zeile 7 ist ein Beispiel für den Aufruf der Hardcopy-Routine. Zunächst wird der Cursor in die Home-Position gebracht und mit OPEN1,4,7 die Drucker- und mit OPEN 2,3 die Bildschirmdatei eröffnet. GOSUB 9 startet schließlich die Hardcopy-Zeile. Wie Sie an den beiden FOR-NEXT-Schleifen erkennen können, werden nacheinander alle Spalten und Zeilen des Bildschirms »abgetastet«. Nach dem Druck werden die beiden Dateien wieder mit CLOSE geschlossen.

(Karl-Heinz Heß/hm)

# VC 20-Programme schützen

> Einige Gedanken zum Copyright-Schutz mit Break, Autostart und einigen nützlichen POKEs und PEEKs. Experimentieren ist gestattet.

Wer möchte schon, daß sein Copyright mißbraucht wird? Viele Programmierer trauen sich nicht, ihr Programm zu veröffentlichen oder zu tauschen, weil dieses ja dann von Raubkopierern vervielfältigt werden könnte. Für solch einen Fall habe ich eine fast narrensichere Hilfe geschaffen.

Zunächst wäre es möglich, daß man seine Programme mit einem LOAD-, SAVE-, LIST-Schutz gegen Kopieren sichert. Aber damit hat man die unbefugte Benutzung noch nicht ausgeschaltet. Die Lösung liegt da, daß man einen Code abfragt, wobei die Abfrage im Listing natürlich unsichtbar ist. Anschließend schalten wir noch die RUN/STOP-RESTORE-Funktion außer Betrieb und mit einem Datasetten-Autostart sind wir schon fast fertig. Werfen wir nun alles in einen Topf, so haben wir doch ein ziemlich sicheres Programm (Listing 1). Die benötigten PEEKs und POKEs sind in Tabelle 1 zu finden. Das Programm ist selbstverständlich nur eine Demo-Version, um das Prinzip zu zeigen. Bauen 8ie die Routinen doch einmal in eines Ihrer Programme ein.

Das Prinzip des Datasetten-Autostarts wurde bereits im VC 20-Kurs ausführlich beschrieben. Eine sehr einfache Methode ist es beispielsweise, das Hauptprogramm von einem Ladeprogramm aus nachladen zu lassen. Den Nachlade-Befehl kann man dabei noch in einem Maschinenprogramm unauffällig verstecken (Listing 2).

Zumindest bei Spielen für den VC 20 wird in den meisten Fällen ein neuer Zeichensatz definiert, um die grafische Darstellung zu verbessern. Diese Zeichendefinition wird in der Regel über DATA-Zeilen durchgeführt. So fällt es kaum auf, wenn da eine zusätzliche DATA-Zeile eingebaut wird, die den Nachlade-Befehl in Maschinensprache enthält.

Zum Abschluß noch ein Tip:

POKEn Sie doch einmal verschiedene Werte in die Speicherstelle 808. Sie werden verblüffende Ergebnisse erzielen.

(Ralf Brinkmann/ev)

# Jahresinhaltsverzei<hnis 1984/85

In diesem Inhaltsverzeichnis sind alle wesentlichen Artikel enthalten, die in den Ausgaben 4/84 bis 3/85 vom 64’er erschienen sind. Das Verzeichnis ist in zehn Hauptabschnitte unterteilt. Die Rubrik »Listings zum Abtippen« besteht außerdem aus den Unterabschnitten Anwendung, Grafik, Spiel und Tips&Tricks. Einige Artikel finden sich als themenübergreifende Beiträge unter verschiedenen Stichworten wieder. Nicht enthalten sind im Inhaltsverzeichnis kurze Meldungen sowie Beiträge aus den Rubriken Leserforum, Bücher, Aufrufe und Fehlerteufel. Um zwölfMonatsausgaben im Verzeichnis aufzuführen, wurden die Ausgaben 1/85, 2/85 und 3/85 mit aufgenommen. Diese tauchen auch wieder im Jahresinhaltsverzeichnis von 1985, das in der Ausgabe 1/86 erscheint, auf.

# Window 64: Fenstertechnik für den Commodore

> Bekanntlich besitzt der C 64 nicht die bei einigen anderen (vor allem bei teureren) Computern mögliche Definierung von Fenstern. Mit diesem Programm können Sie mit einfachen, aber leistungsstarken Befehlen bis zu acht solcher Fenster einsetzen.

Mit Fenster- (auch Window-) Technik bezeichnet man die Fähigkeit eines Computers, seinen Bildschirm in mehrere, voneinander unabhängige Zonen aufzuteilen. Diese Art der Bildschirmaufteilung gab es zum ersten Mal richtig bei der Lisa von Apple. Später dann wurde sie auch bei anderen Computern, wie etwa beim IBM-PC und vergleichbaren Systemen eingesetzt. Nun gibt es die Fenster-Technik auch auf dem C 64.

Window 64 ist ein 4 KByte langes Maschinenprogramm, das nach entsprechender Anpassung in jedem RAM-Bereich lauffähig ist und nach Aktivierung den Basic-Wortschatz um sechs Befehle erweitert.

Window 64 ermöglicht nicht nur die vertikale Aufteilung des Bildschirms in bis zu acht sich einander nicht beeinflussende Sektoren, sondern versetzt den Benutzer darüber hinaus noch in die Lage, den Schirm in bis zu vier Raster-IRQ-gesteuerte Zonen zu unterteilen, deren jede einen x-beliebigen RAM-Bereich im Text- oder im Grafikmodus sichtbar machen kann.

Sämtliche Funktionen sind derart menügesteuert, daß bei der Bedienung — insbesondere der recht komplexen Raster-IRQ-gesteuerten Option — absolut keine Fehleingaben möglich sein sollten.

Das Demopaket läuft nur mit der Window 64-($7000-$7FFF-)Version! Es wird folgendermaßen aktiviert:

1. Window 64 absolut laden (also LOAD”WINDOW64”,8,1)
2. Starten des Programms (SYS7*4096).<br>Damit ist das Programm aktiviert. Jetzt können Sie schon die beschriebenen Befehle nutzen.
3. Wenn Sie das Demoprogramm ausprobieren möchten, laden Sie zuerst das Programm LINE PLOT absolut, also mit »,8,1«. Dieses Programm ist nur auf der Diskette des Leserser-vices enthalten. Es ist nicht unbedingt notwendig. Das Demoprogramm funktioniert auch ohne LINE PLOT, allerdings ohne Demonstration der Vermischung von hochauflösender Grafik mit Text.
4.	Demoprogramm laden und starten.

Das Demoprogramm läuft nur mit der abgedruckten $7000er-Version. Window 64 kann jedoch auch in einen anderen Speicherbereich verschoben werden.

### Window 64-Bedienungsanleitung

Window 64 ist eine Basic-Erweiterung, die sich mit einem geeigneten Monitor praktisch in jeden RAM-Bereich verschieben läßt. Das Programm wird mit »SYS 7*4096« plus »RETURN« (oder allgemein nach entsprechender Verlagerung mit »SYS ANFANGSADRESSE«) gestartet. Alle das Basic-RAM nach oben hin begrenzenden Vektoren werden automatisch angepaßt. Zu beachten ist, daß jedes eventuell noch vorhandene Basic-Programm gelöscht wird.

Window 64 verfügt über folgende Eigenschaften:

Aufteilung des Bildschirms in bis zu acht in der vertikalen Größe einstellbare, sich untereinander nicht beeinflussende Fenster. In einem durch >WM plus RETURN aufzurufenden Menü können Anzahl und Größen (gemessen in Zeilen) bestimmt werden. Sämtliche Eingaben haben in hexadezimaler Form zu erfolgen. Nach Verlassen des Menüs wird der Fenster-Modus aktiviert, wobei der nun erscheinende Strich-Cursor (!) automatisch ins erste Fenster springt. Direkt nach der ersten Tastenbetätigung fällt das mit jeden Tastendruck verbundene »Klick«-Geräusch angenehm auf. Die im Menü festgelegten Begrenzungen werden markiert durch je eine am oberen und unteren Rand des Fensters befindliche, durch Sprites realisierte Linie. In jedem Fenster stehen einem nun alle die Editor-Funktionen zur Verfügung, die man auch von der Grundversion her kennt! Es gibt zwei Möglichkeiten, das gerade aktuelle Fenster zu verlassen, um in einem anderen'weiter-zuarbeiten:
a) Durch gleichzeitige Betätigung der CTRL- und der —-Taste springt man automatisch ins jeweils nächste Fenster, wobei — eine Besonderheit dieses Programms — man im neuen Fenster wieder alle jenen Parameter wie zum Beispiel Cursor-Position, Zeichenfarbe, Hochkomma-Modus, RVS-on/off-Modus, Tastenwiederholung ein/aus etc. so vorfindet, wie man sie eventuell in diesem Fenster vorher gesetzt hatte.
b) Durch >WAx plus RETURN springt man in das durch die Zahl oder den Ausdruck »x« numerierte Fenster. Bei zu kleinem oder zu großem x wird ein »Illegal Quantity Error« ausgegeben. Nach Desaktivierung des Fenster-Modus durch »>WD« plus »RETURN« kann mit diesem Befehl wieder direkt ins entsprechende Fenster gesprungen werden. Bis auf Cursor-Position, Hochkomma- und RVS-Modus gilt das oben über die verschiedenen Parameter Gesagte.

Bemerkung: Der >WAx-Befehl istzu Beginn noch so lange blockiert, bis das Menü zum ersten Mal aufgerufen wird! Durch den Befehl > WD plus RETURN desaktiviert man den Fenster-Modus, wonach man den vollständig gelöschten Bildschirm wieder uneingeschränkt benutzen kann.

TODO Tabelle

Neben der beschriebenen Fenster-Technik bietet Window 64 darüber hinaus eine von mir »Schirmzonentechnik« genannte Option. Und zwar wird der Benutzer in die Lage versetzt, unabhängig von obiger Aufteilung, in maximal acht Fenster den Bildschirm weiterhin in bis zu vier Zonen zu unterteilen, deren Größen ebenfalls variabel sind. Jede Zone kann beliebig im Text- oder Grafik-Modus betrieben werden, wobei im ersten Fall Charakter- und Video-RAM-Basis, im anderen Fall Hires- und Farb-RAM-Basis frei wählbar sind.

Ferner ist für jede Zone noch eine Hintergrundfarbe festzulegen und zu überlegen, ob man im Multi-Color- beziehungsweise Extended-Color-Modus arbeiten möchte. Wie im Window-Menü müssen auch im durch >ZM plus RETURN zu aktivierenden Schirmzonenmenü alle Zahlen in hexadezimaler Form eingegeben werden. Zurück zu den verschiedenen Basen:

Das Menü achtet strengstens darauf, daß weder syntaktische noch logische (!) Fehleingaben getätigt werden. Hat man sich bei einer Zone für den Text-Modus entschieden, muß anschließend die Charakter-Basis festgelegt werden: Normalerweise ist somit $1000 (beziehungsweise $9000) für das Charakter-ROM einzugeben (oder $1800 ($9800) für Klein-/Großschrift). Als Video-RAM-Basis kommt gewöhnlich $0400( = 1024) in Frage. Dajedoch die Bits 14,15 bei beiden Basen übereinstimmen müssen, kann in diesem Fall für die Charakter-Basis nicht $9000 eingegeben werden (ansonsten würde die $0400 ignoriert).

Ähnlich steht es mit den Hires- und Farb-RAM-Basen im Grafik-Modus. Auch bei ihnen müssen Bit 14,15 übereinstimmen... Sie können jedoch das Menü fehlerfrei bedienen, da es sorgfältig auf die Einhaltung der Regeln achtet. Weiterhin ist es (zum Beispiel bei der Eingabe einer Hires-Basis) nicht notwendig, redundante Nullen am Ende explizit einzutippen. Bei der Hires-Basis-Eingabe reicht beispielsweise schon das Eintippen einer geraden Ziffer zur eindeutigen Identifizierung des Hires-Bereichs. Bei der Bedienung des Schirmzonen- wie auch Window-Menüs ist noch zu beachten, daß versehentlich falsche Zahleneingaben durch die DEL-Taste vollständig gelöschtwerden können (jedoch erst dann, wenn auch die letzte Ziffer der Zahl eingetippt wurde).

Nach Verlassen des Schirmzonenmenüs wird der Schirmzo-nen-Mode automatisch eingeschaltet. >ZD plus RETURN schaltet diesen Modus wieder ab, während >ZA plus RETURN ihn wieder reaktiviert.

(Engin Gülen/gk)

TODO Tabelle Die drei Schirmzonenbefehle im Überblick:

# Fehlerteufelchen

Diesmal konnte ich mich gar nicht richtig austoben. Am meisten Spaß hat mir das Abschnippeln beim Programm Floppy-Lister gemacht.

### Floppy-Lister, Ausgabe 3/85, Seite 82

Hier ist der fehlende Teil des Programms »Floppy-Lister«.

TODO Listing

### Erst ein IEC-Bus öffnet Tür und Tor, Ausgabe 3/85, Seite 24

In der Tabelle auf Seite 26 wurde der Preis für das Tewi-IEC-Interface um 100 Mark zu hoch angegeben. Das Interface kostet also 239 Mark.

### Ohne gutes Werkzeug geht es nicht: SMON (Teil 4), Ausgabe 2/85, Seite 72

Es fehlte in der Tabelle auf Seite 75 der Änderungshinweis der Speicherzelle 908B. In der 9000er-Version (und anderen Versionen entsprechend) muß die Speicherstelle 908B (JMP C97D) in JMP 997D geändert werden. Dadurch funktioniert der B-Befehl (Basic-Data) wieder einwandfrei.

### Floppy-Kurs, Ausgabe 3/85, Seite 135

Auf der Seite 135 wurden die beiden Bildunterschriften Listing 2b und 3b vertauscht.
In beiden Listings muß in der Speicherstelle 050C LDA #$ ... stehen.

# Dem Klang auf der Spur, Teil 4

> Der SID ist einer der vielseitigsten Sound-Chips auf dem Markt. Dennoch kann man mit ein paar Tricks Klänae mit mehr Volumen, Weichheit und Komplexität erzeugen. Der hier vorgestente Modulator ist der Kern eines in den nächsten Folgen zu entwicKelnden, interruptgesteuerten Synthesizer- und Sequenzerprogramms mit professionellen Ansprüchen.

Die Beschreibung der Register des Synthesizer-Chips SID 6581 wird hier abgeschlossen. Es wird das Programm »Modulator« vorgestellt, das die Fähigkeiten des SID stark erweitern wird. »Modulator« ist interruptgetrieben und läuft daher parallel zu anderen Programmen.

### Fiitersteuerung

Das Filter des SID wurde in seiner Funktion in Teil 3 schon beschrieben. Gesteuert werden diese Funktionen über den Inhalt der vier Register 21-24. (Wir beziehen uns hier auf Tabelle 1 aus dem 64'er, Ausgabe 2/85, Seite 153.) Die Grenzfrequenz (auch Eck- oder Mittenfrequenz, je nach Filtermodus) wird über eine ll-Bit-Größe in den Registern 21 und 22 beeinflußt. Die Grenzfrequenz läßt sich im Bereich 30 Hz bis 12 kHz einstellen. Etwas ungewohnt ist die Verteilung der 11 Bits auf die beiden Register: 3 niederwertige und 8 höherwertige. Da man die Filterfrequenz bei weitem nicht so fein steuern muß wie die Oszillatorfrequenz, kann man sich hier auf Register 22 beschränken. Man wird dann Register 21 zum Beispiel fest mit 0 besetzen.

### Filterresonanz (Register 23 Bit 4-7)

Die Filterresonanz kann über 4 Bits in 16 Stufen eingestellt werden. Man muß dabei aber die vier im selben Register angesiedelten Bits FILTEX, FILTER 3, 2 und 1 im Auge behalten, damit man sie nicht versehentlich mit nicht beabsichtigten Werten belegt.

### Die Schalter FILTER 1, 2, 3 und FILTEX

Ist das Bit im FILTER 1 auf 0 gesetzt, wird das Signal von Stimme 1 am Filter vorbei direkt zum DCA geleitet, wo es ungefiltert zum gesamten Ausgangssignal zugemischt wird. Hat FILTER 1 den Wert 1, so gelangt Stimme 1 gefiltert zum Ausgang. Das gleiche gilt bei FILTER 2 und 3 entsprechend für Stimme 2 und 3. FILTEX bestimmt, ob ein externes Eingangssignal gefiltert oder ungefiltert zum Ausgang gemischt wird. Dieses externe Signal kann über Pin 26 an den SID gelegt werden. Dieser Eingang ist beim C 64 über einen 10-µF-Kondensator an Pin 5 (Audio in) der Audio/Video-Buchse herausgeführt. Nach SID-Spezi-fikationen sollte das Signal einen Gleichspannungsanteil von 6 V haben und eine Wechselspannungsamplitude von 3 V nicht überschreiten. Ein solches Signal könnte zum Beispiel von einem weiteren SID aus einem zweiten C 64 stammen.

### AUS (Register 24 Bit 7)

Wird dieses Bit auf 1 und gleichzeitig FILTER 3 auf 0 gesetzt, erscheint Stimme 3 nicht am Ausgang. Stimme 3 kann dann zum Beispiel Stimme 1 synchronisieren oder ringmodulieren, ohne selbst hörbar zu sein.

### Hochpaß (Bit 6), Bandpaß (Bit 5) und Tiefpaß (Bit 4)

Ist eines dieser Bits gesetzt, verhält sich das Filter als Hoch-Band- oder Tiefpaß. Die Funktionen sind additiv, das heißt, daß man auch mit mehreren gleichzeitig gesetzten Bits ein sinnvolles Filter erhält. So ergeben zum Beispiel Hoch- und Tiefpaß zusammen eine Bandsperre, ein Filter, das alles bis auf einen schmalen Frequenzbereich durchläßt. Die Bandsperre (englisch Notch) ist sozusagen das Gegenstück zum Bandpaß. Es muß mindestens eines dieser Bits gesetzt sein, damit das Filter überhaupt wirksam wird.

### Lautstärke (Register 24, Bit 0-3)

Über diese Bits wird die Gesamtlautstärke des SID in 16 Stufen von stumm = 0 bis maxi-mal = 15 eingestellt. Meistens wird man 15 wählen, weil dann der Störabstand des SID-Signals am besten ist.

## Die Leseregister

### Potentiometer X und Y (Register 25 und 26)

An Pin 24 (entsprechend X) und Pin 23 (entsprechend Y) des SID könne RC-Glieder angeschlossen werden. Dabei sind die beiden Pins jeweils mit einem Kondensator mit Masse und mit einem Potentiometer mit + 5 V zu verbinden. Im SID werden durch Messungen der RC-Zeit-konstanten (das sind die Zeiten, in denen die Kondensatoren über die Potentiometer auf eine bestimmte Spannung aufgeladen werden) 8-Bit-Digitalwerte abgeleitet, die den Stellungen der Potentiometer entsprechen. Diese 8-Bit-Werte sind über die Register 25 und 26 von der CPU lesbar. Die Messungen werden alle 512 Systemtaktzyklen wiederholt. Bei einer Taktfrequenz von 1 MHz sind das knapp 2 000 Messungen pro Sekunde. Die SID-Potentiometer-Anschlüsse sind an den Joystickports gemul-tiplext herausgeführt. Es können dort bis zu vier Potentiometer angeschlossen werden, zum Beispiel in Form zweier Steuerknüppel, wie man sie von Funkfernsteuerungen her kennt. Damit wäre eine viel feinfühligere Steuerung möglich als mit Joysticks, doch das soll nicht Gegenstand dieser Reihe sein.

### Oszillator 3 (Register 27)

Über dieses Register kann zu jedem Zeitpunkt der Digitalwert der zu Stimme 3 gehörenden Kurvenform gelesen werden. Man kann diese Werte zur Modulation anderer Parameter verwenden, wie in Teil 3 schon erwähnt wurde. Weil dadurch aber Stimme 3 meistens nicht mehr direkt brauchbar ist (man würde sie durch AUS = 1 unhörbar machen), werden wir hier einen anderen Weg gehen. Zu Modulationen brauchbare Kurven kann man auch rein softwaremäßig errechnen. Das Verfahren ist zwar aufwendiger, aber auch viel leistungsfähiger.

### Hüllkurve 3 (Register 28)

Auch der aktuelle Wert des zu Stimme 3 gehörenden Hüllkurvengenerators ist über dieses Register abgreifbar und kann so zu Modulationszwecken genutzt werden. Auch diese Funktion werden wir softwaremäßig nachbilden, damit uns Stimme 3 samt Hüllkurve weiterhin voll zur Verfügung steht.

## Das Modulator-Konzept

Die Lebendigkeit von Naturklängen resultiert aus ihrer Unregelmäßigkeit. Keine zwei Perioden gleichen sich wie ein Ei dem anderen. Naturklänge weisen immer Schwankungen in der Lautstärke und in der Tonhöhe auf. Es soll zwar nicht unser Ziel sein, mit dem C 64 Naturklänge nachzumachen (dazu ist der SID-Chip bei weitem nicht in der Lage), man kann aber durch Modulation von SID-Parametern Klänge mit mehr Komplexität, Weichheit und Volumen erzeugen. Zur Modulation geeignete Parameter sind Frequenz, Lautstärke, Filterfrequenz und die Pulsweite bei Rechteckklängen. Da die Pulsweite die spektrale Zusammensetzung eines Rechteckklanges beeinflußt, moduliert man durch die Pulsweite eigentlich die Klangfarbe. Modulation von Frequenz (Vibrato) und Lautstärke (Tremolo) sind auch bei natürlichen Instrumenten zu beobachten. Die Modulation der Filterfrequenz ist dagegen ein typischer Synthesizereffekt. Bild 1 zeigt das Funktionsschema des erweiterten SID-Chips in unserem Konzept. Der rechte untere Teil stellt vereinfacht den SID dar, wie er in der letzten Folge auf Bild 1 schon beschrieben wurde. Nur dieser Teil des Schemas ist in der Hardware realisiert, die anderen Funktionsblöcke werden durch Software verwirklicht. Zuerst sollen die Blöcke funktionell beschrieben werden. Anschließend wird etwas über ihre Ansteuerung gesagt. Im nächsten Teil wird die softwaremäßige Realisierung besprochen. Neben Kenntnissen zur Verwirklichung weiterer Effekte werden dabei auch allgemein nützliche Informationen für Assembler-Programmierer anfallen.

### Modulationsquellen und -Ziele

Als Quellen von Modulationssignalen stehen ein Hüllkurvengenerator und 7 LFOs (Low Frequency Oscillator) zur Verfügung. Der Hüllkurvengenerator, im folgenden EG (Envelope Generator) genannt, erzeugt eine Hüllkurve nach dem ADSR-Schema. Der Hüllkurvenverlauf kann zu jeder Zeit angehalten, zurückgesetzt oder sogar gespiegelt werden. Die 7 LFOs sind identisch aufgebaut. Sie können vier Kurvenformen erzeugen:

Dreieck TRIAN, aufsteigender Sägezahn SAWUP, abfallender Sägezahn SAWDOWN, Rechteck mit einstellbarer Pulsweite SQUARE

Auch bei den LFOs können die Kurvenverläufe jederzeit angehalten und zurückgesetzt werden. Des weiteren sind die Amplituden der Modulationssignale einstellbar. Über diese Amplitude wird die Stärke oder Tiefe, wie man auch sagt, der Modulation gesteuert.

Als Modulationsziele kommen vier Parameter in Frage:

* Frequenzen der drei Stimmen
* Pulsweiten der drei Stimmen
* Filtergrenzfrequenz
* Ausgangslautstärke.

Jede Modulationsquelle kann auf jedes Modulationsziel geschaltet werden. Dazu dient ein sogenannter Kreuzschienenverteiler. Man kann sich diesen als eine Anordnung von acht waagrechten (Zeilen) und acht senkrechten Drähten (Spalten) vorstellen. Dabei sind die Spalten mit den Modulationsquellen und die Zeilen mit den Modulationszielen verbunden. An den 64 Kreuzungspunkten befinden sich Buchsen, an denen man über Kurzschlußstecker beliebige Verbindungen von Modulationsquellen zu Modulationszielen herstellen kann. Dabei werden entlang einer Zeile die Signale von Modulationsquellen gemischt, wo an entsprechender Stelle ein Stecker sitzt.

Im Bild wird zum Beispiel die Frequenz von Stimme 1 durch LFO 0, LFO 3 und LFO 5 gleichzeitig moduliert. Die Filterfre-quenz wird nur vom EG moduliert. Durch das Kreuzschienen-Konzept können Modulationsquellen auch mehrfach genutzt werden. So trägt im Bild zum Beispiel LFO 5 zur Modulation der Frequenz von Stimme 1 bei, moduliert die Pulsweite von Stimme 2 und dazu noch die Ausgangslautstärke.

### Portamento

Bei fast jedem Synthesizer kann man die gespielten Tonhöhen »schleifen« lassen. Das heißt, daß bei zwei aufeinanderfolgenden, verschiedenen Tönen die Frequenz nicht unmittelbar wechselt, sondern in einstellbarer Zeit von der alten zur neuen Tonhöhe kontinuierlich gleitet. Der Portamento-Block verwirklicht dies für alle drei Stimmen. Dabei sind die Portamento-Raten der Stimmen unabhängig voneinander einstellbar.

### Arbeitsweise von »Modulator«

»Modulator« (Listing 1) für sich allein ist noch kein abgeschlossenes Programm so wie der SID alleine noch kein vollständiger Synthesizer ist. SID 6581 und CPU 6510 bilden die hardwaremäßige Grundlage eines Synthesizers, der erst durch Software zum Leben erwacht. Das Steuerprogramm »Modulator« erweitert die Möglichkeiten dieser Hardware durch sinnvolle Effekte und ist als Kern eines später folgenden Synthesizer- und Sequenzerprogramms aufzufassen. Die Effektmöglichkeiten von Modulator allein sind allerdings schon so reichhaltig, daß sie für jede Spiele-Geräuschku-lisse ausreichen dürften, solange man auf vollständige Melodien verzichtet.

### Schritt für Schritt

Damit »Modulator« richtig arbeiten kann, muß es in regelmäßigen Zeitabständen immer wieder aufgerufen werden. Das Programm rechnet alle Modulationsquellen (LFOs und EG) Schritt für Schritt als Folge von Abtastwerten aus. Bei einem Aufruf wird dabei immer genau ein weiterer Abtastwert für alle aktiven Quellen errechnet. Ein Modulationsziel, zum Beispiel Frequenz Stimme 1 gewinnt das Programm dann dadurch, daß die Frequenzvorgabe für Stimme 1 entsprechend dem neuen (aktuellen) Wert der Modulationsquelle nach oben oder unten verschoben wird. Die so errechnete Größe wird dann von »Modulator« in die SID-Register geschrieben. Wenn man mit dem Modulator arbeitet, darf man also die zu modulierenden Größen nicht direkt in den SID schreiben (von dort könnten sie auch gar nicht mehr gelesen werden), sondern muß sie in andere, fest vereinbarte Speicherstellen schreiben, aus denen dann »Modulator« seine Vorgaben bezieht. Nun kann man das Programm nicht einfach in einer Schleife endlos aufrufen. Erstens könnte der Computer dabei nichts anderes mehr tun und zweitens wäre eine solche Aufruffolge zeitlich nicht regelmäßig.

Ein »Modulator«-Schritt benötigt zirka 1 bis 10 ms, je nachdem, wieviele Quellen aktiv sind und wieviele Ziele moduliert werden müssen. Es ist naheliegend, die Aufrufe von »Modulator«-Schrit-ten nicht einem anderen Programm zu überantworten, sondern dazu einen programmierbaren Zeitgeber einzusetzen, der dann in völlig regelmäßiger Folge Aufrufe von »Modulator« auslöst.

### Interrupts

Die beiden CIAs 6526 enthalten insgesamt vier Timer, die sich so programmieren lassen, daß sie in regelmäßigen Zeitabständen Interrupts auslösen. Zum Begriff Interrupt sei hier nur soviel gesagt: Ein Interrupt ist ein Unterprogrammsprung, der nicht von einem laufenden Programm ausgelöst wird, sondern von einem elektrischen Signal, das von außen an die CPU angelegt wird. Es kann dabei nicht vorhergesagt werden, an welcher Stelle im laufenden Programm ein Interrupt eintritt. Die CPU trägt dafür Sorge, daß sie nach Beendigung des durch den Interrupt aufgerufenen Programms an die Stelle im alten Programm zurückfindet, an der sie unterbrochen wurde. Normalerweise erzeugt Timer A von CIA 1 60mal in der Sekunde einen Interrupt, den sogenannten Systeminterrupt. Das dabei aufgerufene Programm fragt die Tastatur ab, läßt den Cursor blinken und aktualisiert die Werte der Zeitveriablen TI und TI$. In gleicher Weise wird nun auch »Modulator« aufgerufen. Da die SID-Parameter nicht kontinuierlich, sondern zeitlich gestuft moduliert werden, sollten die »Mo-dulator«-Zeitschritte möglichst klein sein, damit die Abstufung unhörbar bleibt. Andererseits müssen die Zeitabstände zwischen zwei »Modulator«-Aufru-fen mindestens so groß sein wie der Zeitbedarf eines Modulatorschritts, also mindestens 10 ms. Die Aufruffrequenz des Systeminterrupts von 16,6 ms erweist sich als ein guter Kompromiß. »Modulator« und Systeminterrupt-Programm kann man also durch denselben Interrupt auslösen. Bei 60 Modulationsschritten pro Sekunde ist eine zeitliche Quantelung bei der Klang-qualität des SID nicht hörbar. Zum anderen bleibt der CPU zwischen den Schritten noch Zeit für andere Aufgaben. Werden alle Register bei »Modulator« gezogen, benötigt ein Schritt knapp 10 ms. Da das Systeminterrupt-Programm auch noch etwas Zeit benötigt, ergibt sich so eine CPU-Auslastung von zirka 70 Prozent. Man merkt das daran, daß alle anderen Vorgänge, zum Beispiel das Listen von Programmen stark verzögert ablaufen, wenn der Modulator voll aktiv ist. Man wird in der Praxis allerdings selten alle Modulationsmöglichkeiten gleichzeitig ausnützen.

### Timesharing

Alle Programme, die selbst nicht interruptgetrieben sind, laufen problemlos quasiparallel zusammen mit »Modulator«. Mit dem Problem mehrerer konkurrierender Interrupts werden wir uns in einer späteren Folge im Zusammenhang mit dem Sequenzerprogramm befassen. Die CPU-Belastung durch den Modulator kann man leicht ermitteln, da das Programm bei jedem Schritt seine eigene Laufzeit mißt.

### Ansteuerung von »Modulator«

Um sich mit dem Programm vertraut zu machen, sollte man es bei der Lektüre gleich ausprobieren. Zunächst muß man das Programm mit Hilfe des MSE (in dieser Ausgabe) in den Speicher bringen. Man kann nun mit Hilfe eines Monitors, oder komfortabler, mit dem Testprogramm zu »Modulator« (siehe Listing 2) die Modulationsmöglichkeiten ausprobieren. »Modulator« wird mit SYS 12 x 4096 + 1033 aktiviert. Von da an verbraucht das Programm Rechenzeit, egal ob etwas hörbar ist oder nicht. Abgeschaltet wird Modulator mit SYS 12 x 4096 + 1046. »Modulator« wird wie der SID über Registerinhalte gesteuert. Der Inhalt von 73 Speicherstellen nimmt Einfluß auf »Modulator« und darüber hinaus auch auf den SID. Im Registerschema in Bild 2 kann man zwischen Steuerparametern und dynamischen Parametern unterscheiden. Steuerparameter werden von »Modulator« nur gelesen. Über sie wird das Programm gesteuert. Dynamische Parameter werden ständig verändert. Durch Auslesen dieser Werte kann man beobachen, wie »Modulator« arbeitet. Man kann diese Register natürlich auch beschreiben. Dadurch greift man direkt in die Arbeit von »Modulator« ein. Für weitere Spezialeffekte kann das sinnvoll sein. Mehr davon im nächsten Teil.

Da die meisten SID-Register von »Modulator« gesteuert werden, muß man nur noch wenige direkt ansprechen. Es sind dies:
Die Kontrollregister: 4, 11, 18
ADSR-Register: 5, 6, 12, 13, 19, 20
Resonanz/Filter: 23
Die Leseregister: 25, 26, 27, 28

Die anderen SID-Register findet man mit ähnlichem Aufbau unter den Steuerparametern von »Modulator«. Das Basic-Testprogramm enthält einen vollständigen Parametersatz für SID und »Modulator« in den Zeilen 20 bis 41. Diese Zeilen sind so gestaltet, daß sie mit LIST -41 gerade einen Bildschirm füllen. Die DATA-Zeilen sind mit Kommentaren durchsetzt, so daß man den Zusammenhang mit dem Registerschema in Bild 2 leicht herstellen kann. Beim Testprogramm geht man am besten so vor:

— Modulator laden
— Testprogramm laden
- LIST -41

Jetzt kann man den Parametersatz studieren und verändern.

— Cursor auf die Zeile mit READY bringen
- RUN (SPACE), (SPACE)

Dadurch bleibt der DATA-Block am Bildschirm stehen. Nach einiger Zeit wird die Dauer eines »Modulator«-Schrittes und die daraus resultierende CPU-Belastung angezeigt. Jetzt kann man mit den Tasten Fl, F3, F5 Stimme 1, 2, oder 3 auswählen und über die oberen beiden Tastenreihen einen Ton erklingen lassen. Der Ton klingt so lange weiter, bis mit der SPACE-Taste das GATE-Bit der gewählten Stimme zurückgesetzt wird. Das GATE-Bit des Software-EG wird ebenfalls gesetzt und rückgesetzt. Das einfache Basic-Programm reagiert nicht gerade flott, es ist aber auch nur zum Experimentieren mit »Modulator«-Klangbildern gedacht, nicht für virtuoses Spiel. Mit RUN/STOP wird das Programm abgebrochen. Während »Modulator« weiterarbeitet, kann man die Parameter in den DATA-Zeilen ändern, um das Programm neu zu starten.

### Die Parameter

Es gibt zunächst drei identische Blöcke für die drei Stimmen. Frequenz **F** und Pulsweite **PW** sind die gleichen 16 (beziehungsweise 12)-Bit-Größen wie beim SID. Das Byte **PORTA** steuert das Tempo, mit dem verschiedene Tonhöhen ineinander übergehen:

PORTA = 1 sehr langsam
PORTA = 255 sehr schnell
PORTA = 0 kein Portamento

**FP** ist ein dynamischer Wert. Er enthält die aktuelle Frequenz, die gemäß der PORTA-Rate immer in Richtung F gezogen wird, bis F und FP übereinstimmen.

**FILT** enthält, wie beim SID, die Grenzfrequenz in der Aufteilung: 3 niederwertige Bits und 8 höherwertige Bits.

**MOD/LAUT** entspricht genau dem SID-Register 24.

Der Kreuzschienen-Verteiler wird durch 8 Bytes realisiert. Ein Byte entspricht einer Zeile im KSV (Kreuzschienenverteiler). Die 8 Bitpositionen entsprechen den Spalten des KSV. Eine 1 an Bitposition N in Byte M entspricht einem Kurzschlußstecker an Spalte N und Zeile M.

Die sieben LFOs werden durch sieben gleichartige Blöcke gesteuert.

**LFOF** Mit 16 Bit kann die LFO-Frequenz sehr fein im Bereich 0-60 Hz eingestellt werden. Oberhalb von 10 Hz ergeben sich Aliasing-Effekte über die in der nächsten Folge noch etwas gesagt werden wird.

**LFOP** Dieses Byte steuert die Pulsweite, wenn als Kurvenform SQARE gewählt wurde. LFOP = 128 ergibt ein symmetrisches Rechteck.

**LFOA** steuert die Amplitude des LFO-Signals. LFOA = 103 entspricht übrigens einer Frequenzmodulation um eine Oktave. LFOA = 0 ist nicht sinnvoll, da der LFO dann kein Ausgangssignal liefert, aber Rechenzeit verbraucht.

**LFOC** Dieses Steuerbyte bestimmt Kurvenform und Betriebsart des LFO gemäß Tabelle. RUN ist die normale Betriebsart, HOLD hält den letzten aktuellen Kurvenwert fest und RESET setzt den Kurvenwert in die Neutralstellung 0. In den Betriebsarten HOLD und RESET benötigen die LFOs sehr wenig Rechenzeit. Man sollte daher nicht benötigte LFOs in HOLD oder RESET »betreiben«.

Der **EG-Steuerblock** enthält die gewohnten ADSR-Parameter. A soll sich im Bereich 0..128, alle anderen im vollen Bereich 0..255 bewegen.

**EGA** Auch die Amplitude der ADSR-Kurve ist steuerbar.

**EGC** steuet die Betriebsart. Für HOLD und RESET gilt hier das oben Gesagte (auch in Bezug auf die Rechenzeit). GATE hat hier die gleiche Funktion wie auch im SID. Mit ± kann man zwischen einer positiven und negativen Hüllkurve umschalten.

Es folgen sieben dynamische LFO-Blöcke, deren Registerinhalte den aktuellen Kurvenverlauf wiederspiegeln. In **SAWUP** befinden sich die Werte des aufsteigenden Sägezahn mit maximaler Amplitude. Aus ihnen werden die anderen Kurvenformen abgeleitet. In **KURVE** steht der aktuelle Wert der gewählten Kurvenform.

Entsprechendes gilt für die Register **E** und **EKURVE** im dynamischen Hüllkurvenblock. Die Flagge **EPHASE** wird benötigt, um zwischen ATTACK und DECAY zu unterscheiden.

In der nächsten Folge wird das Source-Listing zu »Modulator« besprochen. Wenn man die Arbeitsweise des Programms kennt, kann man seine Möglichkeiten noch weiter ausschlachten, als das über die Steuerregister möglich ist. Außerdem werden wir konkrete Steuerparametersätze besprechen.

(Thomas Krätzig/aa)

# Assembler ist keine Alchimie — Teil 8

Irgendwann brauchen Sie sie bestimmt, die Rechnung mit Fließkommazahlen. Auch den Umgang mit loaischen Ausdrücken wie AND, ORA oder EOR und wie man mit dem Schiebe-Befehl ASL multipliziert, sollen Sie beherrschen. Das alles erfahren Sie im achten Teil dieses Kurses.

Inzwischen wissen Sie ja, daß alle Daten im Computer im Binärformat enthalten sind. Wie man eine normale, ganze Zahl zur binären umrechnet, wurde schon im Grafik-Kurs (64’er, Ausgaben 4 und 5 von 1984) gezeigt. Da aber viele Leser dieses Assemblerkurses die genannten Ausgaben nicht besitzen, soll doch nochmal vorgestellt werden, welcher Rechenweg der einfachste ist. Als Beispiel nehmen wir die Zahl 1985. Man teilt diese Zahl so lange durch 2, bis das Ergebnis 0 wird. Jedesmal notiert man sich den Rest, der entweder 0 oder 1 sein kann:

TODO Tabelle

Auch wenn Sie es noch nicht erkennen: Da steht schon das binäre Ergebnis. Von unten nach oben gelesen, ist das nämlich der Rest:
**111 1100 0001**
Nun reden wir ja von Fließkommazahlen. Also verändern wir unser Beispiel noch etwas. Jetzt soll uns die Zahl 1985,125 interessieren. In der Ausgabe 6/84 haben Sie gelernt, daß man das Komma verschieben kann, um darausbeispielsweise l,985125x 103 zu machen. Wir wollen uns das Verschieben des Kommas aber für etwas später aufheben und zunächst einmal außer dem schon umgewandelten Vorkam-mateil nun auch den Nachkommateil, also die 0,125, ins Binärformat übertragen.

Genauso, wie wir vorhin eine Kettendivision durch 2 verwendet haben, gebrauchen wir nun eine Kettenmultiplikation mit 2. Der gesamte Nachkommateil wird dabei verdoppelt. Entweder ergibt sich dabei eine Vorkommastelle (das ist dann immer eine 1) oder das Ergebnis bleibt kleiner als 1. Wenn sich bei einem solchen Rechenschritt keine Vorkommastelle ergibt, schreibt man an die entsprechende Nachkommastelle der Binärzahl eine 0, andernfalls einel. Es wird so lange verdoppelt, bis keine Nachkommastellen mehr zur Verfügung stehen. Das klingt ziemlich umständlich. Am besten sehen Sie sich das jetzt mal an unserem Beispiel an:
**0,125 x 2 = 0,250**
**1. Nachkommastelle:0**
Beim ersten Verdoppeln hat sich keine neue Vorkommastelle ergeben, deshalb ist die erste Nachkommastelle der Binärzahl eine Null.
**0,25 x 2 = 0,5**
**2. Nachkommastelle:0**
Auch beim zweiten Verdoppeln ermitteln wir keine neue Vorkommastelle, wodurch sich wieder eine Null als Nachkommastelle ergibt.
**0,5 x 2 = 1,0**
**3. Nachkommastelle:1**
Hier hat sich nun eine Vorkommastelle beim Verdoppeln gebildet: Daher taucht als 3. Nachkommastelle unserer Binärzahl eine 1 auf. Gleichzeitig war das die letzte Nachkommastelle, denn unsere Ausgangszahl weist nach dem Komma nun nur noch eine Null auf.

Zur Übung wollen wir noch eine andere Zahl mit Nachkommastellen ins Binärformat überführen, nämlich 0,1.

TODO Tabelle

Jetzt läßt man — das habe ich beim ersten Beispiel noch nicht erwähnt — diese neue Vorkommastelle einfach weg und rechnet wieder mit den Nachkommastellen weiter:

TODO Tabelle

Das kommt Ihnen sicherlich von der 5. Verdoppelung her bekannt vor. Es zeigt sich, daß diese Rechnung nie aufgeht, weil sich eine periodische Zahl ergibt:
**0,000 1100 1100 1100...**

Das kann Ihnen öfters bei der Zahlenumwandlung passieren, daß ein endlicher Dezimalbruch in einen unendlichen periodischen Binärbruch übergeht. Kehren wir zurück zu unserem ersten Beispiel, 1985,125. Die ganze Umwandlung (Vorkom-ma- und Nachkommaanteil) führte zu:
**111 1100 0001,001**

Der dritte Schritt der Verwandlung von der Dezimalzahl zum Binärformat (nach l.=Vor-kommaanteil umwandeln, 2.= Nachkommaanteil umwandeln) ist das sogenannte Normalisieren. Das ist einfach das Verschieben des Kommas nach links (wie in unserem Beispiel) oder rechts, so lange, bis vor dem Komma nur noch Nullen stehen und direkt hinter ihm eine 1. In der Ausgabe 2 (1985) haben wir gelernt, daß für jede Stelle, die das Komma nach links wandert, der Exponent um 1 höher wird. Unser Exponent ist im Moment noch Null (2° ist ja 1). Um also nach der Regel zu normalisieren, wird das Komma um 11 Stellen nach links verschoben. Der Exponent ist dann l(dez) und unsere Zahl erscheint im neuen Gewand:
**0.1111 1000 0010 01 E+1011**
E +1011 heißt dabei Exponent, und wird im Binärformat dargestellt (10011 (bin.) ≙ 11 (dez.)). So weit, so gut. Alles bisher unternommene hat Allgemeingültigkeit. Von nun an aber müssen wir uns spezialisieren auf den Commodore 64 (im VC 20 und einigen anderen Computern ist es aber auch so). Der Exponent kann ja — je nach dem, ob das Komma nach links oder nach rechts zum Normalisieren verschoben wurde — positiv sein (wie bei unserem Beispiel) aber auch negativ. Im Commodore 64 wird zum Exponenten die Zahl 128 addiert. Das ist dann Schritt 4, der im Beispiel zu 138 führt, womit wir schon das Exponentenbyte fertig haben:
Exponent: dez.139 bin.1000 1011 hex.8B

Hätten wir einen negativen Exponenten erhalten, zum Beispiel 20, dann stünde im Exponentenbyte nun dez.1O8, beziehungsweise dasselbe im Binärformat.

Der Rest unserer Zahl, also die Mantisse, wird nun Schritt 5 unterzogen. Zunächst läßt man das Komma weg. Die Binärzahl wird dann auf 4 Byte linksbündig aufgeteilt. In unserem Beispiel erhalten wir so:

TODO Tabelle

Wie Sie sehen, werden die unbenutzten Bits mit Nullen aufgefüllt. Was nun noch nicht berücksichtigt wurde, ist das Vorzeichen der Mantisse. Es ist im Beispiel noch nicht zu erkennen, ob wir +1985,125 oder -1985,125 vorliegen haben. Das gehen wir nun im letzten Schritt (Nummer 6) an. Im Commodore 64 gibt es zwei Möglichkeiten der Speicherung von Fließkommazahlen. Für Schritt 6 muß man sich entscheiden, wo man die Zahl haben will.

Im 6. Teil dieser Serie ist schon mal der FAC erwähnt worden, der Fließkomma-Akkumulator 1, welcher die Speicherstellen dez. 97 bis 102 ($61 bis $66) belegt. Ein zweiter Fließkomma-Akkumulator, AFAC oder ARG genannt, belegt die Plätze dez. 105 bis 110 ($69 bis $6E). Diese Akkumulatoren haben für die Fließkommarechnungen eine ähnliche Bedeutung wie der Akku für die l-Byte-Rechnungen. Dort werden fast alle Ergebnisse abgelegt oder Zahlen abgerufen. Wir sehen, daß wir darin 6 Byte zur Verfügung haben. In Byte 97 liegt der Exponent in der von uns ermittelten Form. Byte 98 bis 101 sind die vier Mantissenbytes. Was ist in Byte 102? Das Vorzeichen! Bit 7 dieses Bytes ist 0, wenn eine positive, und 1 wenn eine negative Zahl vorliegt. Das galt für den FAC, wie Sie aus den Speicherstellen schon gesehen haben. Für den ARG ist das aber ganz genauso. Sehen wir uns nun in Bild 1 unsere Beispielzahl im FAC und im ARG nochmal an.

Im Bild ist auch angedeutet, daß die restlichen 7 Bit (Bits 0 bis 6) des Vorzeichenbytes keine Rolle spielen. Sie werden später direkt in diese Akkumulatoren hineinsehen und allerlei Bit-Müll darin finden. Lediglich Bit 7 ist für uns von Bedeutung.

Eigentlich ist das ja eine ganz schöne Verschwendung, von einem Byte wie diesem Vorzeichenbyte lediglich ein einziges Bit zu nutzen. Wenn eine beliebige Fließkommazahl irgendwo im Computer abgespeichert wird, dann gilt ein anderes Format, das MFLPT-Format (von **M**emory-**FL**oating **P**oin**T**). Man speichert hier nur in 5 Byte. Das Vorzeichenbyte fällt weg. Wie aber merkt sich der Computer das Vorzeichen? Das ist ganz schlau eingefädelt: Es gibt nämlich in den 5 Byte (1 Exponentenbyte + 4 Mantissenbyte) ein überflüssiges Bit. Sie werden sich sicher erstaunt fragen, wo?

Erinnern Sie sich doch bitte zurück an den Schritt 3, das Normalisieren. Dort wurde so verfahren, daß rechts vom Komma eine 1 steht. Wenn da aber immer und ganz grundsätzlich diese 1 steht, dann muß man sie sich eigentlich gar nicht mehr besonders merken. Man kann — vorausgesetzt, man berücksichtigt diese 1 im Bit 7 des ersten Mantissen-Bytes immer bei den Rechnungen — das Bit für andere Zwecke verwenden: Also als Vorzeichenbit. Taucht hier also eine 0 auf, dann liegt eine positive Zahl vor, ist es aber eine 1, dann signalisiert diese eine negative Zahl. Für das MFLPT-Format muß in unserem Beispiel also Bit 7 des ersten Mantissenbytes gelöscht werden (1985,125 ist ja nun mal positiv) und die komplette Zahl sieht im MFLPT-Format so aus:

TODO Tabelle

Der Pfeil weist auf das Vorzeichenbit. Man spricht hier auch vom »gepackten« Format. Damit das alles nun nicht nur graue Theorie bleibt und Sie auch aus eigenem Erleben diese Zahlenformate sehen können, wollen wir hier ein kleines Testprogramm ausprobieren. Es wird Ihnen auch später noch gute Dienste leisten können, wenn Sie mal irgendwelche Zahlen in das FLPT- (also FAC oder ARG) oder ins MFLPT-Format umrechnen müssen. Zu Fuß ist das ja — wie Sie nun wissen — ganz schön haarig! Wie so oft, besteht auch dieses Programm aus einem Basic-Teil, der die Benutzerführung übernimmt und zwei kleinen Maschinenroutinen, die per USR-Vektor angesprungen werden. In diesen Assembler-Programmteilen sind zwei Interpreter-Routinen verborgen, die nützlich und daher erklärenswert sind. Als Listing 1 ist das Basic-Aufrufprogramm abgedruckt.

Es fragt zunächst mal, ob der SMON eingeladen ist. Der wird nämlich aus dem Programm heraus angesprungen. Wird die Frage mit »J« beantwortet, dann zeigt sich ein kleines Menü, andernfalls ist das Programm beendet: Der SMON muß erst eingeladen werden.

Das Menü bietet 3 Optionen: Eine Zahl kann im FAC (Option 1), im ARG (Option 2) oder im MFLPT-Format ab Speicherstelle $6800 (Option 3) betrachtet werden.

Für Option 1 wird der USR-Vektor auf die Einsprungadresse des SMON gestellt und dann mittels USR-Kommando die Zahl Z in den FAC übergeben. Es schaltet sich dann der SMON ein, der nun mittels des Kommandos M 0061 den Inhalt des FAC als Hex-Zahlen zeigt.

Option 2 richtet zunächst den USR-Vektor auf ein kleines Assembler-Programm ab $6000, welches den FAC-Inhalt in den ARG schiebt, dann den USR-Vektor auf den SMON richtet und schließlich auch diesen einschaltet. Auch hier wird mit dem M-Kommando dann per M 0069 der ARG-Inhalt sichtbar. Option 3 richtet den USR-Vektor auf eine Maschinenroutine, die bei $6100 beginnt. Dort wird der FAC-Inhalt nach $6800 und folgende Speicherstellen verschoben und zwar ins MFLPT-Format. Anschließend erfolgt dann wieder das Ausrichten des USR-Vektors auf den SMON, Anschalten des SMON, wo man durch M 6800 den Inhalt ansehen kann.
Folgende Vorgehensweise empfehle ich Ihnen:
1. Einladen des SMON
2. Eintippen der beiden kleinen Assembler-Routinen mit Hilfe des SMON und Abspeichern (man kann einfach mit dem SMON-Kommando S»Programm-name«,6000,610A speichern).
2a. Wenn Sie die beiden Routinen schon gespeichert vorliegen haben, dann laden Sie sie jetzt ein. Jedenfalls sollten Sie nach dem Laden beider Assembler-Programme (SMON und die beiden Routinen) ein NEW eingeben, so daß alle Zeiger zurückgestellt werden.
3. Erst jetzt Laden oder Eintippen des Basic-Aufrufprogrammes.

Wenn Sie nun das Testprogramm starten und zum Beispiel unsere Zahl 1985,125 eingeben, werden Sie folgendes finden:
Option 1:
M0061
:0061 8B F8 24 00 00 78 00 00
Option 2:
M0069
:0069 8B F8 24 00 00 78 D4 CE
Option 3:
M6800
:6800 8B 78 24 00 00 FF FF FF
TODO

Die Bytes, welche zu unserer Zahl gehören, sind unterstrichen. Sie können jeweils nach RUN/STOP noch mit dem SMON-Kommando $8B (oder eine andere Sie interessierende Hexzahl) eine Ausgabe im Binär-und im Dezimalformat erreichen.

So, nun aber endlich zu den beiden Assembler-Routinen. Zur Option 2 gehört das folgende, bei $6000 beginnende Programm:
**6000 JSR BCOC**

$BC0C ist die erste Interpreter-Routine, die wir uns zunutze machen. Sie schiebt den Inhalt vom FAC in den ARG Mehr dazu später.

6003	LDA	#00
6005	STA	0311
6008	LDA	#C0
600A	$TA	0312
TODO

Damit haben wir den USR-Vektor auf $C000 gestellt.
**600D JMP C000**

Das war das Einschalten des SMON. Im Grunde genommen könnten wir uns das Stellen des USR-Vektors ersparen

Es ist aber sinnvoll — vor allem bei langen Programmen — wenn verstellte Vektoren nach Beendigung des Programmes auf einem definierten Wert stehen.

Nun noch die Routine für Option 3:

6100	LDX	#00
6102	LDY	#68
6104	JSR	BBD4
TODO

Auch das ist wieder eine Interpreter-Routine: Sie schiebt den FAC-Inhalt in einen Speicherbereich, dessen Startbyte durch die beiden Index-Register angegeben wird (X-Register für LSB, Y-Register für MSB, hier also 6800). Dabei wird die Zahl vom FLPT-Format in das MFLPT-Format umgewandelt. Das Progrämmchen schließen wir ab mit einem Sprung zum Rest der ersten Routine:
**6107 JMP 6003**

Sehen Sie sich mal einige Zahlen im Fließkomma-Format an. Fast alle Operationen mit Zahlen vollführt unser Computer mit diesen Fließkommazahlen. Das ist dann beispielsweise der Grund dafür, daß aus einer Basic-Zeile wie der folgenden:
**IF INT(X*1O)=INT(ABS(X*lO))THEN ...**
auch bei positiven X-Werten (wo man mathematisch Gleichheit feststellt) manchmal die Bedingung als nicht erfüllt erkannt wird. X wird sofort als Fließkommazahl in den FAC gelegt, mit einer Fließkomma-Zehn multipliziert, der ABS-Wert wird ebenfalls per Fließkomma-Arithmetik ermittelt und so weiter. Dabei treten häufig Rundungsprobleme auf, wenn ein Zwischenergebnis mehr als 32 signifikante binäre Nachkommastellen aufweist (wie wir es ja zum Beispiel beim periodischen Binärbruch gesehen haben, der sich aus der simplen Dezimalzahl 0,1 ergibt). Das Rechnen mit Fließkommazahlen im Computer öffnet zwar einen ungeheuren Zahlenraum für unsere Anwendungen, es geht aber viel langsamer als die 2-Byte-Arithmetik. Immerhin müssen hier jedesmal 6 Byte (beziehungsweise 5 bei MFLPT) berücksichtigt werden. Ich glaube aber kaum, daß wir jemals in die Verlegenheit kommen werden, beispielsweise eine Fließkomma-Addition programmieren zu müssen. Eben weil unser C 64 fast alle Zahlenoperationen mit Fließkomma-Formaten durchführt, sind nahezu alle Eventualitäten schon als fertige abrufbare Programme im Interpreter enthalten. Wir müssen nur wissen, wie unsere Zahlen aussehen (das haben Sie nun ja gelernt) und wo und wie man sie für Operationen bereithält und wo und wie man die entsprechenden Routinen finden kann. Einen der wichtigsten Wege, unsere Zahlen ans Maschinenprogramm zu übergeben, haben Sie schon kennengelernt: Das Argument der USR-Funktion landet automatisch im FLPT-Format im FAC.

### Die beiden ersten Interpreter-Routinen

Von nun an sollen nach und nach Interpreter-Routinen vorgestellt werden. Das ist allerdings nicht so einfach wie bei der Kernal-Sprungtabelle. Es gibt für die letzteren viele recht gut dokumentierte Listen. Für die Interpreter-Routinen ist kaum Literatur vorhanden. Will man ähnlich erfassen wie die Kernal-Routinen, dann muß man ROM-Listings wälzen und vor allem probieren, probieren ... Falls Sie also mal einen Fehler in der Beschreibung feststellen oder Dinge, die ich leer lassen muß, weil mir dazu die Erleuchtung noch nicht gekommen ist, selbst schon kennen, dann schreiben Sie mir. Gemeinsam haben wir vielleicht die Chance, auch die letzte im Interpreter versteckte Nuß noch zu knacken!

Nun also zur ersten schon verwendeten Routine:

TODO Tabelle

Diese Routine ist deswegen so wichtig, weil viele Rechenoperationen, die zwei Zahlen verknüpfen, zwischen dem FAC und dem ARG abgewickelt werden. Wenn Sie unser kleines Testprogramm mal mit der Option 2 laufen lassen und hinterher nicht nur mit M0069 in den ARG, sondern auch mit M0061 in den FAC hineinsehen, dann stellen Sie fest, daß der FAC-Inhalt noch immer vorhanden ist.

Allerdings ist das nicht immer der Fall. **MOVAF** rundet nämlich — wenn nötig — vorher noch den FAC-Inhalt, der dann natürlich anders aussieht.

Fast noch häufiger benutzt man die zweite Interpreter-Routine:

TODO Tabelle

Außer den unter »Speicherstellen« genannten sind natürlich auch noch die Zieladresse und deren vier nachfolgende Bytes in die Routine einbezogen (das MFLPT-Format besteht ja aus 5 Byte). $22/23 ist ein für die Operation verwendeter Zeiger.

MOVMF wird häufig dann verwendet, wenn Werte, aus welchen Gründen auch immer, außerhalb der Fließkomma-Akkumulatoren gelagert werden müssen.

Es wird Ihnen vielleicht aufge-fallen sein, daß im Gegensatz zur Beschreibung der Kernal-Routinen — die Rubrik »Fehler« fehlt. Der Grund ist, daß es keine solchen Sicherungen bei den Interpreter-Routinen gibt. Was passieren kann, ist unter bestimmten Bedingungen das Ansteuern von normalen Basic-Fehlermeldungen, die aber nicht immer den tatsächlichen Zustand wiedergeben. Wenn Ihnen mal bei der Programmierung mit Interpreter-Routinen Zweifel aufkommen, dann verfolgen Sie lieber den Programmweg mittels eines ROM-Listing und schalten Sie eigene Fehler-Routinen ein. Das war aber nur für die Fortgeschrittenen gesagt. Wir werden uns erst nach und nach dahin vortasten. Zunächst fehlen uns ja noch ein paar Assembler-Kenntnisse. Mit dem nächsten Abschnitt soll das besser werden.

### Assembler-Befehle zum Beherrschen von Bits

Bevor wir damit anfangen, muß ich Ihnen noch sagen, daß Sie sich Zeit lassen sollten. Das Pensum, das ich Ihnen heute zumute, ist wirklich ganz gewaltig. Zunächst sehen wir uns die logischen Befehle AND, ORA und EOR an, dann Bit-Schiebereien mittels ASL. LSR, ROL und ROR sollen uns dann in der nächsten Ausgabe beschäftigen.

Fangen wir also mit AND an. AND verknüpft den Akku-Inhalt Bit für Bit mit dem angegebenen Wert nach den Regeln der logischen UND-Verknüpfung. Die Adressiermöglichkeiten dieses Befehls sind allerlei:

TODO Tabelle

Damit haben wir eine ganze Menge an Möglichkeiten. Erinnern Sie sich noch an die Regeln einer UND-Verknüpfung? Wenn nicht, dann sehen Sie sich nochmal die Tabelle 1 an.

Sie erkennen, daß zwei miteinander AND-verknüpfte Bits nur dann als Ergebnis 1 haben, wenn in beiden Bits der Wert 1 steht. Man kann mittels AND ganz gezielt Bits löschen. Nehmen wir mal als Beispiel an, wir wollten geshiftete Zeichen (das sind die mit den Codes größer als 128) in normale Zeichen umwandeln. Dazu bringen wir die Zeichencodesin den Akku und löschen Bit 7. Übrig bleibt dann der Code für das ungeshiftete Zeichen. Für das Löschen von Bit 7 brauchen wir eine sogenannte UND-Maske, die dafür sorgt, daß alle anderen Bits unverändert bleiben. An den Stellen muß in dieser Maske also eine 1 stehen (denn 0 AND 1 ergibt 0, 1 AND 1 ergibt 1). Lediglich Bit 7 der Maske muß 0 sein. Die Maske muß also heißen:
**0111 1111 $7F dez. 127**

Nehmen wir an, im Akku befände sich der Code für ein ge-shiftetes A, also dez. 193 (binär 1100, 0001, $C1), dann ergibt die AND-Verknüpfung mit der Maske:

TODO

Normales A (Code dez. 65, $41)

Man kann also, je nach Wahl der Maske, beliebige Bits löschen.

AND ist, je nach der gewählten Adressierungsart, ein 2-oder 3-Byte-Befehl. Weil das Ergebnis im Akku steht, können Flaggen beeinflußt werden. Die N- und die Z-Flagge reagieren auf das Ergebnis.

Im Gegensatz zu Basic, wo es nur eine ODER-Verknüpfung gibt, nämlich OR, existieren im Assembler zwei davon. Man unterscheidet ein »inklusives« und ein »exklusives« ODER. Die inklusive ODER-Verknüpfung des Akku mit den angegebenen Daten geschieht mit dem Assembler-Befehl ORA. ORA entspricht dem Basic-Befehl OR. Alle Adressierungsarten, die dem AND-Befehl offenstehen, können auch auf ORA angewendet werden. Wenn man Bits ORA-verknüpft, findet man folgende Ergebnisse:

TODO

Auch hier ist eine sogenannte Wahrheitstabelle recht einprägsam (siehe Tabelle 2).

TODO

Während man mit AND gezielt Bits löschen kann, ist es mit ORA möglich, Bits zu setzen. Auch dazu verwendet man eine Maske, die an allen Stellen, an denen Bits unverändert bleiben sollen, eine 0, sonst aber eine 1 enthält. Nehmen wir nochmal das Beispiel von vorhin und wandeln nun das ungeshiftete Zeichen in ein geshiftetes um. Wir müssen also Bit 7 wieder setzen: Da muß in der Maske dann eine 1 stehen. Alle anderen Bits bleiben unverändert, wenn die Maske dort eine Null aufweist. Die Maske muß daher heißen:
**1000 0000 $80 dez. 128**

Im Akku soll das ungeshiftete B stehen (Code dez. 66, $42, bin. 0100 0010). Die Rechnung sieht dann so aus:

TODO

Code für geshiftetes B.

Je nach Art der Maske kann man also ein oder mehrere Bits setzen. Im Beispiel ist auch der Einfluß dieses Befehls auf die Flaggen zu erkennen. Der Akku-Inhalt vor der ORA-Operation hatte kein Bit 7, also keine gesetzte N-Flagge. Danach ist Bit 7 gesetzt und die N-Flagge zeigt eine 1. Außer der N-Flagge kann — ebenso wie beim AND-Befehl — auch noch die Z-Flagge reagieren. ORA ist je nach Adressierungsart ein 2-oder 3-Byte-Befehl.

Während zwei Bits in der ORA-Verknüpfung eine 1 ergeben, wenn sie beide gesetzt sind oder eines von beiden, schließt die EOR-Verknüpfung den ersten Fall aus. EOR ist die exklusive ODER-Verknüpfung. Sie läßt sich sprachlich erfassen im »entweder ... oder ...«, also beispielsweise: Beim Roulette fällt die Kugel entweder aufRouge oder auf Noir, beides zusammen ist nicht möglich. Die Regeln bei EOR sind also:

0	EOR	0	= 0
0	EOR	1	= 1
1	EOR	0	= 1
1	EOR	1	= 0
TODO

Eine Wahrheitstabelle dazu sehen Sie in Tabelle 3.

Wozu verwendet man EOR? Es fällt Ihnen vielleicht auf, daß wir die aus Basic bekannte NOT-Funktion nicht in Assembler vorliegen haben. Obwohl EOR einige viel weitergehendere Verwendungsmöglichkeiten aufweist als NOT (aber auf Boolesche Algebra wollen wir hier nicht eingehen), kann man es mit gleicher Wirkung einsetzen. Wir haben beispielsweise in den ersten Folgen dieses Kurses negative Zahlen durch Komplementieren erzeugt. Dabei sollte jedes Bit in sein Gegenteil verkehrt werden. Das wäre die Aufgabe einer NOT-Funktion. Durch ein EOR FF können wir dasselbe erreichen. Sehen wir uns wieder ein Beispiel an. Im Akku steht dez. 15 ($0F, bin. 0000 1111):

TODO
Einerkomplement von dez. 15.

Auch EOR kann alle Adressierungsarten verkraften, die die beiden anderen logischen Assembler-Befehle erlauben. Je nach der gewählten Art liegt dann ein 2- oder 3-Byte-Befehl vor. Auch hier werden die Z- und die N-Flagge beeinflußt.

Das waren also die logischen Befehle. Leider ist hier nicht der geeignete Ort, die Vielseitigkeit, die damit möglich ist, deutlich zu machen. Wenn Sie sich dafür interessieren, sollten Sie mal etwas über Boolesche Algebra lesen oder eine Einführung in die mathematische Logik.

Um dieses Thema abzuschließen, soll noch erwähnt werden, daß der Basic-Interpreter so eingerichtet ist, daß er immer dann, wenn die Richtigkeit einer Aussage zu überprüfen ist, mit —1 antwortet bei wahrer Aussage, dagegen mit 0 bei falscher. Auf diese Weise kommen diese merkwürdigen Basic-Programm-zeilen ins rechte Licht, in denen Sequenzen auftauchen wie: C = A-161-33*(A< 255)-64*(A < 192)-32*(A <160) + 32*(A < 96)-64*(A < 64).

Jedesmal, wenn zum Beispiel A < 64 ist, tritt anstelle der Klammer ein —1 auf. Übrigens ist diese Formel eine schöne kurze Möglichkeit, ASCII-Code (hier A als Variable) in den Bildschirmcode umzurechnen (der Bildschirmcode steht dann in der Variablen C).

Kommen wir nun zur zweiten Gruppe von Assembler-Befehlen, die Bit-Manipulationen erlauben: den Verschiebe-Befeh-len. Fangen wir dabei mit ASL an, was vom englischen »arithmetic shift left« kommt. Zu deutsch heißt das dann »arithmetisches nach links schieben«. Davon sind wir aber auch noch nicht schlauer. Sehen wir uns an, was dieser Befehl tut (Bild 2).

Der gesamte Inhalt des Akku beziehungsweise der Speicherstelle (je nach Adressierung) wird um eine Bit-Position nach links verschoben. Das vorherige Bit 7 wandert in die Carry-Flagge, alle anderen Bits erhalten eine um 1 höhere Position, das freigewordene Bit 0 wird mit einer 0 aufgefüllt. Toll! Aber was soll das? Zur Erklärung machen wir nochmal einen kurzen Ausflug zu unserem normalen dezimalen Zahlensystem. Nehmen wir mal die Zahl 123. Bei der Einführung in die Fließkommazahlen hatten wir das Komma zu verschieben gelernt. 123 ist ja dasselbe wie 123,00. Wenn wir das Komma um eine Stelle nach rechtsverschieben, erhaltenwir 1230,0 (dabei lassen wir jetzt mal den Exponenten außer acht, der wäre ja —1, weil 123,00 = 1230,0 xl0-1). Man kann das Ganze auch andersherum sehen: Wir haben die Zahl 123 eine Stelle nach links verschoben und die freigewordene Stelle ganz rechts mit einer Null aufgefüllt. 1230,0 ist das Zehnfache von 123,00. Die Verschiebung um eine Stelle nach links hat also zur Multiplikation unserer Zahl mit der Basis unseres Zahlensystems (also 10) geführt. Eine zweimalige Links-verschiebungführtzu 12300, den 100fachen Wert unserer Ausgangszahl. Wir haben also die Zahl 123,00mal 10mal 10genom-men, das sind 102. Jede Linksverschiebung erhöht unseren Ausgangswert um eine Zehnerpotenz, oder — anders ausgedrückt — erhöht den Multiplikator um eine Zehnerpotenz und deshalb natürlich auch das Ergebnis (einmal linksschieben: Multiplikator = 10 = 104, zweimal linksschieben: Multiplikator: 100 = 102 und so weiter).

Im Binärsystem, zu dem wir nun wieder zurückkehren, ist die Zahlenbasis die Zahl 2. Einmal linksschieben entspricht dann einer Multiplikation mit 21 = 2. Das zweimalige Linksschieben führt zur Multiplikation mit 22 = 4 und so weiter. Nehmen wir als Beispiel die Zahl 3, welche am Binärsystem 0000 0011 heißt:

Bis jetzt landete im Carry-Bit immer eine Null. Wenn wir nun nochmal linksschieben, finden wir darin eine 1, die offensichtlich als Bit 8 unseres Ergebnisses dienen muß:

7.	ASL (1) 1000 0000 = (mit Carry als Bit 8) dez. 384 (2x192 = 384, 27x3 = 128x3 = 384
TODO

Daraus folgt, daß immer dann, wenn man sich nicht hundertprozentig sicher ist, eine Abfrage des Carry-Bits erfolgen sollte, sofern man ASL zum Rechnen einsetzt (BCC beziehungsweise BCS bieten sich da an). Dazu kommen wir noch. Sehen wir uns zunächst mal an, wie ASL adres-siebar ist:

ASL
ohne Adresse, der Akkuinhalt wird nach links verschoben. Manchmal als eigene Adressierungsart bezeichnet.
ASL	6000
absolut
ASL	FE
Zeropage-absolut
ASL	6000,X
absolut-X-indiziert
ASL	FA,X
Zeropage-absolut-X-indiziert
TODO

Je nach Adressierung tritt ASL dann als 1-, 2- oder 3-Byte-Befehl auf. Die N-, die Z- und die Carry-Flagge werden beeinflußt. Das Ergebnis steht bei der ersten Adressierungsart (also ASL ohne Adresse) im Akku. In den anderen Fällen findet man es in der jeweiligen Speicherstelle.

Nun gut, werden Sie sagen, man kann also mittels ASL Zahlen mit 2, 4, 8, 16 32 etc. multiplizieren. Was aber, wenn man mal 40 nehmen will? Da gibt es einige Möglichkeiten, die ein bißchen den Erfindungsgeist ansprechen. Man kann ja, wenn irgendeine Zahl Z mal 40 gerechnet werden soll, dafür schreiben:
40xZ = (32 + 8)xZ = 32xZ + 8xZ

Schon haben wir wieder Multiplikatoren, die den Einsatz von ASL ermöglichen. Die beiden Zwischenergebnisse (als 32xZ und 8xZ) speichern wir irgendwo ab und zählen sie dann zusammen. Wenn Z zum Beispiel 3 wäre, könnte man das so programmieren:

6000 STA 6100

Jetzt liegt im Akku der 32fache Wert von 3, also 96 vor und wir speichern dieses Zwischenergebnis ab.

6008 STA 6101
600B LDA 6100

Wir haben nun den Wert 3 aus dem Zwischenspeicher $6100 wieder in den Akku geholt und schieben ihn 3mal nach links um den 8fachen Wert zu erhalten.

600E	ASL
600F	ASL
6010	ASL

Nun erfolgt das Zusammenzählen beider Zwischenergebnisse. Dabei ist ja 8xZ noch im Akku.

6011	CLC
6012	ADC 6101

Damit ist die Aufgabe gelöst. Das Ergebnis steht im Akku und kann nun weiter verwendet werden.

Auf diese Weise kann man immer einen Mulitplikator in eine Zweierpotenz (2, 4, 8, 16,...) und weitere Summanden zerlegen. Dies ist allerdings eine zwar schnelle, aber doch recht eingeschränkte Art der Multiplikation. Außerdem haben Sie noch nicht erfahren, wohin man denn nun am besten mit BCC verzweigt, wenn die 8 Bits des Ergebnisses überlaufen.

Das alles aber, liebe Leser, erfahren Sie erst beim nächsten mal. Für heute war’s lang und schwer genug! Wir werden dann einen eleganten Weg der 16-Bit-Multiplikation und Division erarbeiten. Und unser Programmprojekt soll natürlich endlich weiter gedeihen. Abschließend finden Sie in Tabelle 4 noch alles Wissenswerte zu den neuen Befehlen.

(Heimo Ponnath/gk)
















